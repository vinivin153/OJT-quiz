(function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const Ai of document.querySelectorAll('link[rel="modulepreload"]'))Ke(Ai);new MutationObserver(Ai=>{for(const ln of Ai)if(ln.type==="childList")for(const dn of ln.addedNodes)dn.tagName==="LINK"&&dn.rel==="modulepreload"&&Ke(dn)}).observe(document,{childList:!0,subtree:!0});function ze(Ai){const ln={};return Ai.integrity&&(ln.integrity=Ai.integrity),Ai.referrerPolicy&&(ln.referrerPolicy=Ai.referrerPolicy),Ai.crossOrigin==="use-credentials"?ln.credentials="include":Ai.crossOrigin==="anonymous"?ln.credentials="omit":ln.credentials="same-origin",ln}function Ke(Ai){if(Ai.ep)return;Ai.ep=!0;const ln=ze(Ai);fetch(Ai.href,ln)}})();function getDefaultExportFromCjs(qe){return qe&&qe.__esModule&&Object.prototype.hasOwnProperty.call(qe,"default")?qe.default:qe}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var qe=Symbol.for("react.transitional.element"),f=Symbol.for("react.fragment");function ze(Ke,Ai,ln){var dn=null;if(ln!==void 0&&(dn=""+ln),Ai.key!==void 0&&(dn=""+Ai.key),"key"in Ai){ln={};for(var gn in Ai)gn!=="key"&&(ln[gn]=Ai[gn])}else ln=Ai;return Ai=ln.ref,{$$typeof:qe,type:Ke,key:dn,ref:Ai!==void 0?Ai:null,props:ln}}return reactJsxRuntime_production.Fragment=f,reactJsxRuntime_production.jsx=ze,reactJsxRuntime_production.jsxs=ze,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var qe=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),ze=Symbol.for("react.fragment"),Ke=Symbol.for("react.strict_mode"),Ai=Symbol.for("react.profiler"),ln=Symbol.for("react.consumer"),dn=Symbol.for("react.context"),gn=Symbol.for("react.forward_ref"),Hn=Symbol.for("react.suspense"),Kn=Symbol.for("react.memo"),Qn=Symbol.for("react.lazy"),ys=Symbol.iterator;function vs(pa){return pa===null||typeof pa!="object"?null:(pa=ys&&pa[ys]||pa["@@iterator"],typeof pa=="function"?pa:null)}var Cs={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bs=Object.assign,ia={};function la(pa,xa,Oa){this.props=pa,this.context=xa,this.refs=ia,this.updater=Oa||Cs}la.prototype.isReactComponent={},la.prototype.setState=function(pa,xa){if(typeof pa!="object"&&typeof pa!="function"&&pa!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,pa,xa,"setState")},la.prototype.forceUpdate=function(pa){this.updater.enqueueForceUpdate(this,pa,"forceUpdate")};function ra(){}ra.prototype=la.prototype;function sa(pa,xa,Oa){this.props=pa,this.context=xa,this.refs=ia,this.updater=Oa||Cs}var na=sa.prototype=new ra;na.constructor=sa,bs(na,la.prototype),na.isPureReactComponent=!0;var aa=Array.isArray,oa={H:null,A:null,T:null,S:null,V:null},ha=Object.prototype.hasOwnProperty;function ga(pa,xa,Oa,Ja,rl,hl){return Oa=hl.ref,{$$typeof:qe,type:pa,key:xa,ref:Oa!==void 0?Oa:null,props:hl}}function va(pa,xa){return ga(pa.type,xa,void 0,void 0,void 0,pa.props)}function Sa(pa){return typeof pa=="object"&&pa!==null&&pa.$$typeof===qe}function tl(pa){var xa={"=":"=0",":":"=2"};return"$"+pa.replace(/[=:]/g,function(Oa){return xa[Oa]})}var Zo=/\/+/g;function Ta(pa,xa){return typeof pa=="object"&&pa!==null&&pa.key!=null?tl(""+pa.key):xa.toString(36)}function Qa(){}function $a(pa){switch(pa.status){case"fulfilled":return pa.value;case"rejected":throw pa.reason;default:switch(typeof pa.status=="string"?pa.then(Qa,Qa):(pa.status="pending",pa.then(function(xa){pa.status==="pending"&&(pa.status="fulfilled",pa.value=xa)},function(xa){pa.status==="pending"&&(pa.status="rejected",pa.reason=xa)})),pa.status){case"fulfilled":return pa.value;case"rejected":throw pa.reason}}throw pa}function Ma(pa,xa,Oa,Ja,rl){var hl=typeof pa;(hl==="undefined"||hl==="boolean")&&(pa=null);var al=!1;if(pa===null)al=!0;else switch(hl){case"bigint":case"string":case"number":al=!0;break;case"object":switch(pa.$$typeof){case qe:case f:al=!0;break;case Qn:return al=pa._init,Ma(al(pa._payload),xa,Oa,Ja,rl)}}if(al)return rl=rl(pa),al=Ja===""?"."+Ta(pa,0):Ja,aa(rl)?(Oa="",al!=null&&(Oa=al.replace(Zo,"$&/")+"/"),Ma(rl,xa,Oa,"",function(Yl){return Yl})):rl!=null&&(Sa(rl)&&(rl=va(rl,Oa+(rl.key==null||pa&&pa.key===rl.key?"":(""+rl.key).replace(Zo,"$&/")+"/")+al)),xa.push(rl)),1;al=0;var Tl=Ja===""?".":Ja+":";if(aa(pa))for(var Cl=0;Cl<pa.length;Cl++)Ja=pa[Cl],hl=Tl+Ta(Ja,Cl),al+=Ma(Ja,xa,Oa,hl,rl);else if(Cl=vs(pa),typeof Cl=="function")for(pa=Cl.call(pa),Cl=0;!(Ja=pa.next()).done;)Ja=Ja.value,hl=Tl+Ta(Ja,Cl++),al+=Ma(Ja,xa,Oa,hl,rl);else if(hl==="object"){if(typeof pa.then=="function")return Ma($a(pa),xa,Oa,Ja,rl);throw xa=String(pa),Error("Objects are not valid as a React child (found: "+(xa==="[object Object]"?"object with keys {"+Object.keys(pa).join(", ")+"}":xa)+"). If you meant to render a collection of children, use an array instead.")}return al}function ua(pa,xa,Oa){if(pa==null)return pa;var Ja=[],rl=0;return Ma(pa,Ja,"","",function(hl){return xa.call(Oa,hl,rl++)}),Ja}function ya(pa){if(pa._status===-1){var xa=pa._result;xa=xa(),xa.then(function(Oa){(pa._status===0||pa._status===-1)&&(pa._status=1,pa._result=Oa)},function(Oa){(pa._status===0||pa._status===-1)&&(pa._status=2,pa._result=Oa)}),pa._status===-1&&(pa._status=0,pa._result=xa)}if(pa._status===1)return pa._result.default;throw pa._result}var ca=typeof reportError=="function"?reportError:function(pa){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var xa=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof pa=="object"&&pa!==null&&typeof pa.message=="string"?String(pa.message):String(pa),error:pa});if(!window.dispatchEvent(xa))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",pa);return}console.error(pa)};function da(){}return react_production.Children={map:ua,forEach:function(pa,xa,Oa){ua(pa,function(){xa.apply(this,arguments)},Oa)},count:function(pa){var xa=0;return ua(pa,function(){xa++}),xa},toArray:function(pa){return ua(pa,function(xa){return xa})||[]},only:function(pa){if(!Sa(pa))throw Error("React.Children.only expected to receive a single React element child.");return pa}},react_production.Component=la,react_production.Fragment=ze,react_production.Profiler=Ai,react_production.PureComponent=sa,react_production.StrictMode=Ke,react_production.Suspense=Hn,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oa,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(pa){return oa.H.useMemoCache(pa)}},react_production.cache=function(pa){return function(){return pa.apply(null,arguments)}},react_production.cloneElement=function(pa,xa,Oa){if(pa==null)throw Error("The argument must be a React element, but you passed "+pa+".");var Ja=bs({},pa.props),rl=pa.key,hl=void 0;if(xa!=null)for(al in xa.ref!==void 0&&(hl=void 0),xa.key!==void 0&&(rl=""+xa.key),xa)!ha.call(xa,al)||al==="key"||al==="__self"||al==="__source"||al==="ref"&&xa.ref===void 0||(Ja[al]=xa[al]);var al=arguments.length-2;if(al===1)Ja.children=Oa;else if(1<al){for(var Tl=Array(al),Cl=0;Cl<al;Cl++)Tl[Cl]=arguments[Cl+2];Ja.children=Tl}return ga(pa.type,rl,void 0,void 0,hl,Ja)},react_production.createContext=function(pa){return pa={$$typeof:dn,_currentValue:pa,_currentValue2:pa,_threadCount:0,Provider:null,Consumer:null},pa.Provider=pa,pa.Consumer={$$typeof:ln,_context:pa},pa},react_production.createElement=function(pa,xa,Oa){var Ja,rl={},hl=null;if(xa!=null)for(Ja in xa.key!==void 0&&(hl=""+xa.key),xa)ha.call(xa,Ja)&&Ja!=="key"&&Ja!=="__self"&&Ja!=="__source"&&(rl[Ja]=xa[Ja]);var al=arguments.length-2;if(al===1)rl.children=Oa;else if(1<al){for(var Tl=Array(al),Cl=0;Cl<al;Cl++)Tl[Cl]=arguments[Cl+2];rl.children=Tl}if(pa&&pa.defaultProps)for(Ja in al=pa.defaultProps,al)rl[Ja]===void 0&&(rl[Ja]=al[Ja]);return ga(pa,hl,void 0,void 0,null,rl)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(pa){return{$$typeof:gn,render:pa}},react_production.isValidElement=Sa,react_production.lazy=function(pa){return{$$typeof:Qn,_payload:{_status:-1,_result:pa},_init:ya}},react_production.memo=function(pa,xa){return{$$typeof:Kn,type:pa,compare:xa===void 0?null:xa}},react_production.startTransition=function(pa){var xa=oa.T,Oa={};oa.T=Oa;try{var Ja=pa(),rl=oa.S;rl!==null&&rl(Oa,Ja),typeof Ja=="object"&&Ja!==null&&typeof Ja.then=="function"&&Ja.then(da,ca)}catch(hl){ca(hl)}finally{oa.T=xa}},react_production.unstable_useCacheRefresh=function(){return oa.H.useCacheRefresh()},react_production.use=function(pa){return oa.H.use(pa)},react_production.useActionState=function(pa,xa,Oa){return oa.H.useActionState(pa,xa,Oa)},react_production.useCallback=function(pa,xa){return oa.H.useCallback(pa,xa)},react_production.useContext=function(pa){return oa.H.useContext(pa)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(pa,xa){return oa.H.useDeferredValue(pa,xa)},react_production.useEffect=function(pa,xa,Oa){var Ja=oa.H;if(typeof Oa=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Ja.useEffect(pa,xa)},react_production.useId=function(){return oa.H.useId()},react_production.useImperativeHandle=function(pa,xa,Oa){return oa.H.useImperativeHandle(pa,xa,Oa)},react_production.useInsertionEffect=function(pa,xa){return oa.H.useInsertionEffect(pa,xa)},react_production.useLayoutEffect=function(pa,xa){return oa.H.useLayoutEffect(pa,xa)},react_production.useMemo=function(pa,xa){return oa.H.useMemo(pa,xa)},react_production.useOptimistic=function(pa,xa){return oa.H.useOptimistic(pa,xa)},react_production.useReducer=function(pa,xa,Oa){return oa.H.useReducer(pa,xa,Oa)},react_production.useRef=function(pa){return oa.H.useRef(pa)},react_production.useState=function(pa){return oa.H.useState(pa)},react_production.useSyncExternalStore=function(pa,xa,Oa){return oa.H.useSyncExternalStore(pa,xa,Oa)},react_production.useTransition=function(){return oa.H.useTransition()},react_production.version="19.1.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,function(qe){function f(ua,ya){var ca=ua.length;ua.push(ya);t:for(;0<ca;){var da=ca-1>>>1,pa=ua[da];if(0<Ai(pa,ya))ua[da]=ya,ua[ca]=pa,ca=da;else break t}}function ze(ua){return ua.length===0?null:ua[0]}function Ke(ua){if(ua.length===0)return null;var ya=ua[0],ca=ua.pop();if(ca!==ya){ua[0]=ca;t:for(var da=0,pa=ua.length,xa=pa>>>1;da<xa;){var Oa=2*(da+1)-1,Ja=ua[Oa],rl=Oa+1,hl=ua[rl];if(0>Ai(Ja,ca))rl<pa&&0>Ai(hl,Ja)?(ua[da]=hl,ua[rl]=ca,da=rl):(ua[da]=Ja,ua[Oa]=ca,da=Oa);else if(rl<pa&&0>Ai(hl,ca))ua[da]=hl,ua[rl]=ca,da=rl;else break t}}return ya}function Ai(ua,ya){var ca=ua.sortIndex-ya.sortIndex;return ca!==0?ca:ua.id-ya.id}if(qe.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var ln=performance;qe.unstable_now=function(){return ln.now()}}else{var dn=Date,gn=dn.now();qe.unstable_now=function(){return dn.now()-gn}}var Hn=[],Kn=[],Qn=1,ys=null,vs=3,Cs=!1,bs=!1,ia=!1,la=!1,ra=typeof setTimeout=="function"?setTimeout:null,sa=typeof clearTimeout=="function"?clearTimeout:null,na=typeof setImmediate<"u"?setImmediate:null;function aa(ua){for(var ya=ze(Kn);ya!==null;){if(ya.callback===null)Ke(Kn);else if(ya.startTime<=ua)Ke(Kn),ya.sortIndex=ya.expirationTime,f(Hn,ya);else break;ya=ze(Kn)}}function oa(ua){if(ia=!1,aa(ua),!bs)if(ze(Hn)!==null)bs=!0,ha||(ha=!0,Ta());else{var ya=ze(Kn);ya!==null&&Ma(oa,ya.startTime-ua)}}var ha=!1,ga=-1,va=5,Sa=-1;function tl(){return la?!0:!(qe.unstable_now()-Sa<va)}function Zo(){if(la=!1,ha){var ua=qe.unstable_now();Sa=ua;var ya=!0;try{t:{bs=!1,ia&&(ia=!1,sa(ga),ga=-1),Cs=!0;var ca=vs;try{e:{for(aa(ua),ys=ze(Hn);ys!==null&&!(ys.expirationTime>ua&&tl());){var da=ys.callback;if(typeof da=="function"){ys.callback=null,vs=ys.priorityLevel;var pa=da(ys.expirationTime<=ua);if(ua=qe.unstable_now(),typeof pa=="function"){ys.callback=pa,aa(ua),ya=!0;break e}ys===ze(Hn)&&Ke(Hn),aa(ua)}else Ke(Hn);ys=ze(Hn)}if(ys!==null)ya=!0;else{var xa=ze(Kn);xa!==null&&Ma(oa,xa.startTime-ua),ya=!1}}break t}finally{ys=null,vs=ca,Cs=!1}ya=void 0}}finally{ya?Ta():ha=!1}}}var Ta;if(typeof na=="function")Ta=function(){na(Zo)};else if(typeof MessageChannel<"u"){var Qa=new MessageChannel,$a=Qa.port2;Qa.port1.onmessage=Zo,Ta=function(){$a.postMessage(null)}}else Ta=function(){ra(Zo,0)};function Ma(ua,ya){ga=ra(function(){ua(qe.unstable_now())},ya)}qe.unstable_IdlePriority=5,qe.unstable_ImmediatePriority=1,qe.unstable_LowPriority=4,qe.unstable_NormalPriority=3,qe.unstable_Profiling=null,qe.unstable_UserBlockingPriority=2,qe.unstable_cancelCallback=function(ua){ua.callback=null},qe.unstable_forceFrameRate=function(ua){0>ua||125<ua?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):va=0<ua?Math.floor(1e3/ua):5},qe.unstable_getCurrentPriorityLevel=function(){return vs},qe.unstable_next=function(ua){switch(vs){case 1:case 2:case 3:var ya=3;break;default:ya=vs}var ca=vs;vs=ya;try{return ua()}finally{vs=ca}},qe.unstable_requestPaint=function(){la=!0},qe.unstable_runWithPriority=function(ua,ya){switch(ua){case 1:case 2:case 3:case 4:case 5:break;default:ua=3}var ca=vs;vs=ua;try{return ya()}finally{vs=ca}},qe.unstable_scheduleCallback=function(ua,ya,ca){var da=qe.unstable_now();switch(typeof ca=="object"&&ca!==null?(ca=ca.delay,ca=typeof ca=="number"&&0<ca?da+ca:da):ca=da,ua){case 1:var pa=-1;break;case 2:pa=250;break;case 5:pa=1073741823;break;case 4:pa=1e4;break;default:pa=5e3}return pa=ca+pa,ua={id:Qn++,callback:ya,priorityLevel:ua,startTime:ca,expirationTime:pa,sortIndex:-1},ca>da?(ua.sortIndex=ca,f(Kn,ua),ze(Hn)===null&&ua===ze(Kn)&&(ia?(sa(ga),ga=-1):ia=!0,Ma(oa,ca-da))):(ua.sortIndex=pa,f(Hn,ua),bs||Cs||(bs=!0,ha||(ha=!0,Ta()))),ua},qe.unstable_shouldYield=tl,qe.unstable_wrapCallback=function(ua){var ya=vs;return function(){var ca=vs;vs=ya;try{return ua.apply(this,arguments)}finally{vs=ca}}}}(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var qe=requireReact();function f(Hn){var Kn="https://react.dev/errors/"+Hn;if(1<arguments.length){Kn+="?args[]="+encodeURIComponent(arguments[1]);for(var Qn=2;Qn<arguments.length;Qn++)Kn+="&args[]="+encodeURIComponent(arguments[Qn])}return"Minified React error #"+Hn+"; visit "+Kn+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ze(){}var Ke={d:{f:ze,r:function(){throw Error(f(522))},D:ze,C:ze,L:ze,m:ze,X:ze,S:ze,M:ze},p:0,findDOMNode:null},Ai=Symbol.for("react.portal");function ln(Hn,Kn,Qn){var ys=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ai,key:ys==null?null:""+ys,children:Hn,containerInfo:Kn,implementation:Qn}}var dn=qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function gn(Hn,Kn){if(Hn==="font")return"";if(typeof Kn=="string")return Kn==="use-credentials"?Kn:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ke,reactDom_production.createPortal=function(Hn,Kn){var Qn=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kn||Kn.nodeType!==1&&Kn.nodeType!==9&&Kn.nodeType!==11)throw Error(f(299));return ln(Hn,Kn,null,Qn)},reactDom_production.flushSync=function(Hn){var Kn=dn.T,Qn=Ke.p;try{if(dn.T=null,Ke.p=2,Hn)return Hn()}finally{dn.T=Kn,Ke.p=Qn,Ke.d.f()}},reactDom_production.preconnect=function(Hn,Kn){typeof Hn=="string"&&(Kn?(Kn=Kn.crossOrigin,Kn=typeof Kn=="string"?Kn==="use-credentials"?Kn:"":void 0):Kn=null,Ke.d.C(Hn,Kn))},reactDom_production.prefetchDNS=function(Hn){typeof Hn=="string"&&Ke.d.D(Hn)},reactDom_production.preinit=function(Hn,Kn){if(typeof Hn=="string"&&Kn&&typeof Kn.as=="string"){var Qn=Kn.as,ys=gn(Qn,Kn.crossOrigin),vs=typeof Kn.integrity=="string"?Kn.integrity:void 0,Cs=typeof Kn.fetchPriority=="string"?Kn.fetchPriority:void 0;Qn==="style"?Ke.d.S(Hn,typeof Kn.precedence=="string"?Kn.precedence:void 0,{crossOrigin:ys,integrity:vs,fetchPriority:Cs}):Qn==="script"&&Ke.d.X(Hn,{crossOrigin:ys,integrity:vs,fetchPriority:Cs,nonce:typeof Kn.nonce=="string"?Kn.nonce:void 0})}},reactDom_production.preinitModule=function(Hn,Kn){if(typeof Hn=="string")if(typeof Kn=="object"&&Kn!==null){if(Kn.as==null||Kn.as==="script"){var Qn=gn(Kn.as,Kn.crossOrigin);Ke.d.M(Hn,{crossOrigin:Qn,integrity:typeof Kn.integrity=="string"?Kn.integrity:void 0,nonce:typeof Kn.nonce=="string"?Kn.nonce:void 0})}}else Kn==null&&Ke.d.M(Hn)},reactDom_production.preload=function(Hn,Kn){if(typeof Hn=="string"&&typeof Kn=="object"&&Kn!==null&&typeof Kn.as=="string"){var Qn=Kn.as,ys=gn(Qn,Kn.crossOrigin);Ke.d.L(Hn,Qn,{crossOrigin:ys,integrity:typeof Kn.integrity=="string"?Kn.integrity:void 0,nonce:typeof Kn.nonce=="string"?Kn.nonce:void 0,type:typeof Kn.type=="string"?Kn.type:void 0,fetchPriority:typeof Kn.fetchPriority=="string"?Kn.fetchPriority:void 0,referrerPolicy:typeof Kn.referrerPolicy=="string"?Kn.referrerPolicy:void 0,imageSrcSet:typeof Kn.imageSrcSet=="string"?Kn.imageSrcSet:void 0,imageSizes:typeof Kn.imageSizes=="string"?Kn.imageSizes:void 0,media:typeof Kn.media=="string"?Kn.media:void 0})}},reactDom_production.preloadModule=function(Hn,Kn){if(typeof Hn=="string")if(Kn){var Qn=gn(Kn.as,Kn.crossOrigin);Ke.d.m(Hn,{as:typeof Kn.as=="string"&&Kn.as!=="script"?Kn.as:void 0,crossOrigin:Qn,integrity:typeof Kn.integrity=="string"?Kn.integrity:void 0})}else Ke.d.m(Hn)},reactDom_production.requestFormReset=function(Hn){Ke.d.r(Hn)},reactDom_production.unstable_batchedUpdates=function(Hn,Kn){return Hn(Kn)},reactDom_production.useFormState=function(Hn,Kn,Qn){return dn.H.useFormState(Hn,Kn,Qn)},reactDom_production.useFormStatus=function(){return dn.H.useHostTransitionStatus()},reactDom_production.version="19.1.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function qe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qe)}catch(f){console.error(f)}}return qe(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var qe=requireScheduler(),f=requireReact(),ze=requireReactDom();function Ke(Qe){var an="https://react.dev/errors/"+Qe;if(1<arguments.length){an+="?args[]="+encodeURIComponent(arguments[1]);for(var un=2;un<arguments.length;un++)an+="&args[]="+encodeURIComponent(arguments[un])}return"Minified React error #"+Qe+"; visit "+an+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ai(Qe){return!(!Qe||Qe.nodeType!==1&&Qe.nodeType!==9&&Qe.nodeType!==11)}function ln(Qe){var an=Qe,un=Qe;if(Qe.alternate)for(;an.return;)an=an.return;else{Qe=an;do an=Qe,(an.flags&4098)!==0&&(un=an.return),Qe=an.return;while(Qe)}return an.tag===3?un:null}function dn(Qe){if(Qe.tag===13){var an=Qe.memoizedState;if(an===null&&(Qe=Qe.alternate,Qe!==null&&(an=Qe.memoizedState)),an!==null)return an.dehydrated}return null}function gn(Qe){if(ln(Qe)!==Qe)throw Error(Ke(188))}function Hn(Qe){var an=Qe.alternate;if(!an){if(an=ln(Qe),an===null)throw Error(Ke(188));return an!==Qe?null:Qe}for(var un=Qe,Wn=an;;){var Jn=un.return;if(Jn===null)break;var xs=Jn.alternate;if(xs===null){if(Wn=Jn.return,Wn!==null){un=Wn;continue}break}if(Jn.child===xs.child){for(xs=Jn.child;xs;){if(xs===un)return gn(Jn),Qe;if(xs===Wn)return gn(Jn),an;xs=xs.sibling}throw Error(Ke(188))}if(un.return!==Wn.return)un=Jn,Wn=xs;else{for(var fa=!1,ma=Jn.child;ma;){if(ma===un){fa=!0,un=Jn,Wn=xs;break}if(ma===Wn){fa=!0,Wn=Jn,un=xs;break}ma=ma.sibling}if(!fa){for(ma=xs.child;ma;){if(ma===un){fa=!0,un=xs,Wn=Jn;break}if(ma===Wn){fa=!0,Wn=xs,un=Jn;break}ma=ma.sibling}if(!fa)throw Error(Ke(189))}}if(un.alternate!==Wn)throw Error(Ke(190))}if(un.tag!==3)throw Error(Ke(188));return un.stateNode.current===un?Qe:an}function Kn(Qe){var an=Qe.tag;if(an===5||an===26||an===27||an===6)return Qe;for(Qe=Qe.child;Qe!==null;){if(an=Kn(Qe),an!==null)return an;Qe=Qe.sibling}return null}var Qn=Object.assign,ys=Symbol.for("react.element"),vs=Symbol.for("react.transitional.element"),Cs=Symbol.for("react.portal"),bs=Symbol.for("react.fragment"),ia=Symbol.for("react.strict_mode"),la=Symbol.for("react.profiler"),ra=Symbol.for("react.provider"),sa=Symbol.for("react.consumer"),na=Symbol.for("react.context"),aa=Symbol.for("react.forward_ref"),oa=Symbol.for("react.suspense"),ha=Symbol.for("react.suspense_list"),ga=Symbol.for("react.memo"),va=Symbol.for("react.lazy"),Sa=Symbol.for("react.activity"),tl=Symbol.for("react.memo_cache_sentinel"),Zo=Symbol.iterator;function Ta(Qe){return Qe===null||typeof Qe!="object"?null:(Qe=Zo&&Qe[Zo]||Qe["@@iterator"],typeof Qe=="function"?Qe:null)}var Qa=Symbol.for("react.client.reference");function $a(Qe){if(Qe==null)return null;if(typeof Qe=="function")return Qe.$$typeof===Qa?null:Qe.displayName||Qe.name||null;if(typeof Qe=="string")return Qe;switch(Qe){case bs:return"Fragment";case la:return"Profiler";case ia:return"StrictMode";case oa:return"Suspense";case ha:return"SuspenseList";case Sa:return"Activity"}if(typeof Qe=="object")switch(Qe.$$typeof){case Cs:return"Portal";case na:return(Qe.displayName||"Context")+".Provider";case sa:return(Qe._context.displayName||"Context")+".Consumer";case aa:var an=Qe.render;return Qe=Qe.displayName,Qe||(Qe=an.displayName||an.name||"",Qe=Qe!==""?"ForwardRef("+Qe+")":"ForwardRef"),Qe;case ga:return an=Qe.displayName||null,an!==null?an:$a(Qe.type)||"Memo";case va:an=Qe._payload,Qe=Qe._init;try{return $a(Qe(an))}catch{}}return null}var Ma=Array.isArray,ua=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ya=ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ca={pending:!1,data:null,method:null,action:null},da=[],pa=-1;function xa(Qe){return{current:Qe}}function Oa(Qe){0>pa||(Qe.current=da[pa],da[pa]=null,pa--)}function Ja(Qe,an){pa++,da[pa]=Qe.current,Qe.current=an}var rl=xa(null),hl=xa(null),al=xa(null),Tl=xa(null);function Cl(Qe,an){switch(Ja(al,an),Ja(hl,Qe),Ja(rl,null),an.nodeType){case 9:case 11:Qe=(Qe=an.documentElement)&&(Qe=Qe.namespaceURI)?Uy(Qe):0;break;default:if(Qe=an.tagName,an=an.namespaceURI)an=Uy(an),Qe=Yy(an,Qe);else switch(Qe){case"svg":Qe=1;break;case"math":Qe=2;break;default:Qe=0}}Oa(rl),Ja(rl,Qe)}function Yl(){Oa(rl),Oa(hl),Oa(al)}function El(Qe){Qe.memoizedState!==null&&Ja(Tl,Qe);var an=rl.current,un=Yy(an,Qe.type);an!==un&&(Ja(hl,Qe),Ja(rl,un))}function jl(Qe){hl.current===Qe&&(Oa(rl),Oa(hl)),Tl.current===Qe&&(Oa(Tl),md._currentValue=ca)}var yh=Object.prototype.hasOwnProperty,Dl=qe.unstable_scheduleCallback,ll=qe.unstable_cancelCallback,Nh=qe.unstable_shouldYield,Uh=qe.unstable_requestPaint,Kl=qe.unstable_now,Yh=qe.unstable_getCurrentPriorityLevel,Xh=qe.unstable_ImmediatePriority,qh=qe.unstable_UserBlockingPriority,_h=qe.unstable_NormalPriority,Dh=qe.unstable_LowPriority,Oh=qe.unstable_IdlePriority,jh=qe.log,Wh=qe.unstable_setDisableYieldValue,ql=null,zl=null;function zh(Qe){if(typeof jh=="function"&&Wh(Qe),zl&&typeof zl.setStrictMode=="function")try{zl.setStrictMode(ql,Qe)}catch{}}var xh=Math.clz32?Math.clz32:bd,Xc=Math.log,Cc=Math.LN2;function bd(Qe){return Qe>>>=0,Qe===0?32:31-(Xc(Qe)/Cc|0)|0}var xu=256,bu=4194304;function kc(Qe){var an=Qe&42;if(an!==0)return an;switch(Qe&-Qe){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Qe&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return Qe&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return Qe}}function Su(Qe,an,un){var Wn=Qe.pendingLanes;if(Wn===0)return 0;var Jn=0,xs=Qe.suspendedLanes,fa=Qe.pingedLanes;Qe=Qe.warmLanes;var ma=Wn&134217727;return ma!==0?(Wn=ma&~xs,Wn!==0?Jn=kc(Wn):(fa&=ma,fa!==0?Jn=kc(fa):un||(un=ma&~Qe,un!==0&&(Jn=kc(un))))):(ma=Wn&~xs,ma!==0?Jn=kc(ma):fa!==0?Jn=kc(fa):un||(un=Wn&~Qe,un!==0&&(Jn=kc(un)))),Jn===0?0:an!==0&&an!==Jn&&(an&xs)===0&&(xs=Jn&-Jn,un=an&-an,xs>=un||xs===32&&(un&4194048)!==0)?an:Jn}function Ec(Qe,an){return(Qe.pendingLanes&~(Qe.suspendedLanes&~Qe.pingedLanes)&an)===0}function Sd(Qe,an){switch(Qe){case 1:case 2:case 4:case 8:case 64:return an+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return an+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gu(){var Qe=xu;return xu<<=1,(xu&4194048)===0&&(xu=256),Qe}function _d(){var Qe=bu;return bu<<=1,(bu&62914560)===0&&(bu=4194304),Qe}function Hu(Qe){for(var an=[],un=0;31>un;un++)an.push(Qe);return an}function _u(Qe,an){Qe.pendingLanes|=an,an!==268435456&&(Qe.suspendedLanes=0,Qe.pingedLanes=0,Qe.warmLanes=0)}function Cd(Qe,an,un,Wn,Jn,xs){var fa=Qe.pendingLanes;Qe.pendingLanes=un,Qe.suspendedLanes=0,Qe.pingedLanes=0,Qe.warmLanes=0,Qe.expiredLanes&=un,Qe.entangledLanes&=un,Qe.errorRecoveryDisabledLanes&=un,Qe.shellSuspendCounter=0;var ma=Qe.entanglements,ba=Qe.expirationTimes,ka=Qe.hiddenUpdates;for(un=fa&~un;0<un;){var el=31-xh(un),nl=1<<el;ma[el]=0,ba[el]=-1;var qa=ka[el];if(qa!==null)for(ka[el]=null,el=0;el<qa.length;el++){var Ka=qa[el];Ka!==null&&(Ka.lane&=-536870913)}un&=~nl}Wn!==0&&Cu(Qe,Wn,0),xs!==0&&Jn===0&&Qe.tag!==0&&(Qe.suspendedLanes|=xs&~(fa&~an))}function Cu(Qe,an,un){Qe.pendingLanes|=an,Qe.suspendedLanes&=~an;var Wn=31-xh(an);Qe.entangledLanes|=an,Qe.entanglements[Wn]=Qe.entanglements[Wn]|1073741824|un&4194090}function Eu(Qe,an){var un=Qe.entangledLanes|=an;for(Qe=Qe.entanglements;un;){var Wn=31-xh(un),Jn=1<<Wn;Jn&an|Qe[Wn]&an&&(Qe[Wn]|=an),un&=~Jn}}function Ef(Qe){switch(Qe){case 2:Qe=1;break;case 8:Qe=4;break;case 32:Qe=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:Qe=128;break;case 268435456:Qe=134217728;break;default:Qe=0}return Qe}function Tf(Qe){return Qe&=-Qe,2<Qe?8<Qe?(Qe&134217727)!==0?32:268435456:8:2}function _a(){var Qe=ya.p;return Qe!==0?Qe:(Qe=window.event,Qe===void 0?32:c1(Qe.type))}function wa(Qe,an){var un=ya.p;try{return ya.p=Qe,an()}finally{ya.p=un}}var Za=Math.random().toString(36).slice(2),sl="__reactFiber$"+Za,ol="__reactProps$"+Za,fl="__reactContainer$"+Za,vl="__reactEvents$"+Za,cl="__reactListeners$"+Za,ml="__reactHandles$"+Za,gl="__reactResources$"+Za,bl="__reactMarker$"+Za;function dl(Qe){delete Qe[sl],delete Qe[ol],delete Qe[vl],delete Qe[cl],delete Qe[ml]}function _l(Qe){var an=Qe[sl];if(an)return an;for(var un=Qe.parentNode;un;){if(an=un[fl]||un[sl]){if(un=an.alternate,an.child!==null||un!==null&&un.child!==null)for(Qe=Ky(Qe);Qe!==null;){if(un=Qe[sl])return un;Qe=Ky(Qe)}return an}Qe=un,un=Qe.parentNode}return null}function Ll(Qe){if(Qe=Qe[sl]||Qe[fl]){var an=Qe.tag;if(an===5||an===6||an===13||an===26||an===27||an===3)return Qe}return null}function Zl(Qe){var an=Qe.tag;if(an===5||an===26||an===27||an===6)return Qe.stateNode;throw Error(Ke(33))}function $l(Qe){var an=Qe[gl];return an||(an=Qe[gl]={hoistableStyles:new Map,hoistableScripts:new Map}),an}function Fl(Qe){Qe[bl]=!0}var Rl=new Set,qc={};function Gh(Qe,an){lc(Qe,an),lc(Qe+"Capture",an)}function lc(Qe,an){for(qc[Qe]=an,Qe=0;Qe<an.length;Qe++)Rl.add(an[Qe])}var Kh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wc={},Kc={};function wf(Qe){return yh.call(Kc,Qe)?!0:yh.call(Wc,Qe)?!1:Kh.test(Qe)?Kc[Qe]=!0:(Wc[Qe]=!0,!1)}function hc(Qe,an,un){if(wf(an))if(un===null)Qe.removeAttribute(an);else{switch(typeof un){case"undefined":case"function":case"symbol":Qe.removeAttribute(an);return;case"boolean":var Wn=an.toLowerCase().slice(0,5);if(Wn!=="data-"&&Wn!=="aria-"){Qe.removeAttribute(an);return}}Qe.setAttribute(an,""+un)}}function Pc(Qe,an,un){if(un===null)Qe.removeAttribute(an);else{switch(typeof un){case"undefined":case"function":case"symbol":case"boolean":Qe.removeAttribute(an);return}Qe.setAttribute(an,""+un)}}function Ml(Qe,an,un,Wn){if(Wn===null)Qe.removeAttribute(un);else{switch(typeof Wn){case"undefined":case"function":case"symbol":case"boolean":Qe.removeAttribute(un);return}Qe.setAttributeNS(an,un,""+Wn)}}var Vh,yc;function xc(Qe){if(Vh===void 0)try{throw Error()}catch(un){var an=un.stack.trim().match(/\n( *(at )?)/);Vh=an&&an[1]||"",yc=-1<un.stack.indexOf(`
    at`)?" (<anonymous>)":-1<un.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vh+Qe+yc}var Tu=!1;function Ql(Qe,an){if(!Qe||Tu)return"";Tu=!0;var un=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var Wn={DetermineComponentFrameRoot:function(){try{if(an){var nl=function(){throw Error()};if(Object.defineProperty(nl.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nl,[])}catch(Ka){var qa=Ka}Reflect.construct(Qe,[],nl)}else{try{nl.call()}catch(Ka){qa=Ka}Qe.call(nl.prototype)}}else{try{throw Error()}catch(Ka){qa=Ka}(nl=Qe())&&typeof nl.catch=="function"&&nl.catch(function(){})}}catch(Ka){if(Ka&&qa&&typeof Ka.stack=="string")return[Ka.stack,qa.stack]}return[null,null]}};Wn.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var Jn=Object.getOwnPropertyDescriptor(Wn.DetermineComponentFrameRoot,"name");Jn&&Jn.configurable&&Object.defineProperty(Wn.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var xs=Wn.DetermineComponentFrameRoot(),fa=xs[0],ma=xs[1];if(fa&&ma){var ba=fa.split(`
`),ka=ma.split(`
`);for(Jn=Wn=0;Wn<ba.length&&!ba[Wn].includes("DetermineComponentFrameRoot");)Wn++;for(;Jn<ka.length&&!ka[Jn].includes("DetermineComponentFrameRoot");)Jn++;if(Wn===ba.length||Jn===ka.length)for(Wn=ba.length-1,Jn=ka.length-1;1<=Wn&&0<=Jn&&ba[Wn]!==ka[Jn];)Jn--;for(;1<=Wn&&0<=Jn;Wn--,Jn--)if(ba[Wn]!==ka[Jn]){if(Wn!==1||Jn!==1)do if(Wn--,Jn--,0>Jn||ba[Wn]!==ka[Jn]){var el=`
`+ba[Wn].replace(" at new "," at ");return Qe.displayName&&el.includes("<anonymous>")&&(el=el.replace("<anonymous>",Qe.displayName)),el}while(1<=Wn&&0<=Jn);break}}}finally{Tu=!1,Error.prepareStackTrace=un}return(un=Qe?Qe.displayName||Qe.name:"")?xc(un):""}function Zc(Qe){switch(Qe.tag){case 26:case 27:case 5:return xc(Qe.type);case 16:return xc("Lazy");case 13:return xc("Suspense");case 19:return xc("SuspenseList");case 0:case 15:return Ql(Qe.type,!1);case 11:return Ql(Qe.type.render,!1);case 1:return Ql(Qe.type,!0);case 31:return xc("Activity");default:return""}}function Mf(Qe){try{var an="";do an+=Zc(Qe),Qe=Qe.return;while(Qe);return an}catch(un){return`
Error generating stack: `+un.message+`
`+un.stack}}function Zh(Qe){switch(typeof Qe){case"bigint":case"boolean":case"number":case"string":case"undefined":return Qe;case"object":return Qe;default:return""}}function Vg(Qe){var an=Qe.type;return(Qe=Qe.nodeName)&&Qe.toLowerCase()==="input"&&(an==="checkbox"||an==="radio")}function g1(Qe){var an=Vg(Qe)?"checked":"value",un=Object.getOwnPropertyDescriptor(Qe.constructor.prototype,an),Wn=""+Qe[an];if(!Qe.hasOwnProperty(an)&&typeof un<"u"&&typeof un.get=="function"&&typeof un.set=="function"){var Jn=un.get,xs=un.set;return Object.defineProperty(Qe,an,{configurable:!0,get:function(){return Jn.call(this)},set:function(fa){Wn=""+fa,xs.call(this,fa)}}),Object.defineProperty(Qe,an,{enumerable:un.enumerable}),{getValue:function(){return Wn},setValue:function(fa){Wn=""+fa},stopTracking:function(){Qe._valueTracker=null,delete Qe[an]}}}}function Ed(Qe){Qe._valueTracker||(Qe._valueTracker=g1(Qe))}function Ig(Qe){if(!Qe)return!1;var an=Qe._valueTracker;if(!an)return!0;var un=an.getValue(),Wn="";return Qe&&(Wn=Vg(Qe)?Qe.checked?"true":"false":Qe.value),Qe=Wn,Qe!==un?(an.setValue(Qe),!0):!1}function Td(Qe){if(Qe=Qe||(typeof document<"u"?document:void 0),typeof Qe>"u")return null;try{return Qe.activeElement||Qe.body}catch{return Qe.body}}var v1=/[\n"\\]/g;function cc(Qe){return Qe.replace(v1,function(an){return"\\"+an.charCodeAt(0).toString(16)+" "})}function Fp(Qe,an,un,Wn,Jn,xs,fa,ma){Qe.name="",fa!=null&&typeof fa!="function"&&typeof fa!="symbol"&&typeof fa!="boolean"?Qe.type=fa:Qe.removeAttribute("type"),an!=null?fa==="number"?(an===0&&Qe.value===""||Qe.value!=an)&&(Qe.value=""+Zh(an)):Qe.value!==""+Zh(an)&&(Qe.value=""+Zh(an)):fa!=="submit"&&fa!=="reset"||Qe.removeAttribute("value"),an!=null?Bp(Qe,fa,Zh(an)):un!=null?Bp(Qe,fa,Zh(un)):Wn!=null&&Qe.removeAttribute("value"),Jn==null&&xs!=null&&(Qe.defaultChecked=!!xs),Jn!=null&&(Qe.checked=Jn&&typeof Jn!="function"&&typeof Jn!="symbol"),ma!=null&&typeof ma!="function"&&typeof ma!="symbol"&&typeof ma!="boolean"?Qe.name=""+Zh(ma):Qe.removeAttribute("name")}function Ng(Qe,an,un,Wn,Jn,xs,fa,ma){if(xs!=null&&typeof xs!="function"&&typeof xs!="symbol"&&typeof xs!="boolean"&&(Qe.type=xs),an!=null||un!=null){if(!(xs!=="submit"&&xs!=="reset"||an!=null))return;un=un!=null?""+Zh(un):"",an=an!=null?""+Zh(an):un,ma||an===Qe.value||(Qe.value=an),Qe.defaultValue=an}Wn=Wn??Jn,Wn=typeof Wn!="function"&&typeof Wn!="symbol"&&!!Wn,Qe.checked=ma?Qe.checked:!!Wn,Qe.defaultChecked=!!Wn,fa!=null&&typeof fa!="function"&&typeof fa!="symbol"&&typeof fa!="boolean"&&(Qe.name=fa)}function Bp(Qe,an,un){an==="number"&&Td(Qe.ownerDocument)===Qe||Qe.defaultValue===""+un||(Qe.defaultValue=""+un)}function Uu(Qe,an,un,Wn){if(Qe=Qe.options,an){an={};for(var Jn=0;Jn<un.length;Jn++)an["$"+un[Jn]]=!0;for(un=0;un<Qe.length;un++)Jn=an.hasOwnProperty("$"+Qe[un].value),Qe[un].selected!==Jn&&(Qe[un].selected=Jn),Jn&&Wn&&(Qe[un].defaultSelected=!0)}else{for(un=""+Zh(un),an=null,Jn=0;Jn<Qe.length;Jn++){if(Qe[Jn].value===un){Qe[Jn].selected=!0,Wn&&(Qe[Jn].defaultSelected=!0);return}an!==null||Qe[Jn].disabled||(an=Qe[Jn])}an!==null&&(an.selected=!0)}}function Gg(Qe,an,un){if(an!=null&&(an=""+Zh(an),an!==Qe.value&&(Qe.value=an),un==null)){Qe.defaultValue!==an&&(Qe.defaultValue=an);return}Qe.defaultValue=un!=null?""+Zh(un):""}function Hg(Qe,an,un,Wn){if(an==null){if(Wn!=null){if(un!=null)throw Error(Ke(92));if(Ma(Wn)){if(1<Wn.length)throw Error(Ke(93));Wn=Wn[0]}un=Wn}un==null&&(un=""),an=un}un=Zh(an),Qe.defaultValue=un,Wn=Qe.textContent,Wn===un&&Wn!==""&&Wn!==null&&(Qe.value=Wn)}function Yu(Qe,an){if(an){var un=Qe.firstChild;if(un&&un===Qe.lastChild&&un.nodeType===3){un.nodeValue=an;return}}Qe.textContent=an}var y1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ug(Qe,an,un){var Wn=an.indexOf("--")===0;un==null||typeof un=="boolean"||un===""?Wn?Qe.setProperty(an,""):an==="float"?Qe.cssFloat="":Qe[an]="":Wn?Qe.setProperty(an,un):typeof un!="number"||un===0||y1.has(an)?an==="float"?Qe.cssFloat=un:Qe[an]=(""+un).trim():Qe[an]=un+"px"}function Yg(Qe,an,un){if(an!=null&&typeof an!="object")throw Error(Ke(62));if(Qe=Qe.style,un!=null){for(var Wn in un)!un.hasOwnProperty(Wn)||an!=null&&an.hasOwnProperty(Wn)||(Wn.indexOf("--")===0?Qe.setProperty(Wn,""):Wn==="float"?Qe.cssFloat="":Qe[Wn]="");for(var Jn in an)Wn=an[Jn],an.hasOwnProperty(Jn)&&un[Jn]!==Wn&&Ug(Qe,Jn,Wn)}else for(var xs in an)an.hasOwnProperty(xs)&&Ug(Qe,xs,an[xs])}function jp(Qe){if(Qe.indexOf("-")===-1)return!1;switch(Qe){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var x1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),b1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wd(Qe){return b1.test(""+Qe)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":Qe}var zp=null;function Vp(Qe){return Qe=Qe.target||Qe.srcElement||window,Qe.correspondingUseElement&&(Qe=Qe.correspondingUseElement),Qe.nodeType===3?Qe.parentNode:Qe}var Xu=null,qu=null;function Xg(Qe){var an=Ll(Qe);if(an&&(Qe=an.stateNode)){var un=Qe[ol]||null;t:switch(Qe=an.stateNode,an.type){case"input":if(Fp(Qe,un.value,un.defaultValue,un.defaultValue,un.checked,un.defaultChecked,un.type,un.name),an=un.name,un.type==="radio"&&an!=null){for(un=Qe;un.parentNode;)un=un.parentNode;for(un=un.querySelectorAll('input[name="'+cc(""+an)+'"][type="radio"]'),an=0;an<un.length;an++){var Wn=un[an];if(Wn!==Qe&&Wn.form===Qe.form){var Jn=Wn[ol]||null;if(!Jn)throw Error(Ke(90));Fp(Wn,Jn.value,Jn.defaultValue,Jn.defaultValue,Jn.checked,Jn.defaultChecked,Jn.type,Jn.name)}}for(an=0;an<un.length;an++)Wn=un[an],Wn.form===Qe.form&&Ig(Wn)}break t;case"textarea":Gg(Qe,un.value,un.defaultValue);break t;case"select":an=un.value,an!=null&&Uu(Qe,!!un.multiple,an,!1)}}}var Ip=!1;function qg(Qe,an,un){if(Ip)return Qe(an,un);Ip=!0;try{var Wn=Qe(an);return Wn}finally{if(Ip=!1,(Xu!==null||qu!==null)&&(dp(),Xu&&(an=Xu,Qe=qu,qu=Xu=null,Xg(an),Qe)))for(an=0;an<Qe.length;an++)Xg(Qe[an])}}function Af(Qe,an){var un=Qe.stateNode;if(un===null)return null;var Wn=un[ol]||null;if(Wn===null)return null;un=Wn[an];t:switch(an){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Wn=!Wn.disabled)||(Qe=Qe.type,Wn=!(Qe==="button"||Qe==="input"||Qe==="select"||Qe==="textarea")),Qe=!Wn;break t;default:Qe=!1}if(Qe)return null;if(un&&typeof un!="function")throw Error(Ke(231,an,typeof un));return un}var Rc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Np=!1;if(Rc)try{var Df={};Object.defineProperty(Df,"passive",{get:function(){Np=!0}}),window.addEventListener("test",Df,Df),window.removeEventListener("test",Df,Df)}catch{Np=!1}var Qc=null,Gp=null,Md=null;function Wg(){if(Md)return Md;var Qe,an=Gp,un=an.length,Wn,Jn="value"in Qc?Qc.value:Qc.textContent,xs=Jn.length;for(Qe=0;Qe<un&&an[Qe]===Jn[Qe];Qe++);var fa=un-Qe;for(Wn=1;Wn<=fa&&an[un-Wn]===Jn[xs-Wn];Wn++);return Md=Jn.slice(Qe,1<Wn?1-Wn:void 0)}function Ad(Qe){var an=Qe.keyCode;return"charCode"in Qe?(Qe=Qe.charCode,Qe===0&&an===13&&(Qe=13)):Qe=an,Qe===10&&(Qe=13),32<=Qe||Qe===13?Qe:0}function Dd(){return!0}function Kg(){return!1}function Qh(Qe){function an(un,Wn,Jn,xs,fa){this._reactName=un,this._targetInst=Jn,this.type=Wn,this.nativeEvent=xs,this.target=fa,this.currentTarget=null;for(var ma in Qe)Qe.hasOwnProperty(ma)&&(un=Qe[ma],this[ma]=un?un(xs):xs[ma]);return this.isDefaultPrevented=(xs.defaultPrevented!=null?xs.defaultPrevented:xs.returnValue===!1)?Dd:Kg,this.isPropagationStopped=Kg,this}return Qn(an.prototype,{preventDefault:function(){this.defaultPrevented=!0;var un=this.nativeEvent;un&&(un.preventDefault?un.preventDefault():typeof un.returnValue!="unknown"&&(un.returnValue=!1),this.isDefaultPrevented=Dd)},stopPropagation:function(){var un=this.nativeEvent;un&&(un.stopPropagation?un.stopPropagation():typeof un.cancelBubble!="unknown"&&(un.cancelBubble=!0),this.isPropagationStopped=Dd)},persist:function(){},isPersistent:Dd}),an}var wu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(Qe){return Qe.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kd=Qh(wu),kf=Qn({},wu,{view:0,detail:0}),S1=Qh(kf),Hp,Up,Pf,Pd=Qn({},kf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xp,button:0,buttons:0,relatedTarget:function(Qe){return Qe.relatedTarget===void 0?Qe.fromElement===Qe.srcElement?Qe.toElement:Qe.fromElement:Qe.relatedTarget},movementX:function(Qe){return"movementX"in Qe?Qe.movementX:(Qe!==Pf&&(Pf&&Qe.type==="mousemove"?(Hp=Qe.screenX-Pf.screenX,Up=Qe.screenY-Pf.screenY):Up=Hp=0,Pf=Qe),Hp)},movementY:function(Qe){return"movementY"in Qe?Qe.movementY:Up}}),Zg=Qh(Pd),_1=Qn({},Pd,{dataTransfer:0}),C1=Qh(_1),E1=Qn({},kf,{relatedTarget:0}),Yp=Qh(E1),T1=Qn({},wu,{animationName:0,elapsedTime:0,pseudoElement:0}),w1=Qh(T1),M1=Qn({},wu,{clipboardData:function(Qe){return"clipboardData"in Qe?Qe.clipboardData:window.clipboardData}}),A1=Qh(M1),D1=Qn({},wu,{data:0}),Qg=Qh(D1),k1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O1(Qe){var an=this.nativeEvent;return an.getModifierState?an.getModifierState(Qe):(Qe=R1[Qe])?!!an[Qe]:!1}function Xp(){return O1}var L1=Qn({},kf,{key:function(Qe){if(Qe.key){var an=k1[Qe.key]||Qe.key;if(an!=="Unidentified")return an}return Qe.type==="keypress"?(Qe=Ad(Qe),Qe===13?"Enter":String.fromCharCode(Qe)):Qe.type==="keydown"||Qe.type==="keyup"?P1[Qe.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xp,charCode:function(Qe){return Qe.type==="keypress"?Ad(Qe):0},keyCode:function(Qe){return Qe.type==="keydown"||Qe.type==="keyup"?Qe.keyCode:0},which:function(Qe){return Qe.type==="keypress"?Ad(Qe):Qe.type==="keydown"||Qe.type==="keyup"?Qe.keyCode:0}}),F1=Qh(L1),B1=Qn({},Pd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jg=Qh(B1),j1=Qn({},kf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xp}),z1=Qh(j1),V1=Qn({},wu,{propertyName:0,elapsedTime:0,pseudoElement:0}),I1=Qh(V1),N1=Qn({},Pd,{deltaX:function(Qe){return"deltaX"in Qe?Qe.deltaX:"wheelDeltaX"in Qe?-Qe.wheelDeltaX:0},deltaY:function(Qe){return"deltaY"in Qe?Qe.deltaY:"wheelDeltaY"in Qe?-Qe.wheelDeltaY:"wheelDelta"in Qe?-Qe.wheelDelta:0},deltaZ:0,deltaMode:0}),G1=Qh(N1),H1=Qn({},wu,{newState:0,oldState:0}),U1=Qh(H1),Y1=[9,13,27,32],qp=Rc&&"CompositionEvent"in window,Rf=null;Rc&&"documentMode"in document&&(Rf=document.documentMode);var X1=Rc&&"TextEvent"in window&&!Rf,$g=Rc&&(!qp||Rf&&8<Rf&&11>=Rf),t0=" ",e0=!1;function r0(Qe,an){switch(Qe){case"keyup":return Y1.indexOf(an.keyCode)!==-1;case"keydown":return an.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function i0(Qe){return Qe=Qe.detail,typeof Qe=="object"&&"data"in Qe?Qe.data:null}var Wu=!1;function q1(Qe,an){switch(Qe){case"compositionend":return i0(an);case"keypress":return an.which!==32?null:(e0=!0,t0);case"textInput":return Qe=an.data,Qe===t0&&e0?null:Qe;default:return null}}function W1(Qe,an){if(Wu)return Qe==="compositionend"||!qp&&r0(Qe,an)?(Qe=Wg(),Md=Gp=Qc=null,Wu=!1,Qe):null;switch(Qe){case"paste":return null;case"keypress":if(!(an.ctrlKey||an.altKey||an.metaKey)||an.ctrlKey&&an.altKey){if(an.char&&1<an.char.length)return an.char;if(an.which)return String.fromCharCode(an.which)}return null;case"compositionend":return $g&&an.locale!=="ko"?null:an.data;default:return null}}var K1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n0(Qe){var an=Qe&&Qe.nodeName&&Qe.nodeName.toLowerCase();return an==="input"?!!K1[Qe.type]:an==="textarea"}function s0(Qe,an,un,Wn){Xu?qu?qu.push(Wn):qu=[Wn]:Xu=Wn,an=xp(an,"onChange"),0<an.length&&(un=new kd("onChange","change",null,un,Wn),Qe.push({event:un,listeners:an}))}var Of=null,Lf=null;function Z1(Qe){Vy(Qe,0)}function Rd(Qe){var an=Zl(Qe);if(Ig(an))return Qe}function a0(Qe,an){if(Qe==="change")return an}var o0=!1;if(Rc){var Wp;if(Rc){var Kp="oninput"in document;if(!Kp){var l0=document.createElement("div");l0.setAttribute("oninput","return;"),Kp=typeof l0.oninput=="function"}Wp=Kp}else Wp=!1;o0=Wp&&(!document.documentMode||9<document.documentMode)}function h0(){Of&&(Of.detachEvent("onpropertychange",c0),Lf=Of=null)}function c0(Qe){if(Qe.propertyName==="value"&&Rd(Lf)){var an=[];s0(an,Lf,Qe,Vp(Qe)),qg(Z1,an)}}function Q1(Qe,an,un){Qe==="focusin"?(h0(),Of=an,Lf=un,Of.attachEvent("onpropertychange",c0)):Qe==="focusout"&&h0()}function J1(Qe){if(Qe==="selectionchange"||Qe==="keyup"||Qe==="keydown")return Rd(Lf)}function $1(Qe,an){if(Qe==="click")return Rd(an)}function tx(Qe,an){if(Qe==="input"||Qe==="change")return Rd(an)}function ex(Qe,an){return Qe===an&&(Qe!==0||1/Qe===1/an)||Qe!==Qe&&an!==an}var ec=typeof Object.is=="function"?Object.is:ex;function Ff(Qe,an){if(ec(Qe,an))return!0;if(typeof Qe!="object"||Qe===null||typeof an!="object"||an===null)return!1;var un=Object.keys(Qe),Wn=Object.keys(an);if(un.length!==Wn.length)return!1;for(Wn=0;Wn<un.length;Wn++){var Jn=un[Wn];if(!yh.call(an,Jn)||!ec(Qe[Jn],an[Jn]))return!1}return!0}function u0(Qe){for(;Qe&&Qe.firstChild;)Qe=Qe.firstChild;return Qe}function f0(Qe,an){var un=u0(Qe);Qe=0;for(var Wn;un;){if(un.nodeType===3){if(Wn=Qe+un.textContent.length,Qe<=an&&Wn>=an)return{node:un,offset:an-Qe};Qe=Wn}t:{for(;un;){if(un.nextSibling){un=un.nextSibling;break t}un=un.parentNode}un=void 0}un=u0(un)}}function d0(Qe,an){return Qe&&an?Qe===an?!0:Qe&&Qe.nodeType===3?!1:an&&an.nodeType===3?d0(Qe,an.parentNode):"contains"in Qe?Qe.contains(an):Qe.compareDocumentPosition?!!(Qe.compareDocumentPosition(an)&16):!1:!1}function p0(Qe){Qe=Qe!=null&&Qe.ownerDocument!=null&&Qe.ownerDocument.defaultView!=null?Qe.ownerDocument.defaultView:window;for(var an=Td(Qe.document);an instanceof Qe.HTMLIFrameElement;){try{var un=typeof an.contentWindow.location.href=="string"}catch{un=!1}if(un)Qe=an.contentWindow;else break;an=Td(Qe.document)}return an}function Zp(Qe){var an=Qe&&Qe.nodeName&&Qe.nodeName.toLowerCase();return an&&(an==="input"&&(Qe.type==="text"||Qe.type==="search"||Qe.type==="tel"||Qe.type==="url"||Qe.type==="password")||an==="textarea"||Qe.contentEditable==="true")}var rx=Rc&&"documentMode"in document&&11>=document.documentMode,Ku=null,Qp=null,Bf=null,Jp=!1;function m0(Qe,an,un){var Wn=un.window===un?un.document:un.nodeType===9?un:un.ownerDocument;Jp||Ku==null||Ku!==Td(Wn)||(Wn=Ku,"selectionStart"in Wn&&Zp(Wn)?Wn={start:Wn.selectionStart,end:Wn.selectionEnd}:(Wn=(Wn.ownerDocument&&Wn.ownerDocument.defaultView||window).getSelection(),Wn={anchorNode:Wn.anchorNode,anchorOffset:Wn.anchorOffset,focusNode:Wn.focusNode,focusOffset:Wn.focusOffset}),Bf&&Ff(Bf,Wn)||(Bf=Wn,Wn=xp(Qp,"onSelect"),0<Wn.length&&(an=new kd("onSelect","select",null,an,un),Qe.push({event:an,listeners:Wn}),an.target=Ku)))}function Mu(Qe,an){var un={};return un[Qe.toLowerCase()]=an.toLowerCase(),un["Webkit"+Qe]="webkit"+an,un["Moz"+Qe]="moz"+an,un}var Zu={animationend:Mu("Animation","AnimationEnd"),animationiteration:Mu("Animation","AnimationIteration"),animationstart:Mu("Animation","AnimationStart"),transitionrun:Mu("Transition","TransitionRun"),transitionstart:Mu("Transition","TransitionStart"),transitioncancel:Mu("Transition","TransitionCancel"),transitionend:Mu("Transition","TransitionEnd")},$p={},g0={};Rc&&(g0=document.createElement("div").style,"AnimationEvent"in window||(delete Zu.animationend.animation,delete Zu.animationiteration.animation,delete Zu.animationstart.animation),"TransitionEvent"in window||delete Zu.transitionend.transition);function Au(Qe){if($p[Qe])return $p[Qe];if(!Zu[Qe])return Qe;var an=Zu[Qe],un;for(un in an)if(an.hasOwnProperty(un)&&un in g0)return $p[Qe]=an[un];return Qe}var v0=Au("animationend"),y0=Au("animationiteration"),x0=Au("animationstart"),ix=Au("transitionrun"),nx=Au("transitionstart"),sx=Au("transitioncancel"),b0=Au("transitionend"),S0=new Map,tm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tm.push("scrollEnd");function bc(Qe,an){S0.set(Qe,an),Gh(an,[Qe])}var _0=new WeakMap;function uc(Qe,an){if(typeof Qe=="object"&&Qe!==null){var un=_0.get(Qe);return un!==void 0?un:(an={value:Qe,source:an,stack:Mf(an)},_0.set(Qe,an),an)}return{value:Qe,source:an,stack:Mf(an)}}var fc=[],Qu=0,em=0;function Od(){for(var Qe=Qu,an=em=Qu=0;an<Qe;){var un=fc[an];fc[an++]=null;var Wn=fc[an];fc[an++]=null;var Jn=fc[an];fc[an++]=null;var xs=fc[an];if(fc[an++]=null,Wn!==null&&Jn!==null){var fa=Wn.pending;fa===null?Jn.next=Jn:(Jn.next=fa.next,fa.next=Jn),Wn.pending=Jn}xs!==0&&C0(un,Jn,xs)}}function Ld(Qe,an,un,Wn){fc[Qu++]=Qe,fc[Qu++]=an,fc[Qu++]=un,fc[Qu++]=Wn,em|=Wn,Qe.lanes|=Wn,Qe=Qe.alternate,Qe!==null&&(Qe.lanes|=Wn)}function rm(Qe,an,un,Wn){return Ld(Qe,an,un,Wn),Fd(Qe)}function Ju(Qe,an){return Ld(Qe,null,null,an),Fd(Qe)}function C0(Qe,an,un){Qe.lanes|=un;var Wn=Qe.alternate;Wn!==null&&(Wn.lanes|=un);for(var Jn=!1,xs=Qe.return;xs!==null;)xs.childLanes|=un,Wn=xs.alternate,Wn!==null&&(Wn.childLanes|=un),xs.tag===22&&(Qe=xs.stateNode,Qe===null||Qe._visibility&1||(Jn=!0)),Qe=xs,xs=xs.return;return Qe.tag===3?(xs=Qe.stateNode,Jn&&an!==null&&(Jn=31-xh(un),Qe=xs.hiddenUpdates,Wn=Qe[Jn],Wn===null?Qe[Jn]=[an]:Wn.push(an),an.lane=un|536870912),xs):null}function Fd(Qe){if(50<od)throw od=0,hg=null,Error(Ke(185));for(var an=Qe.return;an!==null;)Qe=an,an=Qe.return;return Qe.tag===3?Qe.stateNode:null}var $u={};function ax(Qe,an,un,Wn){this.tag=Qe,this.key=un,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=an,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Wn,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rc(Qe,an,un,Wn){return new ax(Qe,an,un,Wn)}function im(Qe){return Qe=Qe.prototype,!(!Qe||!Qe.isReactComponent)}function Oc(Qe,an){var un=Qe.alternate;return un===null?(un=rc(Qe.tag,an,Qe.key,Qe.mode),un.elementType=Qe.elementType,un.type=Qe.type,un.stateNode=Qe.stateNode,un.alternate=Qe,Qe.alternate=un):(un.pendingProps=an,un.type=Qe.type,un.flags=0,un.subtreeFlags=0,un.deletions=null),un.flags=Qe.flags&65011712,un.childLanes=Qe.childLanes,un.lanes=Qe.lanes,un.child=Qe.child,un.memoizedProps=Qe.memoizedProps,un.memoizedState=Qe.memoizedState,un.updateQueue=Qe.updateQueue,an=Qe.dependencies,un.dependencies=an===null?null:{lanes:an.lanes,firstContext:an.firstContext},un.sibling=Qe.sibling,un.index=Qe.index,un.ref=Qe.ref,un.refCleanup=Qe.refCleanup,un}function E0(Qe,an){Qe.flags&=65011714;var un=Qe.alternate;return un===null?(Qe.childLanes=0,Qe.lanes=an,Qe.child=null,Qe.subtreeFlags=0,Qe.memoizedProps=null,Qe.memoizedState=null,Qe.updateQueue=null,Qe.dependencies=null,Qe.stateNode=null):(Qe.childLanes=un.childLanes,Qe.lanes=un.lanes,Qe.child=un.child,Qe.subtreeFlags=0,Qe.deletions=null,Qe.memoizedProps=un.memoizedProps,Qe.memoizedState=un.memoizedState,Qe.updateQueue=un.updateQueue,Qe.type=un.type,an=un.dependencies,Qe.dependencies=an===null?null:{lanes:an.lanes,firstContext:an.firstContext}),Qe}function Bd(Qe,an,un,Wn,Jn,xs){var fa=0;if(Wn=Qe,typeof Qe=="function")im(Qe)&&(fa=1);else if(typeof Qe=="string")fa=hb(Qe,un,rl.current)?26:Qe==="html"||Qe==="head"||Qe==="body"?27:5;else t:switch(Qe){case Sa:return Qe=rc(31,un,an,Jn),Qe.elementType=Sa,Qe.lanes=xs,Qe;case bs:return Du(un.children,Jn,xs,an);case ia:fa=8,Jn|=24;break;case la:return Qe=rc(12,un,an,Jn|2),Qe.elementType=la,Qe.lanes=xs,Qe;case oa:return Qe=rc(13,un,an,Jn),Qe.elementType=oa,Qe.lanes=xs,Qe;case ha:return Qe=rc(19,un,an,Jn),Qe.elementType=ha,Qe.lanes=xs,Qe;default:if(typeof Qe=="object"&&Qe!==null)switch(Qe.$$typeof){case ra:case na:fa=10;break t;case sa:fa=9;break t;case aa:fa=11;break t;case ga:fa=14;break t;case va:fa=16,Wn=null;break t}fa=29,un=Error(Ke(130,Qe===null?"null":typeof Qe,"")),Wn=null}return an=rc(fa,un,an,Jn),an.elementType=Qe,an.type=Wn,an.lanes=xs,an}function Du(Qe,an,un,Wn){return Qe=rc(7,Qe,Wn,an),Qe.lanes=un,Qe}function sm(Qe,an,un){return Qe=rc(6,Qe,null,an),Qe.lanes=un,Qe}function am(Qe,an,un){return an=rc(4,Qe.children!==null?Qe.children:[],Qe.key,an),an.lanes=un,an.stateNode={containerInfo:Qe.containerInfo,pendingChildren:null,implementation:Qe.implementation},an}var tf=[],ef=0,jd=null,zd=0,dc=[],pc=0,ku=null,Lc=1,Fc="";function Pu(Qe,an){tf[ef++]=zd,tf[ef++]=jd,jd=Qe,zd=an}function T0(Qe,an,un){dc[pc++]=Lc,dc[pc++]=Fc,dc[pc++]=ku,ku=Qe;var Wn=Lc;Qe=Fc;var Jn=32-xh(Wn)-1;Wn&=~(1<<Jn),un+=1;var xs=32-xh(an)+Jn;if(30<xs){var fa=Jn-Jn%5;xs=(Wn&(1<<fa)-1).toString(32),Wn>>=fa,Jn-=fa,Lc=1<<32-xh(an)+Jn|un<<Jn|Wn,Fc=xs+Qe}else Lc=1<<xs|un<<Jn|Wn,Fc=Qe}function om(Qe){Qe.return!==null&&(Pu(Qe,1),T0(Qe,1,0))}function lm(Qe){for(;Qe===jd;)jd=tf[--ef],tf[ef]=null,zd=tf[--ef],tf[ef]=null;for(;Qe===ku;)ku=dc[--pc],dc[pc]=null,Fc=dc[--pc],dc[pc]=null,Lc=dc[--pc],dc[pc]=null}var Hh=null,bh=null,Vl=!1,Ru=null,Tc=!1,hm=Error(Ke(519));function Ou(Qe){var an=Error(Ke(418,""));throw Vf(uc(an,Qe)),hm}function w0(Qe){var an=Qe.stateNode,un=Qe.type,Wn=Qe.memoizedProps;switch(an[sl]=Qe,an[ol]=Wn,un){case"dialog":Pl("cancel",an),Pl("close",an);break;case"iframe":case"object":case"embed":Pl("load",an);break;case"video":case"audio":for(un=0;un<hd.length;un++)Pl(hd[un],an);break;case"source":Pl("error",an);break;case"img":case"image":case"link":Pl("error",an),Pl("load",an);break;case"details":Pl("toggle",an);break;case"input":Pl("invalid",an),Ng(an,Wn.value,Wn.defaultValue,Wn.checked,Wn.defaultChecked,Wn.type,Wn.name,!0),Ed(an);break;case"select":Pl("invalid",an);break;case"textarea":Pl("invalid",an),Hg(an,Wn.value,Wn.defaultValue,Wn.children),Ed(an)}un=Wn.children,typeof un!="string"&&typeof un!="number"&&typeof un!="bigint"||an.textContent===""+un||Wn.suppressHydrationWarning===!0||Hy(an.textContent,un)?(Wn.popover!=null&&(Pl("beforetoggle",an),Pl("toggle",an)),Wn.onScroll!=null&&Pl("scroll",an),Wn.onScrollEnd!=null&&Pl("scrollend",an),Wn.onClick!=null&&(an.onclick=bp),an=!0):an=!1,an||Ou(Qe)}function M0(Qe){for(Hh=Qe.return;Hh;)switch(Hh.tag){case 5:case 13:Tc=!1;return;case 27:case 3:Tc=!0;return;default:Hh=Hh.return}}function jf(Qe){if(Qe!==Hh)return!1;if(!Vl)return M0(Qe),Vl=!0,!1;var an=Qe.tag,un;if((un=an!==3&&an!==27)&&((un=an===5)&&(un=Qe.type,un=!(un!=="form"&&un!=="button")||Tg(Qe.type,Qe.memoizedProps)),un=!un),un&&bh&&Ou(Qe),M0(Qe),an===13){if(Qe=Qe.memoizedState,Qe=Qe!==null?Qe.dehydrated:null,!Qe)throw Error(Ke(317));t:{for(Qe=Qe.nextSibling,an=0;Qe;){if(Qe.nodeType===8)if(un=Qe.data,un==="/$"){if(an===0){bh=_c(Qe.nextSibling);break t}an--}else un!=="$"&&un!=="$!"&&un!=="$?"||an++;Qe=Qe.nextSibling}bh=null}}else an===27?(an=bh,du(Qe.type)?(Qe=Dg,Dg=null,bh=Qe):bh=an):bh=Hh?_c(Qe.stateNode.nextSibling):null;return!0}function zf(){bh=Hh=null,Vl=!1}function A0(){var Qe=Ru;return Qe!==null&&(tc===null?tc=Qe:tc.push.apply(tc,Qe),Ru=null),Qe}function Vf(Qe){Ru===null?Ru=[Qe]:Ru.push(Qe)}var cm=xa(null),Lu=null,Bc=null;function Jc(Qe,an,un){Ja(cm,an._currentValue),an._currentValue=un}function jc(Qe){Qe._currentValue=cm.current,Oa(cm)}function um(Qe,an,un){for(;Qe!==null;){var Wn=Qe.alternate;if((Qe.childLanes&an)!==an?(Qe.childLanes|=an,Wn!==null&&(Wn.childLanes|=an)):Wn!==null&&(Wn.childLanes&an)!==an&&(Wn.childLanes|=an),Qe===un)break;Qe=Qe.return}}function fm(Qe,an,un,Wn){var Jn=Qe.child;for(Jn!==null&&(Jn.return=Qe);Jn!==null;){var xs=Jn.dependencies;if(xs!==null){var fa=Jn.child;xs=xs.firstContext;t:for(;xs!==null;){var ma=xs;xs=Jn;for(var ba=0;ba<an.length;ba++)if(ma.context===an[ba]){xs.lanes|=un,ma=xs.alternate,ma!==null&&(ma.lanes|=un),um(xs.return,un,Qe),Wn||(fa=null);break t}xs=ma.next}}else if(Jn.tag===18){if(fa=Jn.return,fa===null)throw Error(Ke(341));fa.lanes|=un,xs=fa.alternate,xs!==null&&(xs.lanes|=un),um(fa,un,Qe),fa=null}else fa=Jn.child;if(fa!==null)fa.return=Jn;else for(fa=Jn;fa!==null;){if(fa===Qe){fa=null;break}if(Jn=fa.sibling,Jn!==null){Jn.return=fa.return,fa=Jn;break}fa=fa.return}Jn=fa}}function If(Qe,an,un,Wn){Qe=null;for(var Jn=an,xs=!1;Jn!==null;){if(!xs){if((Jn.flags&524288)!==0)xs=!0;else if((Jn.flags&262144)!==0)break}if(Jn.tag===10){var fa=Jn.alternate;if(fa===null)throw Error(Ke(387));if(fa=fa.memoizedProps,fa!==null){var ma=Jn.type;ec(Jn.pendingProps.value,fa.value)||(Qe!==null?Qe.push(ma):Qe=[ma])}}else if(Jn===Tl.current){if(fa=Jn.alternate,fa===null)throw Error(Ke(387));fa.memoizedState.memoizedState!==Jn.memoizedState.memoizedState&&(Qe!==null?Qe.push(md):Qe=[md])}Jn=Jn.return}Qe!==null&&fm(an,Qe,un,Wn),an.flags|=262144}function Vd(Qe){for(Qe=Qe.firstContext;Qe!==null;){if(!ec(Qe.context._currentValue,Qe.memoizedValue))return!0;Qe=Qe.next}return!1}function Fu(Qe){Lu=Qe,Bc=null,Qe=Qe.dependencies,Qe!==null&&(Qe.firstContext=null)}function Ih(Qe){return D0(Lu,Qe)}function Id(Qe,an){return Lu===null&&Fu(Qe),D0(Qe,an)}function D0(Qe,an){var un=an._currentValue;if(an={context:an,memoizedValue:un,next:null},Bc===null){if(Qe===null)throw Error(Ke(308));Bc=an,Qe.dependencies={lanes:0,firstContext:an},Qe.flags|=524288}else Bc=Bc.next=an;return un}var ox=typeof AbortController<"u"?AbortController:function(){var Qe=[],an=this.signal={aborted:!1,addEventListener:function(un,Wn){Qe.push(Wn)}};this.abort=function(){an.aborted=!0,Qe.forEach(function(un){return un()})}},lx=qe.unstable_scheduleCallback,hx=qe.unstable_NormalPriority,Mh={$$typeof:na,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dm(){return{controller:new ox,data:new Map,refCount:0}}function Nf(Qe){Qe.refCount--,Qe.refCount===0&&lx(hx,function(){Qe.controller.abort()})}var Gf=null,pm=0,rf=0,nf=null;function cx(Qe,an){if(Gf===null){var un=Gf=[];pm=0,rf=gg(),nf={status:"pending",value:void 0,then:function(Wn){un.push(Wn)}}}return pm++,an.then(k0,k0),an}function k0(){if(--pm===0&&Gf!==null){nf!==null&&(nf.status="fulfilled");var Qe=Gf;Gf=null,rf=0,nf=null;for(var an=0;an<Qe.length;an++)(0,Qe[an])()}}function ux(Qe,an){var un=[],Wn={status:"pending",value:null,reason:null,then:function(Jn){un.push(Jn)}};return Qe.then(function(){Wn.status="fulfilled",Wn.value=an;for(var Jn=0;Jn<un.length;Jn++)(0,un[Jn])(an)},function(Jn){for(Wn.status="rejected",Wn.reason=Jn,Jn=0;Jn<un.length;Jn++)(0,un[Jn])(void 0)}),Wn}var P0=ua.S;ua.S=function(Qe,an){typeof an=="object"&&an!==null&&typeof an.then=="function"&&cx(Qe,an),P0!==null&&P0(Qe,an)};var Bu=xa(null);function mm(){var Qe=Bu.current;return Qe!==null?Qe:Wl.pooledCache}function Nd(Qe,an){an===null?Ja(Bu,Bu.current):Ja(Bu,an.pool)}function R0(){var Qe=mm();return Qe===null?null:{parent:Mh._currentValue,pool:Qe}}var Hf=Error(Ke(460)),O0=Error(Ke(474)),Gd=Error(Ke(542)),gm={then:function(){}};function L0(Qe){return Qe=Qe.status,Qe==="fulfilled"||Qe==="rejected"}function Hd(){}function F0(Qe,an,un){switch(un=Qe[un],un===void 0?Qe.push(an):un!==an&&(an.then(Hd,Hd),an=un),an.status){case"fulfilled":return an.value;case"rejected":throw Qe=an.reason,j0(Qe),Qe;default:if(typeof an.status=="string")an.then(Hd,Hd);else{if(Qe=Wl,Qe!==null&&100<Qe.shellSuspendCounter)throw Error(Ke(482));Qe=an,Qe.status="pending",Qe.then(function(Wn){if(an.status==="pending"){var Jn=an;Jn.status="fulfilled",Jn.value=Wn}},function(Wn){if(an.status==="pending"){var Jn=an;Jn.status="rejected",Jn.reason=Wn}})}switch(an.status){case"fulfilled":return an.value;case"rejected":throw Qe=an.reason,j0(Qe),Qe}throw Uf=an,Hf}}var Uf=null;function B0(){if(Uf===null)throw Error(Ke(459));var Qe=Uf;return Uf=null,Qe}function j0(Qe){if(Qe===Hf||Qe===Gd)throw Error(Ke(483))}var $c=!1;function vm(Qe){Qe.updateQueue={baseState:Qe.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ym(Qe,an){Qe=Qe.updateQueue,an.updateQueue===Qe&&(an.updateQueue={baseState:Qe.baseState,firstBaseUpdate:Qe.firstBaseUpdate,lastBaseUpdate:Qe.lastBaseUpdate,shared:Qe.shared,callbacks:null})}function tu(Qe){return{lane:Qe,tag:0,payload:null,callback:null,next:null}}function eu(Qe,an,un){var Wn=Qe.updateQueue;if(Wn===null)return null;if(Wn=Wn.shared,(Il&2)!==0){var Jn=Wn.pending;return Jn===null?an.next=an:(an.next=Jn.next,Jn.next=an),Wn.pending=an,an=Fd(Qe),C0(Qe,null,un),an}return Ld(Qe,Wn,an,un),Fd(Qe)}function Yf(Qe,an,un){if(an=an.updateQueue,an!==null&&(an=an.shared,(un&4194048)!==0)){var Wn=an.lanes;Wn&=Qe.pendingLanes,un|=Wn,an.lanes=un,Eu(Qe,un)}}function xm(Qe,an){var un=Qe.updateQueue,Wn=Qe.alternate;if(Wn!==null&&(Wn=Wn.updateQueue,un===Wn)){var Jn=null,xs=null;if(un=un.firstBaseUpdate,un!==null){do{var fa={lane:un.lane,tag:un.tag,payload:un.payload,callback:null,next:null};xs===null?Jn=xs=fa:xs=xs.next=fa,un=un.next}while(un!==null);xs===null?Jn=xs=an:xs=xs.next=an}else Jn=xs=an;un={baseState:Wn.baseState,firstBaseUpdate:Jn,lastBaseUpdate:xs,shared:Wn.shared,callbacks:Wn.callbacks},Qe.updateQueue=un;return}Qe=un.lastBaseUpdate,Qe===null?un.firstBaseUpdate=an:Qe.next=an,un.lastBaseUpdate=an}var bm=!1;function Xf(){if(bm){var Qe=nf;if(Qe!==null)throw Qe}}function qf(Qe,an,un,Wn){bm=!1;var Jn=Qe.updateQueue;$c=!1;var xs=Jn.firstBaseUpdate,fa=Jn.lastBaseUpdate,ma=Jn.shared.pending;if(ma!==null){Jn.shared.pending=null;var ba=ma,ka=ba.next;ba.next=null,fa===null?xs=ka:fa.next=ka,fa=ba;var el=Qe.alternate;el!==null&&(el=el.updateQueue,ma=el.lastBaseUpdate,ma!==fa&&(ma===null?el.firstBaseUpdate=ka:ma.next=ka,el.lastBaseUpdate=ba))}if(xs!==null){var nl=Jn.baseState;fa=0,el=ka=ba=null,ma=xs;do{var qa=ma.lane&-536870913,Ka=qa!==ma.lane;if(Ka?(Ol&qa)===qa:(Wn&qa)===qa){qa!==0&&qa===rf&&(bm=!0),el!==null&&(el=el.next={lane:0,tag:ma.tag,payload:ma.payload,callback:null,next:null});t:{var Sl=Qe,yl=ma;qa=an;var Ul=un;switch(yl.tag){case 1:if(Sl=yl.payload,typeof Sl=="function"){nl=Sl.call(Ul,nl,qa);break t}nl=Sl;break t;case 3:Sl.flags=Sl.flags&-65537|128;case 0:if(Sl=yl.payload,qa=typeof Sl=="function"?Sl.call(Ul,nl,qa):Sl,qa==null)break t;nl=Qn({},nl,qa);break t;case 2:$c=!0}}qa=ma.callback,qa!==null&&(Qe.flags|=64,Ka&&(Qe.flags|=8192),Ka=Jn.callbacks,Ka===null?Jn.callbacks=[qa]:Ka.push(qa))}else Ka={lane:qa,tag:ma.tag,payload:ma.payload,callback:ma.callback,next:null},el===null?(ka=el=Ka,ba=nl):el=el.next=Ka,fa|=qa;if(ma=ma.next,ma===null){if(ma=Jn.shared.pending,ma===null)break;Ka=ma,ma=Ka.next,Ka.next=null,Jn.lastBaseUpdate=Ka,Jn.shared.pending=null}}while(!0);el===null&&(ba=nl),Jn.baseState=ba,Jn.firstBaseUpdate=ka,Jn.lastBaseUpdate=el,xs===null&&(Jn.shared.lanes=0),hu|=fa,Qe.lanes=fa,Qe.memoizedState=nl}}function z0(Qe,an){if(typeof Qe!="function")throw Error(Ke(191,Qe));Qe.call(an)}function V0(Qe,an){var un=Qe.callbacks;if(un!==null)for(Qe.callbacks=null,Qe=0;Qe<un.length;Qe++)z0(un[Qe],an)}var sf=xa(null),Ud=xa(0);function I0(Qe,an){Qe=Uc,Ja(Ud,Qe),Ja(sf,an),Uc=Qe|an.baseLanes}function Sm(){Ja(Ud,Uc),Ja(sf,sf.current)}function _m(){Uc=Ud.current,Oa(sf),Oa(Ud)}var ru=0,wl=null,Gl=null,Th=null,Yd=!1,af=!1,ju=!1,Xd=0,Wf=0,of=null,fx=0;function Ch(){throw Error(Ke(321))}function Cm(Qe,an){if(an===null)return!1;for(var un=0;un<an.length&&un<Qe.length;un++)if(!ec(Qe[un],an[un]))return!1;return!0}function Em(Qe,an,un,Wn,Jn,xs){return ru=xs,wl=an,an.memoizedState=null,an.updateQueue=null,an.lanes=0,ua.H=Qe===null||Qe.memoizedState===null?Cv:Ev,ju=!1,xs=un(Wn,Jn),ju=!1,af&&(xs=G0(an,un,Wn,Jn)),N0(Qe),xs}function N0(Qe){ua.H=Jd;var an=Gl!==null&&Gl.next!==null;if(ru=0,Th=Gl=wl=null,Yd=!1,Wf=0,of=null,an)throw Error(Ke(300));Qe===null||kh||(Qe=Qe.dependencies,Qe!==null&&Vd(Qe)&&(kh=!0))}function G0(Qe,an,un,Wn){wl=Qe;var Jn=0;do{if(af&&(of=null),Wf=0,af=!1,25<=Jn)throw Error(Ke(301));if(Jn+=1,Th=Gl=null,Qe.updateQueue!=null){var xs=Qe.updateQueue;xs.lastEffect=null,xs.events=null,xs.stores=null,xs.memoCache!=null&&(xs.memoCache.index=0)}ua.H=xx,xs=an(un,Wn)}while(af);return xs}function dx(){var Qe=ua.H,an=Qe.useState()[0];return an=typeof an.then=="function"?Kf(an):an,Qe=Qe.useState()[0],(Gl!==null?Gl.memoizedState:null)!==Qe&&(wl.flags|=1024),an}function Tm(){var Qe=Xd!==0;return Xd=0,Qe}function wm(Qe,an,un){an.updateQueue=Qe.updateQueue,an.flags&=-2053,Qe.lanes&=~un}function Mm(Qe){if(Yd){for(Qe=Qe.memoizedState;Qe!==null;){var an=Qe.queue;an!==null&&(an.pending=null),Qe=Qe.next}Yd=!1}ru=0,Th=Gl=wl=null,af=!1,Wf=Xd=0,of=null}function Jh(){var Qe={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Th===null?wl.memoizedState=Th=Qe:Th=Th.next=Qe,Th}function wh(){if(Gl===null){var Qe=wl.alternate;Qe=Qe!==null?Qe.memoizedState:null}else Qe=Gl.next;var an=Th===null?wl.memoizedState:Th.next;if(an!==null)Th=an,Gl=Qe;else{if(Qe===null)throw wl.alternate===null?Error(Ke(467)):Error(Ke(310));Gl=Qe,Qe={memoizedState:Gl.memoizedState,baseState:Gl.baseState,baseQueue:Gl.baseQueue,queue:Gl.queue,next:null},Th===null?wl.memoizedState=Th=Qe:Th=Th.next=Qe}return Th}function Am(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kf(Qe){var an=Wf;return Wf+=1,of===null&&(of=[]),Qe=F0(of,Qe,an),an=wl,(Th===null?an.memoizedState:Th.next)===null&&(an=an.alternate,ua.H=an===null||an.memoizedState===null?Cv:Ev),Qe}function qd(Qe){if(Qe!==null&&typeof Qe=="object"){if(typeof Qe.then=="function")return Kf(Qe);if(Qe.$$typeof===na)return Ih(Qe)}throw Error(Ke(438,String(Qe)))}function Dm(Qe){var an=null,un=wl.updateQueue;if(un!==null&&(an=un.memoCache),an==null){var Wn=wl.alternate;Wn!==null&&(Wn=Wn.updateQueue,Wn!==null&&(Wn=Wn.memoCache,Wn!=null&&(an={data:Wn.data.map(function(Jn){return Jn.slice()}),index:0})))}if(an==null&&(an={data:[],index:0}),un===null&&(un=Am(),wl.updateQueue=un),un.memoCache=an,un=an.data[an.index],un===void 0)for(un=an.data[an.index]=Array(Qe),Wn=0;Wn<Qe;Wn++)un[Wn]=tl;return an.index++,un}function zc(Qe,an){return typeof an=="function"?an(Qe):an}function Wd(Qe){var an=wh();return km(an,Gl,Qe)}function km(Qe,an,un){var Wn=Qe.queue;if(Wn===null)throw Error(Ke(311));Wn.lastRenderedReducer=un;var Jn=Qe.baseQueue,xs=Wn.pending;if(xs!==null){if(Jn!==null){var fa=Jn.next;Jn.next=xs.next,xs.next=fa}an.baseQueue=Jn=xs,Wn.pending=null}if(xs=Qe.baseState,Jn===null)Qe.memoizedState=xs;else{an=Jn.next;var ma=fa=null,ba=null,ka=an,el=!1;do{var nl=ka.lane&-536870913;if(nl!==ka.lane?(Ol&nl)===nl:(ru&nl)===nl){var qa=ka.revertLane;if(qa===0)ba!==null&&(ba=ba.next={lane:0,revertLane:0,action:ka.action,hasEagerState:ka.hasEagerState,eagerState:ka.eagerState,next:null}),nl===rf&&(el=!0);else if((ru&qa)===qa){ka=ka.next,qa===rf&&(el=!0);continue}else nl={lane:0,revertLane:ka.revertLane,action:ka.action,hasEagerState:ka.hasEagerState,eagerState:ka.eagerState,next:null},ba===null?(ma=ba=nl,fa=xs):ba=ba.next=nl,wl.lanes|=qa,hu|=qa;nl=ka.action,ju&&un(xs,nl),xs=ka.hasEagerState?ka.eagerState:un(xs,nl)}else qa={lane:nl,revertLane:ka.revertLane,action:ka.action,hasEagerState:ka.hasEagerState,eagerState:ka.eagerState,next:null},ba===null?(ma=ba=qa,fa=xs):ba=ba.next=qa,wl.lanes|=nl,hu|=nl;ka=ka.next}while(ka!==null&&ka!==an);if(ba===null?fa=xs:ba.next=ma,!ec(xs,Qe.memoizedState)&&(kh=!0,el&&(un=nf,un!==null)))throw un;Qe.memoizedState=xs,Qe.baseState=fa,Qe.baseQueue=ba,Wn.lastRenderedState=xs}return Jn===null&&(Wn.lanes=0),[Qe.memoizedState,Wn.dispatch]}function Pm(Qe){var an=wh(),un=an.queue;if(un===null)throw Error(Ke(311));un.lastRenderedReducer=Qe;var Wn=un.dispatch,Jn=un.pending,xs=an.memoizedState;if(Jn!==null){un.pending=null;var fa=Jn=Jn.next;do xs=Qe(xs,fa.action),fa=fa.next;while(fa!==Jn);ec(xs,an.memoizedState)||(kh=!0),an.memoizedState=xs,an.baseQueue===null&&(an.baseState=xs),un.lastRenderedState=xs}return[xs,Wn]}function H0(Qe,an,un){var Wn=wl,Jn=wh(),xs=Vl;if(xs){if(un===void 0)throw Error(Ke(407));un=un()}else un=an();var fa=!ec((Gl||Jn).memoizedState,un);fa&&(Jn.memoizedState=un,kh=!0),Jn=Jn.queue;var ma=X0.bind(null,Wn,Jn,Qe);if(Zf(2048,8,ma,[Qe]),Jn.getSnapshot!==an||fa||Th!==null&&Th.memoizedState.tag&1){if(Wn.flags|=2048,lf(9,Kd(),Y0.bind(null,Wn,Jn,un,an),null),Wl===null)throw Error(Ke(349));xs||(ru&124)!==0||U0(Wn,an,un)}return un}function U0(Qe,an,un){Qe.flags|=16384,Qe={getSnapshot:an,value:un},an=wl.updateQueue,an===null?(an=Am(),wl.updateQueue=an,an.stores=[Qe]):(un=an.stores,un===null?an.stores=[Qe]:un.push(Qe))}function Y0(Qe,an,un,Wn){an.value=un,an.getSnapshot=Wn,q0(an)&&W0(Qe)}function X0(Qe,an,un){return un(function(){q0(an)&&W0(Qe)})}function q0(Qe){var an=Qe.getSnapshot;Qe=Qe.value;try{var un=an();return!ec(Qe,un)}catch{return!0}}function W0(Qe){var an=Ju(Qe,2);an!==null&&oc(an,Qe,2)}function Rm(Qe){var an=Jh();if(typeof Qe=="function"){var un=Qe;if(Qe=un(),ju){zh(!0);try{un()}finally{zh(!1)}}}return an.memoizedState=an.baseState=Qe,an.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zc,lastRenderedState:Qe},an}function K0(Qe,an,un,Wn){return Qe.baseState=un,km(Qe,Gl,typeof Wn=="function"?Wn:zc)}function px(Qe,an,un,Wn,Jn){if(Qd(Qe))throw Error(Ke(485));if(Qe=an.action,Qe!==null){var xs={payload:Jn,action:Qe,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(fa){xs.listeners.push(fa)}};ua.T!==null?un(!0):xs.isTransition=!1,Wn(xs),un=an.pending,un===null?(xs.next=an.pending=xs,Z0(an,xs)):(xs.next=un.next,an.pending=un.next=xs)}}function Z0(Qe,an){var un=an.action,Wn=an.payload,Jn=Qe.state;if(an.isTransition){var xs=ua.T,fa={};ua.T=fa;try{var ma=un(Jn,Wn),ba=ua.S;ba!==null&&ba(fa,ma),Q0(Qe,an,ma)}catch(ka){Om(Qe,an,ka)}finally{ua.T=xs}}else try{xs=un(Jn,Wn),Q0(Qe,an,xs)}catch(ka){Om(Qe,an,ka)}}function Q0(Qe,an,un){un!==null&&typeof un=="object"&&typeof un.then=="function"?un.then(function(Wn){J0(Qe,an,Wn)},function(Wn){return Om(Qe,an,Wn)}):J0(Qe,an,un)}function J0(Qe,an,un){an.status="fulfilled",an.value=un,$0(an),Qe.state=un,an=Qe.pending,an!==null&&(un=an.next,un===an?Qe.pending=null:(un=un.next,an.next=un,Z0(Qe,un)))}function Om(Qe,an,un){var Wn=Qe.pending;if(Qe.pending=null,Wn!==null){Wn=Wn.next;do an.status="rejected",an.reason=un,$0(an),an=an.next;while(an!==Wn)}Qe.action=null}function $0(Qe){Qe=Qe.listeners;for(var an=0;an<Qe.length;an++)(0,Qe[an])()}function tv(Qe,an){return an}function ev(Qe,an){if(Vl){var un=Wl.formState;if(un!==null){t:{var Wn=wl;if(Vl){if(bh){e:{for(var Jn=bh,xs=Tc;Jn.nodeType!==8;){if(!xs){Jn=null;break e}if(Jn=_c(Jn.nextSibling),Jn===null){Jn=null;break e}}xs=Jn.data,Jn=xs==="F!"||xs==="F"?Jn:null}if(Jn){bh=_c(Jn.nextSibling),Wn=Jn.data==="F!";break t}}Ou(Wn)}Wn=!1}Wn&&(an=un[0])}}return un=Jh(),un.memoizedState=un.baseState=an,Wn={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tv,lastRenderedState:an},un.queue=Wn,un=bv.bind(null,wl,Wn),Wn.dispatch=un,Wn=Rm(!1),xs=zm.bind(null,wl,!1,Wn.queue),Wn=Jh(),Jn={state:an,dispatch:null,action:Qe,pending:null},Wn.queue=Jn,un=px.bind(null,wl,Jn,xs,un),Jn.dispatch=un,Wn.memoizedState=Qe,[an,un,!1]}function rv(Qe){var an=wh();return iv(an,Gl,Qe)}function iv(Qe,an,un){if(an=km(Qe,an,tv)[0],Qe=Wd(zc)[0],typeof an=="object"&&an!==null&&typeof an.then=="function")try{var Wn=Kf(an)}catch(fa){throw fa===Hf?Gd:fa}else Wn=an;an=wh();var Jn=an.queue,xs=Jn.dispatch;return un!==an.memoizedState&&(wl.flags|=2048,lf(9,Kd(),mx.bind(null,Jn,un),null)),[Wn,xs,Qe]}function mx(Qe,an){Qe.action=an}function nv(Qe){var an=wh(),un=Gl;if(un!==null)return iv(an,un,Qe);wh(),an=an.memoizedState,un=wh();var Wn=un.queue.dispatch;return un.memoizedState=Qe,[an,Wn,!1]}function lf(Qe,an,un,Wn){return Qe={tag:Qe,create:un,deps:Wn,inst:an,next:null},an=wl.updateQueue,an===null&&(an=Am(),wl.updateQueue=an),un=an.lastEffect,un===null?an.lastEffect=Qe.next=Qe:(Wn=un.next,un.next=Qe,Qe.next=Wn,an.lastEffect=Qe),Qe}function Kd(){return{destroy:void 0,resource:void 0}}function sv(){return wh().memoizedState}function Zd(Qe,an,un,Wn){var Jn=Jh();Wn=Wn===void 0?null:Wn,wl.flags|=Qe,Jn.memoizedState=lf(1|an,Kd(),un,Wn)}function Zf(Qe,an,un,Wn){var Jn=wh();Wn=Wn===void 0?null:Wn;var xs=Jn.memoizedState.inst;Gl!==null&&Wn!==null&&Cm(Wn,Gl.memoizedState.deps)?Jn.memoizedState=lf(an,xs,un,Wn):(wl.flags|=Qe,Jn.memoizedState=lf(1|an,xs,un,Wn))}function av(Qe,an){Zd(8390656,8,Qe,an)}function ov(Qe,an){Zf(2048,8,Qe,an)}function lv(Qe,an){return Zf(4,2,Qe,an)}function hv(Qe,an){return Zf(4,4,Qe,an)}function cv(Qe,an){if(typeof an=="function"){Qe=Qe();var un=an(Qe);return function(){typeof un=="function"?un():an(null)}}if(an!=null)return Qe=Qe(),an.current=Qe,function(){an.current=null}}function uv(Qe,an,un){un=un!=null?un.concat([Qe]):null,Zf(4,4,cv.bind(null,an,Qe),un)}function Lm(){}function fv(Qe,an){var un=wh();an=an===void 0?null:an;var Wn=un.memoizedState;return an!==null&&Cm(an,Wn[1])?Wn[0]:(un.memoizedState=[Qe,an],Qe)}function dv(Qe,an){var un=wh();an=an===void 0?null:an;var Wn=un.memoizedState;if(an!==null&&Cm(an,Wn[1]))return Wn[0];if(Wn=Qe(),ju){zh(!0);try{Qe()}finally{zh(!1)}}return un.memoizedState=[Wn,an],Wn}function Fm(Qe,an,un){return un===void 0||(ru&1073741824)!==0?Qe.memoizedState=an:(Qe.memoizedState=un,Qe=gy(),wl.lanes|=Qe,hu|=Qe,un)}function pv(Qe,an,un,Wn){return ec(un,an)?un:sf.current!==null?(Qe=Fm(Qe,un,Wn),ec(Qe,an)||(kh=!0),Qe):(ru&42)===0?(kh=!0,Qe.memoizedState=un):(Qe=gy(),wl.lanes|=Qe,hu|=Qe,an)}function mv(Qe,an,un,Wn,Jn){var xs=ya.p;ya.p=xs!==0&&8>xs?xs:8;var fa=ua.T,ma={};ua.T=ma,zm(Qe,!1,an,un);try{var ba=Jn(),ka=ua.S;if(ka!==null&&ka(ma,ba),ba!==null&&typeof ba=="object"&&typeof ba.then=="function"){var el=ux(ba,Wn);Qf(Qe,an,el,ac(Qe))}else Qf(Qe,an,Wn,ac(Qe))}catch(nl){Qf(Qe,an,{then:function(){},status:"rejected",reason:nl},ac())}finally{ya.p=xs,ua.T=fa}}function gx(){}function Bm(Qe,an,un,Wn){if(Qe.tag!==5)throw Error(Ke(476));var Jn=gv(Qe).queue;mv(Qe,Jn,an,ca,un===null?gx:function(){return vv(Qe),un(Wn)})}function gv(Qe){var an=Qe.memoizedState;if(an!==null)return an;an={memoizedState:ca,baseState:ca,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zc,lastRenderedState:ca},next:null};var un={};return an.next={memoizedState:un,baseState:un,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zc,lastRenderedState:un},next:null},Qe.memoizedState=an,Qe=Qe.alternate,Qe!==null&&(Qe.memoizedState=an),an}function vv(Qe){var an=gv(Qe).next.queue;Qf(Qe,an,{},ac())}function jm(){return Ih(md)}function yv(){return wh().memoizedState}function xv(){return wh().memoizedState}function vx(Qe){for(var an=Qe.return;an!==null;){switch(an.tag){case 24:case 3:var un=ac();Qe=tu(un);var Wn=eu(an,Qe,un);Wn!==null&&(oc(Wn,an,un),Yf(Wn,an,un)),an={cache:dm()},Qe.payload=an;return}an=an.return}}function yx(Qe,an,un){var Wn=ac();un={lane:Wn,revertLane:0,action:un,hasEagerState:!1,eagerState:null,next:null},Qd(Qe)?Sv(an,un):(un=rm(Qe,an,un,Wn),un!==null&&(oc(un,Qe,Wn),_v(un,an,Wn)))}function bv(Qe,an,un){var Wn=ac();Qf(Qe,an,un,Wn)}function Qf(Qe,an,un,Wn){var Jn={lane:Wn,revertLane:0,action:un,hasEagerState:!1,eagerState:null,next:null};if(Qd(Qe))Sv(an,Jn);else{var xs=Qe.alternate;if(Qe.lanes===0&&(xs===null||xs.lanes===0)&&(xs=an.lastRenderedReducer,xs!==null))try{var fa=an.lastRenderedState,ma=xs(fa,un);if(Jn.hasEagerState=!0,Jn.eagerState=ma,ec(ma,fa))return Ld(Qe,an,Jn,0),Wl===null&&Od(),!1}catch{}finally{}if(un=rm(Qe,an,Jn,Wn),un!==null)return oc(un,Qe,Wn),_v(un,an,Wn),!0}return!1}function zm(Qe,an,un,Wn){if(Wn={lane:2,revertLane:gg(),action:Wn,hasEagerState:!1,eagerState:null,next:null},Qd(Qe)){if(an)throw Error(Ke(479))}else an=rm(Qe,un,Wn,2),an!==null&&oc(an,Qe,2)}function Qd(Qe){var an=Qe.alternate;return Qe===wl||an!==null&&an===wl}function Sv(Qe,an){af=Yd=!0;var un=Qe.pending;un===null?an.next=an:(an.next=un.next,un.next=an),Qe.pending=an}function _v(Qe,an,un){if((un&4194048)!==0){var Wn=an.lanes;Wn&=Qe.pendingLanes,un|=Wn,an.lanes=un,Eu(Qe,un)}}var Jd={readContext:Ih,use:qd,useCallback:Ch,useContext:Ch,useEffect:Ch,useImperativeHandle:Ch,useLayoutEffect:Ch,useInsertionEffect:Ch,useMemo:Ch,useReducer:Ch,useRef:Ch,useState:Ch,useDebugValue:Ch,useDeferredValue:Ch,useTransition:Ch,useSyncExternalStore:Ch,useId:Ch,useHostTransitionStatus:Ch,useFormState:Ch,useActionState:Ch,useOptimistic:Ch,useMemoCache:Ch,useCacheRefresh:Ch},Cv={readContext:Ih,use:qd,useCallback:function(Qe,an){return Jh().memoizedState=[Qe,an===void 0?null:an],Qe},useContext:Ih,useEffect:av,useImperativeHandle:function(Qe,an,un){un=un!=null?un.concat([Qe]):null,Zd(4194308,4,cv.bind(null,an,Qe),un)},useLayoutEffect:function(Qe,an){return Zd(4194308,4,Qe,an)},useInsertionEffect:function(Qe,an){Zd(4,2,Qe,an)},useMemo:function(Qe,an){var un=Jh();an=an===void 0?null:an;var Wn=Qe();if(ju){zh(!0);try{Qe()}finally{zh(!1)}}return un.memoizedState=[Wn,an],Wn},useReducer:function(Qe,an,un){var Wn=Jh();if(un!==void 0){var Jn=un(an);if(ju){zh(!0);try{un(an)}finally{zh(!1)}}}else Jn=an;return Wn.memoizedState=Wn.baseState=Jn,Qe={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qe,lastRenderedState:Jn},Wn.queue=Qe,Qe=Qe.dispatch=yx.bind(null,wl,Qe),[Wn.memoizedState,Qe]},useRef:function(Qe){var an=Jh();return Qe={current:Qe},an.memoizedState=Qe},useState:function(Qe){Qe=Rm(Qe);var an=Qe.queue,un=bv.bind(null,wl,an);return an.dispatch=un,[Qe.memoizedState,un]},useDebugValue:Lm,useDeferredValue:function(Qe,an){var un=Jh();return Fm(un,Qe,an)},useTransition:function(){var Qe=Rm(!1);return Qe=mv.bind(null,wl,Qe.queue,!0,!1),Jh().memoizedState=Qe,[!1,Qe]},useSyncExternalStore:function(Qe,an,un){var Wn=wl,Jn=Jh();if(Vl){if(un===void 0)throw Error(Ke(407));un=un()}else{if(un=an(),Wl===null)throw Error(Ke(349));(Ol&124)!==0||U0(Wn,an,un)}Jn.memoizedState=un;var xs={value:un,getSnapshot:an};return Jn.queue=xs,av(X0.bind(null,Wn,xs,Qe),[Qe]),Wn.flags|=2048,lf(9,Kd(),Y0.bind(null,Wn,xs,un,an),null),un},useId:function(){var Qe=Jh(),an=Wl.identifierPrefix;if(Vl){var un=Fc,Wn=Lc;un=(Wn&~(1<<32-xh(Wn)-1)).toString(32)+un,an=""+an+"R"+un,un=Xd++,0<un&&(an+="H"+un.toString(32)),an+=""}else un=fx++,an=""+an+"r"+un.toString(32)+"";return Qe.memoizedState=an},useHostTransitionStatus:jm,useFormState:ev,useActionState:ev,useOptimistic:function(Qe){var an=Jh();an.memoizedState=an.baseState=Qe;var un={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return an.queue=un,an=zm.bind(null,wl,!0,un),un.dispatch=an,[Qe,an]},useMemoCache:Dm,useCacheRefresh:function(){return Jh().memoizedState=vx.bind(null,wl)}},Ev={readContext:Ih,use:qd,useCallback:fv,useContext:Ih,useEffect:ov,useImperativeHandle:uv,useInsertionEffect:lv,useLayoutEffect:hv,useMemo:dv,useReducer:Wd,useRef:sv,useState:function(){return Wd(zc)},useDebugValue:Lm,useDeferredValue:function(Qe,an){var un=wh();return pv(un,Gl.memoizedState,Qe,an)},useTransition:function(){var Qe=Wd(zc)[0],an=wh().memoizedState;return[typeof Qe=="boolean"?Qe:Kf(Qe),an]},useSyncExternalStore:H0,useId:yv,useHostTransitionStatus:jm,useFormState:rv,useActionState:rv,useOptimistic:function(Qe,an){var un=wh();return K0(un,Gl,Qe,an)},useMemoCache:Dm,useCacheRefresh:xv},xx={readContext:Ih,use:qd,useCallback:fv,useContext:Ih,useEffect:ov,useImperativeHandle:uv,useInsertionEffect:lv,useLayoutEffect:hv,useMemo:dv,useReducer:Pm,useRef:sv,useState:function(){return Pm(zc)},useDebugValue:Lm,useDeferredValue:function(Qe,an){var un=wh();return Gl===null?Fm(un,Qe,an):pv(un,Gl.memoizedState,Qe,an)},useTransition:function(){var Qe=Pm(zc)[0],an=wh().memoizedState;return[typeof Qe=="boolean"?Qe:Kf(Qe),an]},useSyncExternalStore:H0,useId:yv,useHostTransitionStatus:jm,useFormState:nv,useActionState:nv,useOptimistic:function(Qe,an){var un=wh();return Gl!==null?K0(un,Gl,Qe,an):(un.baseState=Qe,[Qe,un.queue.dispatch])},useMemoCache:Dm,useCacheRefresh:xv},hf=null,Jf=0;function $d(Qe){var an=Jf;return Jf+=1,hf===null&&(hf=[]),F0(hf,Qe,an)}function $f(Qe,an){an=an.props.ref,Qe.ref=an!==void 0?an:null}function tp(Qe,an){throw an.$$typeof===ys?Error(Ke(525)):(Qe=Object.prototype.toString.call(an),Error(Ke(31,Qe==="[object Object]"?"object with keys {"+Object.keys(an).join(", ")+"}":Qe)))}function Tv(Qe){var an=Qe._init;return an(Qe._payload)}function wv(Qe){function an(Ea,Ca){if(Qe){var Da=Ea.deletions;Da===null?(Ea.deletions=[Ca],Ea.flags|=16):Da.push(Ca)}}function un(Ea,Ca){if(!Qe)return null;for(;Ca!==null;)an(Ea,Ca),Ca=Ca.sibling;return null}function Wn(Ea){for(var Ca=new Map;Ea!==null;)Ea.key!==null?Ca.set(Ea.key,Ea):Ca.set(Ea.index,Ea),Ea=Ea.sibling;return Ca}function Jn(Ea,Ca){return Ea=Oc(Ea,Ca),Ea.index=0,Ea.sibling=null,Ea}function xs(Ea,Ca,Da){return Ea.index=Da,Qe?(Da=Ea.alternate,Da!==null?(Da=Da.index,Da<Ca?(Ea.flags|=67108866,Ca):Da):(Ea.flags|=67108866,Ca)):(Ea.flags|=1048576,Ca)}function fa(Ea){return Qe&&Ea.alternate===null&&(Ea.flags|=67108866),Ea}function ma(Ea,Ca,Da,il){return Ca===null||Ca.tag!==6?(Ca=sm(Da,Ea.mode,il),Ca.return=Ea,Ca):(Ca=Jn(Ca,Da),Ca.return=Ea,Ca)}function ba(Ea,Ca,Da,il){var ul=Da.type;return ul===bs?el(Ea,Ca,Da.props.children,il,Da.key):Ca!==null&&(Ca.elementType===ul||typeof ul=="object"&&ul!==null&&ul.$$typeof===va&&Tv(ul)===Ca.type)?(Ca=Jn(Ca,Da.props),$f(Ca,Da),Ca.return=Ea,Ca):(Ca=Bd(Da.type,Da.key,Da.props,null,Ea.mode,il),$f(Ca,Da),Ca.return=Ea,Ca)}function ka(Ea,Ca,Da,il){return Ca===null||Ca.tag!==4||Ca.stateNode.containerInfo!==Da.containerInfo||Ca.stateNode.implementation!==Da.implementation?(Ca=am(Da,Ea.mode,il),Ca.return=Ea,Ca):(Ca=Jn(Ca,Da.children||[]),Ca.return=Ea,Ca)}function el(Ea,Ca,Da,il,ul){return Ca===null||Ca.tag!==7?(Ca=Du(Da,Ea.mode,il,ul),Ca.return=Ea,Ca):(Ca=Jn(Ca,Da),Ca.return=Ea,Ca)}function nl(Ea,Ca,Da){if(typeof Ca=="string"&&Ca!==""||typeof Ca=="number"||typeof Ca=="bigint")return Ca=sm(""+Ca,Ea.mode,Da),Ca.return=Ea,Ca;if(typeof Ca=="object"&&Ca!==null){switch(Ca.$$typeof){case vs:return Da=Bd(Ca.type,Ca.key,Ca.props,null,Ea.mode,Da),$f(Da,Ca),Da.return=Ea,Da;case Cs:return Ca=am(Ca,Ea.mode,Da),Ca.return=Ea,Ca;case va:var il=Ca._init;return Ca=il(Ca._payload),nl(Ea,Ca,Da)}if(Ma(Ca)||Ta(Ca))return Ca=Du(Ca,Ea.mode,Da,null),Ca.return=Ea,Ca;if(typeof Ca.then=="function")return nl(Ea,$d(Ca),Da);if(Ca.$$typeof===na)return nl(Ea,Id(Ea,Ca),Da);tp(Ea,Ca)}return null}function qa(Ea,Ca,Da,il){var ul=Ca!==null?Ca.key:null;if(typeof Da=="string"&&Da!==""||typeof Da=="number"||typeof Da=="bigint")return ul!==null?null:ma(Ea,Ca,""+Da,il);if(typeof Da=="object"&&Da!==null){switch(Da.$$typeof){case vs:return Da.key===ul?ba(Ea,Ca,Da,il):null;case Cs:return Da.key===ul?ka(Ea,Ca,Da,il):null;case va:return ul=Da._init,Da=ul(Da._payload),qa(Ea,Ca,Da,il)}if(Ma(Da)||Ta(Da))return ul!==null?null:el(Ea,Ca,Da,il,null);if(typeof Da.then=="function")return qa(Ea,Ca,$d(Da),il);if(Da.$$typeof===na)return qa(Ea,Ca,Id(Ea,Da),il);tp(Ea,Da)}return null}function Ka(Ea,Ca,Da,il,ul){if(typeof il=="string"&&il!==""||typeof il=="number"||typeof il=="bigint")return Ea=Ea.get(Da)||null,ma(Ca,Ea,""+il,ul);if(typeof il=="object"&&il!==null){switch(il.$$typeof){case vs:return Ea=Ea.get(il.key===null?Da:il.key)||null,ba(Ca,Ea,il,ul);case Cs:return Ea=Ea.get(il.key===null?Da:il.key)||null,ka(Ca,Ea,il,ul);case va:var Al=il._init;return il=Al(il._payload),Ka(Ea,Ca,Da,il,ul)}if(Ma(il)||Ta(il))return Ea=Ea.get(Da)||null,el(Ca,Ea,il,ul,null);if(typeof il.then=="function")return Ka(Ea,Ca,Da,$d(il),ul);if(il.$$typeof===na)return Ka(Ea,Ca,Da,Id(Ca,il),ul);tp(Ca,il)}return null}function Sl(Ea,Ca,Da,il){for(var ul=null,Al=null,pl=Ca,xl=Ca=0,Rh=null;pl!==null&&xl<Da.length;xl++){pl.index>xl?(Rh=pl,pl=null):Rh=pl.sibling;var Bl=qa(Ea,pl,Da[xl],il);if(Bl===null){pl===null&&(pl=Rh);break}Qe&&pl&&Bl.alternate===null&&an(Ea,pl),Ca=xs(Bl,Ca,xl),Al===null?ul=Bl:Al.sibling=Bl,Al=Bl,pl=Rh}if(xl===Da.length)return un(Ea,pl),Vl&&Pu(Ea,xl),ul;if(pl===null){for(;xl<Da.length;xl++)pl=nl(Ea,Da[xl],il),pl!==null&&(Ca=xs(pl,Ca,xl),Al===null?ul=pl:Al.sibling=pl,Al=pl);return Vl&&Pu(Ea,xl),ul}for(pl=Wn(pl);xl<Da.length;xl++)Rh=Ka(pl,Ea,xl,Da[xl],il),Rh!==null&&(Qe&&Rh.alternate!==null&&pl.delete(Rh.key===null?xl:Rh.key),Ca=xs(Rh,Ca,xl),Al===null?ul=Rh:Al.sibling=Rh,Al=Rh);return Qe&&pl.forEach(function(yu){return an(Ea,yu)}),Vl&&Pu(Ea,xl),ul}function yl(Ea,Ca,Da,il){if(Da==null)throw Error(Ke(151));for(var ul=null,Al=null,pl=Ca,xl=Ca=0,Rh=null,Bl=Da.next();pl!==null&&!Bl.done;xl++,Bl=Da.next()){pl.index>xl?(Rh=pl,pl=null):Rh=pl.sibling;var yu=qa(Ea,pl,Bl.value,il);if(yu===null){pl===null&&(pl=Rh);break}Qe&&pl&&yu.alternate===null&&an(Ea,pl),Ca=xs(yu,Ca,xl),Al===null?ul=yu:Al.sibling=yu,Al=yu,pl=Rh}if(Bl.done)return un(Ea,pl),Vl&&Pu(Ea,xl),ul;if(pl===null){for(;!Bl.done;xl++,Bl=Da.next())Bl=nl(Ea,Bl.value,il),Bl!==null&&(Ca=xs(Bl,Ca,xl),Al===null?ul=Bl:Al.sibling=Bl,Al=Bl);return Vl&&Pu(Ea,xl),ul}for(pl=Wn(pl);!Bl.done;xl++,Bl=Da.next())Bl=Ka(pl,Ea,xl,Bl.value,il),Bl!==null&&(Qe&&Bl.alternate!==null&&pl.delete(Bl.key===null?xl:Bl.key),Ca=xs(Bl,Ca,xl),Al===null?ul=Bl:Al.sibling=Bl,Al=Bl);return Qe&&pl.forEach(function(Sb){return an(Ea,Sb)}),Vl&&Pu(Ea,xl),ul}function Ul(Ea,Ca,Da,il){if(typeof Da=="object"&&Da!==null&&Da.type===bs&&Da.key===null&&(Da=Da.props.children),typeof Da=="object"&&Da!==null){switch(Da.$$typeof){case vs:t:{for(var ul=Da.key;Ca!==null;){if(Ca.key===ul){if(ul=Da.type,ul===bs){if(Ca.tag===7){un(Ea,Ca.sibling),il=Jn(Ca,Da.props.children),il.return=Ea,Ea=il;break t}}else if(Ca.elementType===ul||typeof ul=="object"&&ul!==null&&ul.$$typeof===va&&Tv(ul)===Ca.type){un(Ea,Ca.sibling),il=Jn(Ca,Da.props),$f(il,Da),il.return=Ea,Ea=il;break t}un(Ea,Ca);break}else an(Ea,Ca);Ca=Ca.sibling}Da.type===bs?(il=Du(Da.props.children,Ea.mode,il,Da.key),il.return=Ea,Ea=il):(il=Bd(Da.type,Da.key,Da.props,null,Ea.mode,il),$f(il,Da),il.return=Ea,Ea=il)}return fa(Ea);case Cs:t:{for(ul=Da.key;Ca!==null;){if(Ca.key===ul)if(Ca.tag===4&&Ca.stateNode.containerInfo===Da.containerInfo&&Ca.stateNode.implementation===Da.implementation){un(Ea,Ca.sibling),il=Jn(Ca,Da.children||[]),il.return=Ea,Ea=il;break t}else{un(Ea,Ca);break}else an(Ea,Ca);Ca=Ca.sibling}il=am(Da,Ea.mode,il),il.return=Ea,Ea=il}return fa(Ea);case va:return ul=Da._init,Da=ul(Da._payload),Ul(Ea,Ca,Da,il)}if(Ma(Da))return Sl(Ea,Ca,Da,il);if(Ta(Da)){if(ul=Ta(Da),typeof ul!="function")throw Error(Ke(150));return Da=ul.call(Da),yl(Ea,Ca,Da,il)}if(typeof Da.then=="function")return Ul(Ea,Ca,$d(Da),il);if(Da.$$typeof===na)return Ul(Ea,Ca,Id(Ea,Da),il);tp(Ea,Da)}return typeof Da=="string"&&Da!==""||typeof Da=="number"||typeof Da=="bigint"?(Da=""+Da,Ca!==null&&Ca.tag===6?(un(Ea,Ca.sibling),il=Jn(Ca,Da),il.return=Ea,Ea=il):(un(Ea,Ca),il=sm(Da,Ea.mode,il),il.return=Ea,Ea=il),fa(Ea)):un(Ea,Ca)}return function(Ea,Ca,Da,il){try{Jf=0;var ul=Ul(Ea,Ca,Da,il);return hf=null,ul}catch(pl){if(pl===Hf||pl===Gd)throw pl;var Al=rc(29,pl,null,Ea.mode);return Al.lanes=il,Al.return=Ea,Al}finally{}}}var cf=wv(!0),Mv=wv(!1),mc=xa(null),wc=null;function iu(Qe){var an=Qe.alternate;Ja(Ah,Ah.current&1),Ja(mc,Qe),wc===null&&(an===null||sf.current!==null||an.memoizedState!==null)&&(wc=Qe)}function Av(Qe){if(Qe.tag===22){if(Ja(Ah,Ah.current),Ja(mc,Qe),wc===null){var an=Qe.alternate;an!==null&&an.memoizedState!==null&&(wc=Qe)}}else nu()}function nu(){Ja(Ah,Ah.current),Ja(mc,mc.current)}function Vc(Qe){Oa(mc),wc===Qe&&(wc=null),Oa(Ah)}var Ah=xa(0);function ep(Qe){for(var an=Qe;an!==null;){if(an.tag===13){var un=an.memoizedState;if(un!==null&&(un=un.dehydrated,un===null||un.data==="$?"||Ag(un)))return an}else if(an.tag===19&&an.memoizedProps.revealOrder!==void 0){if((an.flags&128)!==0)return an}else if(an.child!==null){an.child.return=an,an=an.child;continue}if(an===Qe)break;for(;an.sibling===null;){if(an.return===null||an.return===Qe)return null;an=an.return}an.sibling.return=an.return,an=an.sibling}return null}function Vm(Qe,an,un,Wn){an=Qe.memoizedState,un=un(Wn,an),un=un==null?an:Qn({},an,un),Qe.memoizedState=un,Qe.lanes===0&&(Qe.updateQueue.baseState=un)}var Im={enqueueSetState:function(Qe,an,un){Qe=Qe._reactInternals;var Wn=ac(),Jn=tu(Wn);Jn.payload=an,un!=null&&(Jn.callback=un),an=eu(Qe,Jn,Wn),an!==null&&(oc(an,Qe,Wn),Yf(an,Qe,Wn))},enqueueReplaceState:function(Qe,an,un){Qe=Qe._reactInternals;var Wn=ac(),Jn=tu(Wn);Jn.tag=1,Jn.payload=an,un!=null&&(Jn.callback=un),an=eu(Qe,Jn,Wn),an!==null&&(oc(an,Qe,Wn),Yf(an,Qe,Wn))},enqueueForceUpdate:function(Qe,an){Qe=Qe._reactInternals;var un=ac(),Wn=tu(un);Wn.tag=2,an!=null&&(Wn.callback=an),an=eu(Qe,Wn,un),an!==null&&(oc(an,Qe,un),Yf(an,Qe,un))}};function Dv(Qe,an,un,Wn,Jn,xs,fa){return Qe=Qe.stateNode,typeof Qe.shouldComponentUpdate=="function"?Qe.shouldComponentUpdate(Wn,xs,fa):an.prototype&&an.prototype.isPureReactComponent?!Ff(un,Wn)||!Ff(Jn,xs):!0}function kv(Qe,an,un,Wn){Qe=an.state,typeof an.componentWillReceiveProps=="function"&&an.componentWillReceiveProps(un,Wn),typeof an.UNSAFE_componentWillReceiveProps=="function"&&an.UNSAFE_componentWillReceiveProps(un,Wn),an.state!==Qe&&Im.enqueueReplaceState(an,an.state,null)}function zu(Qe,an){var un=an;if("ref"in an){un={};for(var Wn in an)Wn!=="ref"&&(un[Wn]=an[Wn])}if(Qe=Qe.defaultProps){un===an&&(un=Qn({},un));for(var Jn in Qe)un[Jn]===void 0&&(un[Jn]=Qe[Jn])}return un}var rp=typeof reportError=="function"?reportError:function(Qe){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var an=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Qe=="object"&&Qe!==null&&typeof Qe.message=="string"?String(Qe.message):String(Qe),error:Qe});if(!window.dispatchEvent(an))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Qe);return}console.error(Qe)};function Pv(Qe){rp(Qe)}function Rv(Qe){console.error(Qe)}function Ov(Qe){rp(Qe)}function np(Qe,an){try{var un=Qe.onUncaughtError;un(an.value,{componentStack:an.stack})}catch(Wn){setTimeout(function(){throw Wn})}}function Lv(Qe,an,un){try{var Wn=Qe.onCaughtError;Wn(un.value,{componentStack:un.stack,errorBoundary:an.tag===1?an.stateNode:null})}catch(Jn){setTimeout(function(){throw Jn})}}function Nm(Qe,an,un){return un=tu(un),un.tag=3,un.payload={element:null},un.callback=function(){np(Qe,an)},un}function Fv(Qe){return Qe=tu(Qe),Qe.tag=3,Qe}function Bv(Qe,an,un,Wn){var Jn=un.type.getDerivedStateFromError;if(typeof Jn=="function"){var xs=Wn.value;Qe.payload=function(){return Jn(xs)},Qe.callback=function(){Lv(an,un,Wn)}}var fa=un.stateNode;fa!==null&&typeof fa.componentDidCatch=="function"&&(Qe.callback=function(){Lv(an,un,Wn),typeof Jn!="function"&&(cu===null?cu=new Set([this]):cu.add(this));var ma=Wn.stack;this.componentDidCatch(Wn.value,{componentStack:ma!==null?ma:""})})}function bx(Qe,an,un,Wn,Jn){if(un.flags|=32768,Wn!==null&&typeof Wn=="object"&&typeof Wn.then=="function"){if(an=un.alternate,an!==null&&If(an,un,Jn,!0),un=mc.current,un!==null){switch(un.tag){case 13:return wc===null?ug():un.alternate===null&&Sh===0&&(Sh=3),un.flags&=-257,un.flags|=65536,un.lanes=Jn,Wn===gm?un.flags|=16384:(an=un.updateQueue,an===null?un.updateQueue=new Set([Wn]):an.add(Wn),dg(Qe,Wn,Jn)),!1;case 22:return un.flags|=65536,Wn===gm?un.flags|=16384:(an=un.updateQueue,an===null?(an={transitions:null,markerInstances:null,retryQueue:new Set([Wn])},un.updateQueue=an):(un=an.retryQueue,un===null?an.retryQueue=new Set([Wn]):un.add(Wn)),dg(Qe,Wn,Jn)),!1}throw Error(Ke(435,un.tag))}return dg(Qe,Wn,Jn),ug(),!1}if(Vl)return an=mc.current,an!==null?((an.flags&65536)===0&&(an.flags|=256),an.flags|=65536,an.lanes=Jn,Wn!==hm&&(Qe=Error(Ke(422),{cause:Wn}),Vf(uc(Qe,un)))):(Wn!==hm&&(an=Error(Ke(423),{cause:Wn}),Vf(uc(an,un))),Qe=Qe.current.alternate,Qe.flags|=65536,Jn&=-Jn,Qe.lanes|=Jn,Wn=uc(Wn,un),Jn=Nm(Qe.stateNode,Wn,Jn),xm(Qe,Jn),Sh!==4&&(Sh=2)),!1;var xs=Error(Ke(520),{cause:Wn});if(xs=uc(xs,un),ad===null?ad=[xs]:ad.push(xs),Sh!==4&&(Sh=2),an===null)return!0;Wn=uc(Wn,un),un=an;do{switch(un.tag){case 3:return un.flags|=65536,Qe=Jn&-Jn,un.lanes|=Qe,Qe=Nm(un.stateNode,Wn,Qe),xm(un,Qe),!1;case 1:if(an=un.type,xs=un.stateNode,(un.flags&128)===0&&(typeof an.getDerivedStateFromError=="function"||xs!==null&&typeof xs.componentDidCatch=="function"&&(cu===null||!cu.has(xs))))return un.flags|=65536,Jn&=-Jn,un.lanes|=Jn,Jn=Fv(Jn),Bv(Jn,Qe,un,Wn),xm(un,Jn),!1}un=un.return}while(un!==null);return!1}var jv=Error(Ke(461)),kh=!1;function Lh(Qe,an,un,Wn){an.child=Qe===null?Mv(an,null,un,Wn):cf(an,Qe.child,un,Wn)}function zv(Qe,an,un,Wn,Jn){un=un.render;var xs=an.ref;if("ref"in Wn){var fa={};for(var ma in Wn)ma!=="ref"&&(fa[ma]=Wn[ma])}else fa=Wn;return Fu(an),Wn=Em(Qe,an,un,fa,xs,Jn),ma=Tm(),Qe!==null&&!kh?(wm(Qe,an,Jn),Ic(Qe,an,Jn)):(Vl&&ma&&om(an),an.flags|=1,Lh(Qe,an,Wn,Jn),an.child)}function Vv(Qe,an,un,Wn,Jn){if(Qe===null){var xs=un.type;return typeof xs=="function"&&!im(xs)&&xs.defaultProps===void 0&&un.compare===null?(an.tag=15,an.type=xs,Iv(Qe,an,xs,Wn,Jn)):(Qe=Bd(un.type,null,Wn,an,an.mode,Jn),Qe.ref=an.ref,Qe.return=an,an.child=Qe)}if(xs=Qe.child,!Km(Qe,Jn)){var fa=xs.memoizedProps;if(un=un.compare,un=un!==null?un:Ff,un(fa,Wn)&&Qe.ref===an.ref)return Ic(Qe,an,Jn)}return an.flags|=1,Qe=Oc(xs,Wn),Qe.ref=an.ref,Qe.return=an,an.child=Qe}function Iv(Qe,an,un,Wn,Jn){if(Qe!==null){var xs=Qe.memoizedProps;if(Ff(xs,Wn)&&Qe.ref===an.ref)if(kh=!1,an.pendingProps=Wn=xs,Km(Qe,Jn))(Qe.flags&131072)!==0&&(kh=!0);else return an.lanes=Qe.lanes,Ic(Qe,an,Jn)}return Gm(Qe,an,un,Wn,Jn)}function Nv(Qe,an,un){var Wn=an.pendingProps,Jn=Wn.children,xs=Qe!==null?Qe.memoizedState:null;if(Wn.mode==="hidden"){if((an.flags&128)!==0){if(Wn=xs!==null?xs.baseLanes|un:un,Qe!==null){for(Jn=an.child=Qe.child,xs=0;Jn!==null;)xs=xs|Jn.lanes|Jn.childLanes,Jn=Jn.sibling;an.childLanes=xs&~Wn}else an.childLanes=0,an.child=null;return Gv(Qe,an,Wn,un)}if((un&536870912)!==0)an.memoizedState={baseLanes:0,cachePool:null},Qe!==null&&Nd(an,xs!==null?xs.cachePool:null),xs!==null?I0(an,xs):Sm(),Av(an);else return an.lanes=an.childLanes=536870912,Gv(Qe,an,xs!==null?xs.baseLanes|un:un,un)}else xs!==null?(Nd(an,xs.cachePool),I0(an,xs),nu(),an.memoizedState=null):(Qe!==null&&Nd(an,null),Sm(),nu());return Lh(Qe,an,Jn,un),an.child}function Gv(Qe,an,un,Wn){var Jn=mm();return Jn=Jn===null?null:{parent:Mh._currentValue,pool:Jn},an.memoizedState={baseLanes:un,cachePool:Jn},Qe!==null&&Nd(an,null),Sm(),Av(an),Qe!==null&&If(Qe,an,Wn,!0),null}function sp(Qe,an){var un=an.ref;if(un===null)Qe!==null&&Qe.ref!==null&&(an.flags|=4194816);else{if(typeof un!="function"&&typeof un!="object")throw Error(Ke(284));(Qe===null||Qe.ref!==un)&&(an.flags|=4194816)}}function Gm(Qe,an,un,Wn,Jn){return Fu(an),un=Em(Qe,an,un,Wn,void 0,Jn),Wn=Tm(),Qe!==null&&!kh?(wm(Qe,an,Jn),Ic(Qe,an,Jn)):(Vl&&Wn&&om(an),an.flags|=1,Lh(Qe,an,un,Jn),an.child)}function Hv(Qe,an,un,Wn,Jn,xs){return Fu(an),an.updateQueue=null,un=G0(an,Wn,un,Jn),N0(Qe),Wn=Tm(),Qe!==null&&!kh?(wm(Qe,an,xs),Ic(Qe,an,xs)):(Vl&&Wn&&om(an),an.flags|=1,Lh(Qe,an,un,xs),an.child)}function Uv(Qe,an,un,Wn,Jn){if(Fu(an),an.stateNode===null){var xs=$u,fa=un.contextType;typeof fa=="object"&&fa!==null&&(xs=Ih(fa)),xs=new un(Wn,xs),an.memoizedState=xs.state!==null&&xs.state!==void 0?xs.state:null,xs.updater=Im,an.stateNode=xs,xs._reactInternals=an,xs=an.stateNode,xs.props=Wn,xs.state=an.memoizedState,xs.refs={},vm(an),fa=un.contextType,xs.context=typeof fa=="object"&&fa!==null?Ih(fa):$u,xs.state=an.memoizedState,fa=un.getDerivedStateFromProps,typeof fa=="function"&&(Vm(an,un,fa,Wn),xs.state=an.memoizedState),typeof un.getDerivedStateFromProps=="function"||typeof xs.getSnapshotBeforeUpdate=="function"||typeof xs.UNSAFE_componentWillMount!="function"&&typeof xs.componentWillMount!="function"||(fa=xs.state,typeof xs.componentWillMount=="function"&&xs.componentWillMount(),typeof xs.UNSAFE_componentWillMount=="function"&&xs.UNSAFE_componentWillMount(),fa!==xs.state&&Im.enqueueReplaceState(xs,xs.state,null),qf(an,Wn,xs,Jn),Xf(),xs.state=an.memoizedState),typeof xs.componentDidMount=="function"&&(an.flags|=4194308),Wn=!0}else if(Qe===null){xs=an.stateNode;var ma=an.memoizedProps,ba=zu(un,ma);xs.props=ba;var ka=xs.context,el=un.contextType;fa=$u,typeof el=="object"&&el!==null&&(fa=Ih(el));var nl=un.getDerivedStateFromProps;el=typeof nl=="function"||typeof xs.getSnapshotBeforeUpdate=="function",ma=an.pendingProps!==ma,el||typeof xs.UNSAFE_componentWillReceiveProps!="function"&&typeof xs.componentWillReceiveProps!="function"||(ma||ka!==fa)&&kv(an,xs,Wn,fa),$c=!1;var qa=an.memoizedState;xs.state=qa,qf(an,Wn,xs,Jn),Xf(),ka=an.memoizedState,ma||qa!==ka||$c?(typeof nl=="function"&&(Vm(an,un,nl,Wn),ka=an.memoizedState),(ba=$c||Dv(an,un,ba,Wn,qa,ka,fa))?(el||typeof xs.UNSAFE_componentWillMount!="function"&&typeof xs.componentWillMount!="function"||(typeof xs.componentWillMount=="function"&&xs.componentWillMount(),typeof xs.UNSAFE_componentWillMount=="function"&&xs.UNSAFE_componentWillMount()),typeof xs.componentDidMount=="function"&&(an.flags|=4194308)):(typeof xs.componentDidMount=="function"&&(an.flags|=4194308),an.memoizedProps=Wn,an.memoizedState=ka),xs.props=Wn,xs.state=ka,xs.context=fa,Wn=ba):(typeof xs.componentDidMount=="function"&&(an.flags|=4194308),Wn=!1)}else{xs=an.stateNode,ym(Qe,an),fa=an.memoizedProps,el=zu(un,fa),xs.props=el,nl=an.pendingProps,qa=xs.context,ka=un.contextType,ba=$u,typeof ka=="object"&&ka!==null&&(ba=Ih(ka)),ma=un.getDerivedStateFromProps,(ka=typeof ma=="function"||typeof xs.getSnapshotBeforeUpdate=="function")||typeof xs.UNSAFE_componentWillReceiveProps!="function"&&typeof xs.componentWillReceiveProps!="function"||(fa!==nl||qa!==ba)&&kv(an,xs,Wn,ba),$c=!1,qa=an.memoizedState,xs.state=qa,qf(an,Wn,xs,Jn),Xf();var Ka=an.memoizedState;fa!==nl||qa!==Ka||$c||Qe!==null&&Qe.dependencies!==null&&Vd(Qe.dependencies)?(typeof ma=="function"&&(Vm(an,un,ma,Wn),Ka=an.memoizedState),(el=$c||Dv(an,un,el,Wn,qa,Ka,ba)||Qe!==null&&Qe.dependencies!==null&&Vd(Qe.dependencies))?(ka||typeof xs.UNSAFE_componentWillUpdate!="function"&&typeof xs.componentWillUpdate!="function"||(typeof xs.componentWillUpdate=="function"&&xs.componentWillUpdate(Wn,Ka,ba),typeof xs.UNSAFE_componentWillUpdate=="function"&&xs.UNSAFE_componentWillUpdate(Wn,Ka,ba)),typeof xs.componentDidUpdate=="function"&&(an.flags|=4),typeof xs.getSnapshotBeforeUpdate=="function"&&(an.flags|=1024)):(typeof xs.componentDidUpdate!="function"||fa===Qe.memoizedProps&&qa===Qe.memoizedState||(an.flags|=4),typeof xs.getSnapshotBeforeUpdate!="function"||fa===Qe.memoizedProps&&qa===Qe.memoizedState||(an.flags|=1024),an.memoizedProps=Wn,an.memoizedState=Ka),xs.props=Wn,xs.state=Ka,xs.context=ba,Wn=el):(typeof xs.componentDidUpdate!="function"||fa===Qe.memoizedProps&&qa===Qe.memoizedState||(an.flags|=4),typeof xs.getSnapshotBeforeUpdate!="function"||fa===Qe.memoizedProps&&qa===Qe.memoizedState||(an.flags|=1024),Wn=!1)}return xs=Wn,sp(Qe,an),Wn=(an.flags&128)!==0,xs||Wn?(xs=an.stateNode,un=Wn&&typeof un.getDerivedStateFromError!="function"?null:xs.render(),an.flags|=1,Qe!==null&&Wn?(an.child=cf(an,Qe.child,null,Jn),an.child=cf(an,null,un,Jn)):Lh(Qe,an,un,Jn),an.memoizedState=xs.state,Qe=an.child):Qe=Ic(Qe,an,Jn),Qe}function Yv(Qe,an,un,Wn){return zf(),an.flags|=256,Lh(Qe,an,un,Wn),an.child}var Hm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Um(Qe){return{baseLanes:Qe,cachePool:R0()}}function Ym(Qe,an,un){return Qe=Qe!==null?Qe.childLanes&~un:0,an&&(Qe|=gc),Qe}function Xv(Qe,an,un){var Wn=an.pendingProps,Jn=!1,xs=(an.flags&128)!==0,fa;if((fa=xs)||(fa=Qe!==null&&Qe.memoizedState===null?!1:(Ah.current&2)!==0),fa&&(Jn=!0,an.flags&=-129),fa=(an.flags&32)!==0,an.flags&=-33,Qe===null){if(Vl){if(Jn?iu(an):nu(),Vl){var ma=bh,ba;if(ba=ma){t:{for(ba=ma,ma=Tc;ba.nodeType!==8;){if(!ma){ma=null;break t}if(ba=_c(ba.nextSibling),ba===null){ma=null;break t}}ma=ba}ma!==null?(an.memoizedState={dehydrated:ma,treeContext:ku!==null?{id:Lc,overflow:Fc}:null,retryLane:536870912,hydrationErrors:null},ba=rc(18,null,null,0),ba.stateNode=ma,ba.return=an,an.child=ba,Hh=an,bh=null,ba=!0):ba=!1}ba||Ou(an)}if(ma=an.memoizedState,ma!==null&&(ma=ma.dehydrated,ma!==null))return Ag(ma)?an.lanes=32:an.lanes=536870912,null;Vc(an)}return ma=Wn.children,Wn=Wn.fallback,Jn?(nu(),Jn=an.mode,ma=ap({mode:"hidden",children:ma},Jn),Wn=Du(Wn,Jn,un,null),ma.return=an,Wn.return=an,ma.sibling=Wn,an.child=ma,Jn=an.child,Jn.memoizedState=Um(un),Jn.childLanes=Ym(Qe,fa,un),an.memoizedState=Hm,Wn):(iu(an),Xm(an,ma))}if(ba=Qe.memoizedState,ba!==null&&(ma=ba.dehydrated,ma!==null)){if(xs)an.flags&256?(iu(an),an.flags&=-257,an=qm(Qe,an,un)):an.memoizedState!==null?(nu(),an.child=Qe.child,an.flags|=128,an=null):(nu(),Jn=Wn.fallback,ma=an.mode,Wn=ap({mode:"visible",children:Wn.children},ma),Jn=Du(Jn,ma,un,null),Jn.flags|=2,Wn.return=an,Jn.return=an,Wn.sibling=Jn,an.child=Wn,cf(an,Qe.child,null,un),Wn=an.child,Wn.memoizedState=Um(un),Wn.childLanes=Ym(Qe,fa,un),an.memoizedState=Hm,an=Jn);else if(iu(an),Ag(ma)){if(fa=ma.nextSibling&&ma.nextSibling.dataset,fa)var ka=fa.dgst;fa=ka,Wn=Error(Ke(419)),Wn.stack="",Wn.digest=fa,Vf({value:Wn,source:null,stack:null}),an=qm(Qe,an,un)}else if(kh||If(Qe,an,un,!1),fa=(un&Qe.childLanes)!==0,kh||fa){if(fa=Wl,fa!==null&&(Wn=un&-un,Wn=(Wn&42)!==0?1:Ef(Wn),Wn=(Wn&(fa.suspendedLanes|un))!==0?0:Wn,Wn!==0&&Wn!==ba.retryLane))throw ba.retryLane=Wn,Ju(Qe,Wn),oc(fa,Qe,Wn),jv;ma.data==="$?"||ug(),an=qm(Qe,an,un)}else ma.data==="$?"?(an.flags|=192,an.child=Qe.child,an=null):(Qe=ba.treeContext,bh=_c(ma.nextSibling),Hh=an,Vl=!0,Ru=null,Tc=!1,Qe!==null&&(dc[pc++]=Lc,dc[pc++]=Fc,dc[pc++]=ku,Lc=Qe.id,Fc=Qe.overflow,ku=an),an=Xm(an,Wn.children),an.flags|=4096);return an}return Jn?(nu(),Jn=Wn.fallback,ma=an.mode,ba=Qe.child,ka=ba.sibling,Wn=Oc(ba,{mode:"hidden",children:Wn.children}),Wn.subtreeFlags=ba.subtreeFlags&65011712,ka!==null?Jn=Oc(ka,Jn):(Jn=Du(Jn,ma,un,null),Jn.flags|=2),Jn.return=an,Wn.return=an,Wn.sibling=Jn,an.child=Wn,Wn=Jn,Jn=an.child,ma=Qe.child.memoizedState,ma===null?ma=Um(un):(ba=ma.cachePool,ba!==null?(ka=Mh._currentValue,ba=ba.parent!==ka?{parent:ka,pool:ka}:ba):ba=R0(),ma={baseLanes:ma.baseLanes|un,cachePool:ba}),Jn.memoizedState=ma,Jn.childLanes=Ym(Qe,fa,un),an.memoizedState=Hm,Wn):(iu(an),un=Qe.child,Qe=un.sibling,un=Oc(un,{mode:"visible",children:Wn.children}),un.return=an,un.sibling=null,Qe!==null&&(fa=an.deletions,fa===null?(an.deletions=[Qe],an.flags|=16):fa.push(Qe)),an.child=un,an.memoizedState=null,un)}function Xm(Qe,an){return an=ap({mode:"visible",children:an},Qe.mode),an.return=Qe,Qe.child=an}function ap(Qe,an){return Qe=rc(22,Qe,null,an),Qe.lanes=0,Qe.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},Qe}function qm(Qe,an,un){return cf(an,Qe.child,null,un),Qe=Xm(an,an.pendingProps.children),Qe.flags|=2,an.memoizedState=null,Qe}function qv(Qe,an,un){Qe.lanes|=an;var Wn=Qe.alternate;Wn!==null&&(Wn.lanes|=an),um(Qe.return,an,un)}function Wm(Qe,an,un,Wn,Jn){var xs=Qe.memoizedState;xs===null?Qe.memoizedState={isBackwards:an,rendering:null,renderingStartTime:0,last:Wn,tail:un,tailMode:Jn}:(xs.isBackwards=an,xs.rendering=null,xs.renderingStartTime=0,xs.last=Wn,xs.tail=un,xs.tailMode=Jn)}function Wv(Qe,an,un){var Wn=an.pendingProps,Jn=Wn.revealOrder,xs=Wn.tail;if(Lh(Qe,an,Wn.children,un),Wn=Ah.current,(Wn&2)!==0)Wn=Wn&1|2,an.flags|=128;else{if(Qe!==null&&(Qe.flags&128)!==0)t:for(Qe=an.child;Qe!==null;){if(Qe.tag===13)Qe.memoizedState!==null&&qv(Qe,un,an);else if(Qe.tag===19)qv(Qe,un,an);else if(Qe.child!==null){Qe.child.return=Qe,Qe=Qe.child;continue}if(Qe===an)break t;for(;Qe.sibling===null;){if(Qe.return===null||Qe.return===an)break t;Qe=Qe.return}Qe.sibling.return=Qe.return,Qe=Qe.sibling}Wn&=1}switch(Ja(Ah,Wn),Jn){case"forwards":for(un=an.child,Jn=null;un!==null;)Qe=un.alternate,Qe!==null&&ep(Qe)===null&&(Jn=un),un=un.sibling;un=Jn,un===null?(Jn=an.child,an.child=null):(Jn=un.sibling,un.sibling=null),Wm(an,!1,Jn,un,xs);break;case"backwards":for(un=null,Jn=an.child,an.child=null;Jn!==null;){if(Qe=Jn.alternate,Qe!==null&&ep(Qe)===null){an.child=Jn;break}Qe=Jn.sibling,Jn.sibling=un,un=Jn,Jn=Qe}Wm(an,!0,un,null,xs);break;case"together":Wm(an,!1,null,null,void 0);break;default:an.memoizedState=null}return an.child}function Ic(Qe,an,un){if(Qe!==null&&(an.dependencies=Qe.dependencies),hu|=an.lanes,(un&an.childLanes)===0)if(Qe!==null){if(If(Qe,an,un,!1),(un&an.childLanes)===0)return null}else return null;if(Qe!==null&&an.child!==Qe.child)throw Error(Ke(153));if(an.child!==null){for(Qe=an.child,un=Oc(Qe,Qe.pendingProps),an.child=un,un.return=an;Qe.sibling!==null;)Qe=Qe.sibling,un=un.sibling=Oc(Qe,Qe.pendingProps),un.return=an;un.sibling=null}return an.child}function Km(Qe,an){return(Qe.lanes&an)!==0?!0:(Qe=Qe.dependencies,!!(Qe!==null&&Vd(Qe)))}function Sx(Qe,an,un){switch(an.tag){case 3:Cl(an,an.stateNode.containerInfo),Jc(an,Mh,Qe.memoizedState.cache),zf();break;case 27:case 5:El(an);break;case 4:Cl(an,an.stateNode.containerInfo);break;case 10:Jc(an,an.type,an.memoizedProps.value);break;case 13:var Wn=an.memoizedState;if(Wn!==null)return Wn.dehydrated!==null?(iu(an),an.flags|=128,null):(un&an.child.childLanes)!==0?Xv(Qe,an,un):(iu(an),Qe=Ic(Qe,an,un),Qe!==null?Qe.sibling:null);iu(an);break;case 19:var Jn=(Qe.flags&128)!==0;if(Wn=(un&an.childLanes)!==0,Wn||(If(Qe,an,un,!1),Wn=(un&an.childLanes)!==0),Jn){if(Wn)return Wv(Qe,an,un);an.flags|=128}if(Jn=an.memoizedState,Jn!==null&&(Jn.rendering=null,Jn.tail=null,Jn.lastEffect=null),Ja(Ah,Ah.current),Wn)break;return null;case 22:case 23:return an.lanes=0,Nv(Qe,an,un);case 24:Jc(an,Mh,Qe.memoizedState.cache)}return Ic(Qe,an,un)}function Kv(Qe,an,un){if(Qe!==null)if(Qe.memoizedProps!==an.pendingProps)kh=!0;else{if(!Km(Qe,un)&&(an.flags&128)===0)return kh=!1,Sx(Qe,an,un);kh=(Qe.flags&131072)!==0}else kh=!1,Vl&&(an.flags&1048576)!==0&&T0(an,zd,an.index);switch(an.lanes=0,an.tag){case 16:t:{Qe=an.pendingProps;var Wn=an.elementType,Jn=Wn._init;if(Wn=Jn(Wn._payload),an.type=Wn,typeof Wn=="function")im(Wn)?(Qe=zu(Wn,Qe),an.tag=1,an=Uv(null,an,Wn,Qe,un)):(an.tag=0,an=Gm(null,an,Wn,Qe,un));else{if(Wn!=null){if(Jn=Wn.$$typeof,Jn===aa){an.tag=11,an=zv(null,an,Wn,Qe,un);break t}else if(Jn===ga){an.tag=14,an=Vv(null,an,Wn,Qe,un);break t}}throw an=$a(Wn)||Wn,Error(Ke(306,an,""))}}return an;case 0:return Gm(Qe,an,an.type,an.pendingProps,un);case 1:return Wn=an.type,Jn=zu(Wn,an.pendingProps),Uv(Qe,an,Wn,Jn,un);case 3:t:{if(Cl(an,an.stateNode.containerInfo),Qe===null)throw Error(Ke(387));Wn=an.pendingProps;var xs=an.memoizedState;Jn=xs.element,ym(Qe,an),qf(an,Wn,null,un);var fa=an.memoizedState;if(Wn=fa.cache,Jc(an,Mh,Wn),Wn!==xs.cache&&fm(an,[Mh],un,!0),Xf(),Wn=fa.element,xs.isDehydrated)if(xs={element:Wn,isDehydrated:!1,cache:fa.cache},an.updateQueue.baseState=xs,an.memoizedState=xs,an.flags&256){an=Yv(Qe,an,Wn,un);break t}else if(Wn!==Jn){Jn=uc(Error(Ke(424)),an),Vf(Jn),an=Yv(Qe,an,Wn,un);break t}else{switch(Qe=an.stateNode.containerInfo,Qe.nodeType){case 9:Qe=Qe.body;break;default:Qe=Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe}for(bh=_c(Qe.firstChild),Hh=an,Vl=!0,Ru=null,Tc=!0,un=Mv(an,null,Wn,un),an.child=un;un;)un.flags=un.flags&-3|4096,un=un.sibling}else{if(zf(),Wn===Jn){an=Ic(Qe,an,un);break t}Lh(Qe,an,Wn,un)}an=an.child}return an;case 26:return sp(Qe,an),Qe===null?(un=$y(an.type,null,an.pendingProps,null))?an.memoizedState=un:Vl||(un=an.type,Qe=an.pendingProps,Wn=Sp(al.current).createElement(un),Wn[sl]=an,Wn[ol]=Qe,Bh(Wn,un,Qe),Fl(Wn),an.stateNode=Wn):an.memoizedState=$y(an.type,Qe.memoizedProps,an.pendingProps,Qe.memoizedState),null;case 27:return El(an),Qe===null&&Vl&&(Wn=an.stateNode=Zy(an.type,an.pendingProps,al.current),Hh=an,Tc=!0,Jn=bh,du(an.type)?(Dg=Jn,bh=_c(Wn.firstChild)):bh=Jn),Lh(Qe,an,an.pendingProps.children,un),sp(Qe,an),Qe===null&&(an.flags|=4194304),an.child;case 5:return Qe===null&&Vl&&((Jn=Wn=bh)&&(Wn=Kx(Wn,an.type,an.pendingProps,Tc),Wn!==null?(an.stateNode=Wn,Hh=an,bh=_c(Wn.firstChild),Tc=!1,Jn=!0):Jn=!1),Jn||Ou(an)),El(an),Jn=an.type,xs=an.pendingProps,fa=Qe!==null?Qe.memoizedProps:null,Wn=xs.children,Tg(Jn,xs)?Wn=null:fa!==null&&Tg(Jn,fa)&&(an.flags|=32),an.memoizedState!==null&&(Jn=Em(Qe,an,dx,null,null,un),md._currentValue=Jn),sp(Qe,an),Lh(Qe,an,Wn,un),an.child;case 6:return Qe===null&&Vl&&((Qe=un=bh)&&(un=Zx(un,an.pendingProps,Tc),un!==null?(an.stateNode=un,Hh=an,bh=null,Qe=!0):Qe=!1),Qe||Ou(an)),null;case 13:return Xv(Qe,an,un);case 4:return Cl(an,an.stateNode.containerInfo),Wn=an.pendingProps,Qe===null?an.child=cf(an,null,Wn,un):Lh(Qe,an,Wn,un),an.child;case 11:return zv(Qe,an,an.type,an.pendingProps,un);case 7:return Lh(Qe,an,an.pendingProps,un),an.child;case 8:return Lh(Qe,an,an.pendingProps.children,un),an.child;case 12:return Lh(Qe,an,an.pendingProps.children,un),an.child;case 10:return Wn=an.pendingProps,Jc(an,an.type,Wn.value),Lh(Qe,an,Wn.children,un),an.child;case 9:return Jn=an.type._context,Wn=an.pendingProps.children,Fu(an),Jn=Ih(Jn),Wn=Wn(Jn),an.flags|=1,Lh(Qe,an,Wn,un),an.child;case 14:return Vv(Qe,an,an.type,an.pendingProps,un);case 15:return Iv(Qe,an,an.type,an.pendingProps,un);case 19:return Wv(Qe,an,un);case 31:return Wn=an.pendingProps,un=an.mode,Wn={mode:Wn.mode,children:Wn.children},Qe===null?(un=ap(Wn,un),un.ref=an.ref,an.child=un,un.return=an,an=un):(un=Oc(Qe.child,Wn),un.ref=an.ref,an.child=un,un.return=an,an=un),an;case 22:return Nv(Qe,an,un);case 24:return Fu(an),Wn=Ih(Mh),Qe===null?(Jn=mm(),Jn===null&&(Jn=Wl,xs=dm(),Jn.pooledCache=xs,xs.refCount++,xs!==null&&(Jn.pooledCacheLanes|=un),Jn=xs),an.memoizedState={parent:Wn,cache:Jn},vm(an),Jc(an,Mh,Jn)):((Qe.lanes&un)!==0&&(ym(Qe,an),qf(an,null,null,un),Xf()),Jn=Qe.memoizedState,xs=an.memoizedState,Jn.parent!==Wn?(Jn={parent:Wn,cache:Wn},an.memoizedState=Jn,an.lanes===0&&(an.memoizedState=an.updateQueue.baseState=Jn),Jc(an,Mh,Wn)):(Wn=xs.cache,Jc(an,Mh,Wn),Wn!==Jn.cache&&fm(an,[Mh],un,!0))),Lh(Qe,an,an.pendingProps.children,un),an.child;case 29:throw an.pendingProps}throw Error(Ke(156,an.tag))}function Nc(Qe){Qe.flags|=4}function Zv(Qe,an){if(an.type!=="stylesheet"||(an.state.loading&4)!==0)Qe.flags&=-16777217;else if(Qe.flags|=16777216,!n1(an)){if(an=mc.current,an!==null&&((Ol&4194048)===Ol?wc!==null:(Ol&62914560)!==Ol&&(Ol&536870912)===0||an!==wc))throw Uf=gm,O0;Qe.flags|=8192}}function lp(Qe,an){an!==null&&(Qe.flags|=4),Qe.flags&16384&&(an=Qe.tag!==22?_d():536870912,Qe.lanes|=an,pf|=an)}function td(Qe,an){if(!Vl)switch(Qe.tailMode){case"hidden":an=Qe.tail;for(var un=null;an!==null;)an.alternate!==null&&(un=an),an=an.sibling;un===null?Qe.tail=null:un.sibling=null;break;case"collapsed":un=Qe.tail;for(var Wn=null;un!==null;)un.alternate!==null&&(Wn=un),un=un.sibling;Wn===null?an||Qe.tail===null?Qe.tail=null:Qe.tail.sibling=null:Wn.sibling=null}}function th(Qe){var an=Qe.alternate!==null&&Qe.alternate.child===Qe.child,un=0,Wn=0;if(an)for(var Jn=Qe.child;Jn!==null;)un|=Jn.lanes|Jn.childLanes,Wn|=Jn.subtreeFlags&65011712,Wn|=Jn.flags&65011712,Jn.return=Qe,Jn=Jn.sibling;else for(Jn=Qe.child;Jn!==null;)un|=Jn.lanes|Jn.childLanes,Wn|=Jn.subtreeFlags,Wn|=Jn.flags,Jn.return=Qe,Jn=Jn.sibling;return Qe.subtreeFlags|=Wn,Qe.childLanes=un,an}function _x(Qe,an,un){var Wn=an.pendingProps;switch(lm(an),an.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return th(an),null;case 1:return th(an),null;case 3:return un=an.stateNode,Wn=null,Qe!==null&&(Wn=Qe.memoizedState.cache),an.memoizedState.cache!==Wn&&(an.flags|=2048),jc(Mh),Yl(),un.pendingContext&&(un.context=un.pendingContext,un.pendingContext=null),(Qe===null||Qe.child===null)&&(jf(an)?Nc(an):Qe===null||Qe.memoizedState.isDehydrated&&(an.flags&256)===0||(an.flags|=1024,A0())),th(an),null;case 26:return un=an.memoizedState,Qe===null?(Nc(an),un!==null?(th(an),Zv(an,un)):(th(an),an.flags&=-16777217)):un?un!==Qe.memoizedState?(Nc(an),th(an),Zv(an,un)):(th(an),an.flags&=-16777217):(Qe.memoizedProps!==Wn&&Nc(an),th(an),an.flags&=-16777217),null;case 27:jl(an),un=al.current;var Jn=an.type;if(Qe!==null&&an.stateNode!=null)Qe.memoizedProps!==Wn&&Nc(an);else{if(!Wn){if(an.stateNode===null)throw Error(Ke(166));return th(an),null}Qe=rl.current,jf(an)?w0(an):(Qe=Zy(Jn,Wn,un),an.stateNode=Qe,Nc(an))}return th(an),null;case 5:if(jl(an),un=an.type,Qe!==null&&an.stateNode!=null)Qe.memoizedProps!==Wn&&Nc(an);else{if(!Wn){if(an.stateNode===null)throw Error(Ke(166));return th(an),null}if(Qe=rl.current,jf(an))w0(an);else{switch(Jn=Sp(al.current),Qe){case 1:Qe=Jn.createElementNS("http://www.w3.org/2000/svg",un);break;case 2:Qe=Jn.createElementNS("http://www.w3.org/1998/Math/MathML",un);break;default:switch(un){case"svg":Qe=Jn.createElementNS("http://www.w3.org/2000/svg",un);break;case"math":Qe=Jn.createElementNS("http://www.w3.org/1998/Math/MathML",un);break;case"script":Qe=Jn.createElement("div"),Qe.innerHTML="<script><\/script>",Qe=Qe.removeChild(Qe.firstChild);break;case"select":Qe=typeof Wn.is=="string"?Jn.createElement("select",{is:Wn.is}):Jn.createElement("select"),Wn.multiple?Qe.multiple=!0:Wn.size&&(Qe.size=Wn.size);break;default:Qe=typeof Wn.is=="string"?Jn.createElement(un,{is:Wn.is}):Jn.createElement(un)}}Qe[sl]=an,Qe[ol]=Wn;t:for(Jn=an.child;Jn!==null;){if(Jn.tag===5||Jn.tag===6)Qe.appendChild(Jn.stateNode);else if(Jn.tag!==4&&Jn.tag!==27&&Jn.child!==null){Jn.child.return=Jn,Jn=Jn.child;continue}if(Jn===an)break t;for(;Jn.sibling===null;){if(Jn.return===null||Jn.return===an)break t;Jn=Jn.return}Jn.sibling.return=Jn.return,Jn=Jn.sibling}an.stateNode=Qe;t:switch(Bh(Qe,un,Wn),un){case"button":case"input":case"select":case"textarea":Qe=!!Wn.autoFocus;break t;case"img":Qe=!0;break t;default:Qe=!1}Qe&&Nc(an)}}return th(an),an.flags&=-16777217,null;case 6:if(Qe&&an.stateNode!=null)Qe.memoizedProps!==Wn&&Nc(an);else{if(typeof Wn!="string"&&an.stateNode===null)throw Error(Ke(166));if(Qe=al.current,jf(an)){if(Qe=an.stateNode,un=an.memoizedProps,Wn=null,Jn=Hh,Jn!==null)switch(Jn.tag){case 27:case 5:Wn=Jn.memoizedProps}Qe[sl]=an,Qe=!!(Qe.nodeValue===un||Wn!==null&&Wn.suppressHydrationWarning===!0||Hy(Qe.nodeValue,un)),Qe||Ou(an)}else Qe=Sp(Qe).createTextNode(Wn),Qe[sl]=an,an.stateNode=Qe}return th(an),null;case 13:if(Wn=an.memoizedState,Qe===null||Qe.memoizedState!==null&&Qe.memoizedState.dehydrated!==null){if(Jn=jf(an),Wn!==null&&Wn.dehydrated!==null){if(Qe===null){if(!Jn)throw Error(Ke(318));if(Jn=an.memoizedState,Jn=Jn!==null?Jn.dehydrated:null,!Jn)throw Error(Ke(317));Jn[sl]=an}else zf(),(an.flags&128)===0&&(an.memoizedState=null),an.flags|=4;th(an),Jn=!1}else Jn=A0(),Qe!==null&&Qe.memoizedState!==null&&(Qe.memoizedState.hydrationErrors=Jn),Jn=!0;if(!Jn)return an.flags&256?(Vc(an),an):(Vc(an),null)}if(Vc(an),(an.flags&128)!==0)return an.lanes=un,an;if(un=Wn!==null,Qe=Qe!==null&&Qe.memoizedState!==null,un){Wn=an.child,Jn=null,Wn.alternate!==null&&Wn.alternate.memoizedState!==null&&Wn.alternate.memoizedState.cachePool!==null&&(Jn=Wn.alternate.memoizedState.cachePool.pool);var xs=null;Wn.memoizedState!==null&&Wn.memoizedState.cachePool!==null&&(xs=Wn.memoizedState.cachePool.pool),xs!==Jn&&(Wn.flags|=2048)}return un!==Qe&&un&&(an.child.flags|=8192),lp(an,an.updateQueue),th(an),null;case 4:return Yl(),Qe===null&&bg(an.stateNode.containerInfo),th(an),null;case 10:return jc(an.type),th(an),null;case 19:if(Oa(Ah),Jn=an.memoizedState,Jn===null)return th(an),null;if(Wn=(an.flags&128)!==0,xs=Jn.rendering,xs===null)if(Wn)td(Jn,!1);else{if(Sh!==0||Qe!==null&&(Qe.flags&128)!==0)for(Qe=an.child;Qe!==null;){if(xs=ep(Qe),xs!==null){for(an.flags|=128,td(Jn,!1),Qe=xs.updateQueue,an.updateQueue=Qe,lp(an,Qe),an.subtreeFlags=0,Qe=un,un=an.child;un!==null;)E0(un,Qe),un=un.sibling;return Ja(Ah,Ah.current&1|2),an.child}Qe=Qe.sibling}Jn.tail!==null&&Kl()>up&&(an.flags|=128,Wn=!0,td(Jn,!1),an.lanes=4194304)}else{if(!Wn)if(Qe=ep(xs),Qe!==null){if(an.flags|=128,Wn=!0,Qe=Qe.updateQueue,an.updateQueue=Qe,lp(an,Qe),td(Jn,!0),Jn.tail===null&&Jn.tailMode==="hidden"&&!xs.alternate&&!Vl)return th(an),null}else 2*Kl()-Jn.renderingStartTime>up&&un!==536870912&&(an.flags|=128,Wn=!0,td(Jn,!1),an.lanes=4194304);Jn.isBackwards?(xs.sibling=an.child,an.child=xs):(Qe=Jn.last,Qe!==null?Qe.sibling=xs:an.child=xs,Jn.last=xs)}return Jn.tail!==null?(an=Jn.tail,Jn.rendering=an,Jn.tail=an.sibling,Jn.renderingStartTime=Kl(),an.sibling=null,Qe=Ah.current,Ja(Ah,Wn?Qe&1|2:Qe&1),an):(th(an),null);case 22:case 23:return Vc(an),_m(),Wn=an.memoizedState!==null,Qe!==null?Qe.memoizedState!==null!==Wn&&(an.flags|=8192):Wn&&(an.flags|=8192),Wn?(un&536870912)!==0&&(an.flags&128)===0&&(th(an),an.subtreeFlags&6&&(an.flags|=8192)):th(an),un=an.updateQueue,un!==null&&lp(an,un.retryQueue),un=null,Qe!==null&&Qe.memoizedState!==null&&Qe.memoizedState.cachePool!==null&&(un=Qe.memoizedState.cachePool.pool),Wn=null,an.memoizedState!==null&&an.memoizedState.cachePool!==null&&(Wn=an.memoizedState.cachePool.pool),Wn!==un&&(an.flags|=2048),Qe!==null&&Oa(Bu),null;case 24:return un=null,Qe!==null&&(un=Qe.memoizedState.cache),an.memoizedState.cache!==un&&(an.flags|=2048),jc(Mh),th(an),null;case 25:return null;case 30:return null}throw Error(Ke(156,an.tag))}function Cx(Qe,an){switch(lm(an),an.tag){case 1:return Qe=an.flags,Qe&65536?(an.flags=Qe&-65537|128,an):null;case 3:return jc(Mh),Yl(),Qe=an.flags,(Qe&65536)!==0&&(Qe&128)===0?(an.flags=Qe&-65537|128,an):null;case 26:case 27:case 5:return jl(an),null;case 13:if(Vc(an),Qe=an.memoizedState,Qe!==null&&Qe.dehydrated!==null){if(an.alternate===null)throw Error(Ke(340));zf()}return Qe=an.flags,Qe&65536?(an.flags=Qe&-65537|128,an):null;case 19:return Oa(Ah),null;case 4:return Yl(),null;case 10:return jc(an.type),null;case 22:case 23:return Vc(an),_m(),Qe!==null&&Oa(Bu),Qe=an.flags,Qe&65536?(an.flags=Qe&-65537|128,an):null;case 24:return jc(Mh),null;case 25:return null;default:return null}}function Qv(Qe,an){switch(lm(an),an.tag){case 3:jc(Mh),Yl();break;case 26:case 27:case 5:jl(an);break;case 4:Yl();break;case 13:Vc(an);break;case 19:Oa(Ah);break;case 10:jc(an.type);break;case 22:case 23:Vc(an),_m(),Qe!==null&&Oa(Bu);break;case 24:jc(Mh)}}function ed(Qe,an){try{var un=an.updateQueue,Wn=un!==null?un.lastEffect:null;if(Wn!==null){var Jn=Wn.next;un=Jn;do{if((un.tag&Qe)===Qe){Wn=void 0;var xs=un.create,fa=un.inst;Wn=xs(),fa.destroy=Wn}un=un.next}while(un!==Jn)}}catch(ma){Xl(an,an.return,ma)}}function su(Qe,an,un){try{var Wn=an.updateQueue,Jn=Wn!==null?Wn.lastEffect:null;if(Jn!==null){var xs=Jn.next;Wn=xs;do{if((Wn.tag&Qe)===Qe){var fa=Wn.inst,ma=fa.destroy;if(ma!==void 0){fa.destroy=void 0,Jn=an;var ba=un,ka=ma;try{ka()}catch(el){Xl(Jn,ba,el)}}}Wn=Wn.next}while(Wn!==xs)}}catch(el){Xl(an,an.return,el)}}function Jv(Qe){var an=Qe.updateQueue;if(an!==null){var un=Qe.stateNode;try{V0(an,un)}catch(Wn){Xl(Qe,Qe.return,Wn)}}}function $v(Qe,an,un){un.props=zu(Qe.type,Qe.memoizedProps),un.state=Qe.memoizedState;try{un.componentWillUnmount()}catch(Wn){Xl(Qe,an,Wn)}}function rd(Qe,an){try{var un=Qe.ref;if(un!==null){switch(Qe.tag){case 26:case 27:case 5:var Wn=Qe.stateNode;break;case 30:Wn=Qe.stateNode;break;default:Wn=Qe.stateNode}typeof un=="function"?Qe.refCleanup=un(Wn):un.current=Wn}}catch(Jn){Xl(Qe,an,Jn)}}function Mc(Qe,an){var un=Qe.ref,Wn=Qe.refCleanup;if(un!==null)if(typeof Wn=="function")try{Wn()}catch(Jn){Xl(Qe,an,Jn)}finally{Qe.refCleanup=null,Qe=Qe.alternate,Qe!=null&&(Qe.refCleanup=null)}else if(typeof un=="function")try{un(null)}catch(Jn){Xl(Qe,an,Jn)}else un.current=null}function ty(Qe){var an=Qe.type,un=Qe.memoizedProps,Wn=Qe.stateNode;try{t:switch(an){case"button":case"input":case"select":case"textarea":un.autoFocus&&Wn.focus();break t;case"img":un.src?Wn.src=un.src:un.srcSet&&(Wn.srcset=un.srcSet)}}catch(Jn){Xl(Qe,Qe.return,Jn)}}function Zm(Qe,an,un){try{var Wn=Qe.stateNode;Ux(Wn,Qe.type,un,an),Wn[ol]=an}catch(Jn){Xl(Qe,Qe.return,Jn)}}function ey(Qe){return Qe.tag===5||Qe.tag===3||Qe.tag===26||Qe.tag===27&&du(Qe.type)||Qe.tag===4}function Qm(Qe){t:for(;;){for(;Qe.sibling===null;){if(Qe.return===null||ey(Qe.return))return null;Qe=Qe.return}for(Qe.sibling.return=Qe.return,Qe=Qe.sibling;Qe.tag!==5&&Qe.tag!==6&&Qe.tag!==18;){if(Qe.tag===27&&du(Qe.type)||Qe.flags&2||Qe.child===null||Qe.tag===4)continue t;Qe.child.return=Qe,Qe=Qe.child}if(!(Qe.flags&2))return Qe.stateNode}}function Jm(Qe,an,un){var Wn=Qe.tag;if(Wn===5||Wn===6)Qe=Qe.stateNode,an?(un.nodeType===9?un.body:un.nodeName==="HTML"?un.ownerDocument.body:un).insertBefore(Qe,an):(an=un.nodeType===9?un.body:un.nodeName==="HTML"?un.ownerDocument.body:un,an.appendChild(Qe),un=un._reactRootContainer,un!=null||an.onclick!==null||(an.onclick=bp));else if(Wn!==4&&(Wn===27&&du(Qe.type)&&(un=Qe.stateNode,an=null),Qe=Qe.child,Qe!==null))for(Jm(Qe,an,un),Qe=Qe.sibling;Qe!==null;)Jm(Qe,an,un),Qe=Qe.sibling}function hp(Qe,an,un){var Wn=Qe.tag;if(Wn===5||Wn===6)Qe=Qe.stateNode,an?un.insertBefore(Qe,an):un.appendChild(Qe);else if(Wn!==4&&(Wn===27&&du(Qe.type)&&(un=Qe.stateNode),Qe=Qe.child,Qe!==null))for(hp(Qe,an,un),Qe=Qe.sibling;Qe!==null;)hp(Qe,an,un),Qe=Qe.sibling}function ry(Qe){var an=Qe.stateNode,un=Qe.memoizedProps;try{for(var Wn=Qe.type,Jn=an.attributes;Jn.length;)an.removeAttributeNode(Jn[0]);Bh(an,Wn,un),an[sl]=Qe,an[ol]=un}catch(xs){Xl(Qe,Qe.return,xs)}}var Gc=!1,Eh=!1,$m=!1,iy=typeof WeakSet=="function"?WeakSet:Set,Ph=null;function Ex(Qe,an){if(Qe=Qe.containerInfo,Cg=Mp,Qe=p0(Qe),Zp(Qe)){if("selectionStart"in Qe)var un={start:Qe.selectionStart,end:Qe.selectionEnd};else t:{un=(un=Qe.ownerDocument)&&un.defaultView||window;var Wn=un.getSelection&&un.getSelection();if(Wn&&Wn.rangeCount!==0){un=Wn.anchorNode;var Jn=Wn.anchorOffset,xs=Wn.focusNode;Wn=Wn.focusOffset;try{un.nodeType,xs.nodeType}catch{un=null;break t}var fa=0,ma=-1,ba=-1,ka=0,el=0,nl=Qe,qa=null;e:for(;;){for(var Ka;nl!==un||Jn!==0&&nl.nodeType!==3||(ma=fa+Jn),nl!==xs||Wn!==0&&nl.nodeType!==3||(ba=fa+Wn),nl.nodeType===3&&(fa+=nl.nodeValue.length),(Ka=nl.firstChild)!==null;)qa=nl,nl=Ka;for(;;){if(nl===Qe)break e;if(qa===un&&++ka===Jn&&(ma=fa),qa===xs&&++el===Wn&&(ba=fa),(Ka=nl.nextSibling)!==null)break;nl=qa,qa=nl.parentNode}nl=Ka}un=ma===-1||ba===-1?null:{start:ma,end:ba}}else un=null}un=un||{start:0,end:0}}else un=null;for(Eg={focusedElem:Qe,selectionRange:un},Mp=!1,Ph=an;Ph!==null;)if(an=Ph,Qe=an.child,(an.subtreeFlags&1024)!==0&&Qe!==null)Qe.return=an,Ph=Qe;else for(;Ph!==null;){switch(an=Ph,xs=an.alternate,Qe=an.flags,an.tag){case 0:break;case 11:case 15:break;case 1:if((Qe&1024)!==0&&xs!==null){Qe=void 0,un=an,Jn=xs.memoizedProps,xs=xs.memoizedState,Wn=un.stateNode;try{var Sl=zu(un.type,Jn,un.elementType===un.type);Qe=Wn.getSnapshotBeforeUpdate(Sl,xs),Wn.__reactInternalSnapshotBeforeUpdate=Qe}catch(yl){Xl(un,un.return,yl)}}break;case 3:if((Qe&1024)!==0){if(Qe=an.stateNode.containerInfo,un=Qe.nodeType,un===9)Mg(Qe);else if(un===1)switch(Qe.nodeName){case"HEAD":case"HTML":case"BODY":Mg(Qe);break;default:Qe.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((Qe&1024)!==0)throw Error(Ke(163))}if(Qe=an.sibling,Qe!==null){Qe.return=an.return,Ph=Qe;break}Ph=an.return}}function ny(Qe,an,un){var Wn=un.flags;switch(un.tag){case 0:case 11:case 15:au(Qe,un),Wn&4&&ed(5,un);break;case 1:if(au(Qe,un),Wn&4)if(Qe=un.stateNode,an===null)try{Qe.componentDidMount()}catch(fa){Xl(un,un.return,fa)}else{var Jn=zu(un.type,an.memoizedProps);an=an.memoizedState;try{Qe.componentDidUpdate(Jn,an,Qe.__reactInternalSnapshotBeforeUpdate)}catch(fa){Xl(un,un.return,fa)}}Wn&64&&Jv(un),Wn&512&&rd(un,un.return);break;case 3:if(au(Qe,un),Wn&64&&(Qe=un.updateQueue,Qe!==null)){if(an=null,un.child!==null)switch(un.child.tag){case 27:case 5:an=un.child.stateNode;break;case 1:an=un.child.stateNode}try{V0(Qe,an)}catch(fa){Xl(un,un.return,fa)}}break;case 27:an===null&&Wn&4&&ry(un);case 26:case 5:au(Qe,un),an===null&&Wn&4&&ty(un),Wn&512&&rd(un,un.return);break;case 12:au(Qe,un);break;case 13:au(Qe,un),Wn&4&&oy(Qe,un),Wn&64&&(Qe=un.memoizedState,Qe!==null&&(Qe=Qe.dehydrated,Qe!==null&&(un=Ox.bind(null,un),Qx(Qe,un))));break;case 22:if(Wn=un.memoizedState!==null||Gc,!Wn){an=an!==null&&an.memoizedState!==null||Eh,Jn=Gc;var xs=Eh;Gc=Wn,(Eh=an)&&!xs?ou(Qe,un,(un.subtreeFlags&8772)!==0):au(Qe,un),Gc=Jn,Eh=xs}break;case 30:break;default:au(Qe,un)}}function sy(Qe){var an=Qe.alternate;an!==null&&(Qe.alternate=null,sy(an)),Qe.child=null,Qe.deletions=null,Qe.sibling=null,Qe.tag===5&&(an=Qe.stateNode,an!==null&&dl(an)),Qe.stateNode=null,Qe.return=null,Qe.dependencies=null,Qe.memoizedProps=null,Qe.memoizedState=null,Qe.pendingProps=null,Qe.stateNode=null,Qe.updateQueue=null}var Jl=null,$h=!1;function Hc(Qe,an,un){for(un=un.child;un!==null;)ay(Qe,an,un),un=un.sibling}function ay(Qe,an,un){if(zl&&typeof zl.onCommitFiberUnmount=="function")try{zl.onCommitFiberUnmount(ql,un)}catch{}switch(un.tag){case 26:Eh||Mc(un,an),Hc(Qe,an,un),un.memoizedState?un.memoizedState.count--:un.stateNode&&(un=un.stateNode,un.parentNode.removeChild(un));break;case 27:Eh||Mc(un,an);var Wn=Jl,Jn=$h;du(un.type)&&(Jl=un.stateNode,$h=!1),Hc(Qe,an,un),ud(un.stateNode),Jl=Wn,$h=Jn;break;case 5:Eh||Mc(un,an);case 6:if(Wn=Jl,Jn=$h,Jl=null,Hc(Qe,an,un),Jl=Wn,$h=Jn,Jl!==null)if($h)try{(Jl.nodeType===9?Jl.body:Jl.nodeName==="HTML"?Jl.ownerDocument.body:Jl).removeChild(un.stateNode)}catch(xs){Xl(un,an,xs)}else try{Jl.removeChild(un.stateNode)}catch(xs){Xl(un,an,xs)}break;case 18:Jl!==null&&($h?(Qe=Jl,Wy(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe,un.stateNode),xd(Qe)):Wy(Jl,un.stateNode));break;case 4:Wn=Jl,Jn=$h,Jl=un.stateNode.containerInfo,$h=!0,Hc(Qe,an,un),Jl=Wn,$h=Jn;break;case 0:case 11:case 14:case 15:Eh||su(2,un,an),Eh||su(4,un,an),Hc(Qe,an,un);break;case 1:Eh||(Mc(un,an),Wn=un.stateNode,typeof Wn.componentWillUnmount=="function"&&$v(un,an,Wn)),Hc(Qe,an,un);break;case 21:Hc(Qe,an,un);break;case 22:Eh=(Wn=Eh)||un.memoizedState!==null,Hc(Qe,an,un),Eh=Wn;break;default:Hc(Qe,an,un)}}function oy(Qe,an){if(an.memoizedState===null&&(Qe=an.alternate,Qe!==null&&(Qe=Qe.memoizedState,Qe!==null&&(Qe=Qe.dehydrated,Qe!==null))))try{xd(Qe)}catch(un){Xl(an,an.return,un)}}function Tx(Qe){switch(Qe.tag){case 13:case 19:var an=Qe.stateNode;return an===null&&(an=Qe.stateNode=new iy),an;case 22:return Qe=Qe.stateNode,an=Qe._retryCache,an===null&&(an=Qe._retryCache=new iy),an;default:throw Error(Ke(435,Qe.tag))}}function tg(Qe,an){var un=Tx(Qe);an.forEach(function(Wn){var Jn=Lx.bind(null,Qe,Wn);un.has(Wn)||(un.add(Wn),Wn.then(Jn,Jn))})}function ic(Qe,an){var un=an.deletions;if(un!==null)for(var Wn=0;Wn<un.length;Wn++){var Jn=un[Wn],xs=Qe,fa=an,ma=fa;t:for(;ma!==null;){switch(ma.tag){case 27:if(du(ma.type)){Jl=ma.stateNode,$h=!1;break t}break;case 5:Jl=ma.stateNode,$h=!1;break t;case 3:case 4:Jl=ma.stateNode.containerInfo,$h=!0;break t}ma=ma.return}if(Jl===null)throw Error(Ke(160));ay(xs,fa,Jn),Jl=null,$h=!1,xs=Jn.alternate,xs!==null&&(xs.return=null),Jn.return=null}if(an.subtreeFlags&13878)for(an=an.child;an!==null;)ly(an,Qe),an=an.sibling}var Sc=null;function ly(Qe,an){var un=Qe.alternate,Wn=Qe.flags;switch(Qe.tag){case 0:case 11:case 14:case 15:ic(an,Qe),nc(Qe),Wn&4&&(su(3,Qe,Qe.return),ed(3,Qe),su(5,Qe,Qe.return));break;case 1:ic(an,Qe),nc(Qe),Wn&512&&(Eh||un===null||Mc(un,un.return)),Wn&64&&Gc&&(Qe=Qe.updateQueue,Qe!==null&&(Wn=Qe.callbacks,Wn!==null&&(un=Qe.shared.hiddenCallbacks,Qe.shared.hiddenCallbacks=un===null?Wn:un.concat(Wn))));break;case 26:var Jn=Sc;if(ic(an,Qe),nc(Qe),Wn&512&&(Eh||un===null||Mc(un,un.return)),Wn&4){var xs=un!==null?un.memoizedState:null;if(Wn=Qe.memoizedState,un===null)if(Wn===null)if(Qe.stateNode===null){t:{Wn=Qe.type,un=Qe.memoizedProps,Jn=Jn.ownerDocument||Jn;e:switch(Wn){case"title":xs=Jn.getElementsByTagName("title")[0],(!xs||xs[bl]||xs[sl]||xs.namespaceURI==="http://www.w3.org/2000/svg"||xs.hasAttribute("itemprop"))&&(xs=Jn.createElement(Wn),Jn.head.insertBefore(xs,Jn.querySelector("head > title"))),Bh(xs,Wn,un),xs[sl]=Qe,Fl(xs),Wn=xs;break t;case"link":var fa=r1("link","href",Jn).get(Wn+(un.href||""));if(fa){for(var ma=0;ma<fa.length;ma++)if(xs=fa[ma],xs.getAttribute("href")===(un.href==null||un.href===""?null:un.href)&&xs.getAttribute("rel")===(un.rel==null?null:un.rel)&&xs.getAttribute("title")===(un.title==null?null:un.title)&&xs.getAttribute("crossorigin")===(un.crossOrigin==null?null:un.crossOrigin)){fa.splice(ma,1);break e}}xs=Jn.createElement(Wn),Bh(xs,Wn,un),Jn.head.appendChild(xs);break;case"meta":if(fa=r1("meta","content",Jn).get(Wn+(un.content||""))){for(ma=0;ma<fa.length;ma++)if(xs=fa[ma],xs.getAttribute("content")===(un.content==null?null:""+un.content)&&xs.getAttribute("name")===(un.name==null?null:un.name)&&xs.getAttribute("property")===(un.property==null?null:un.property)&&xs.getAttribute("http-equiv")===(un.httpEquiv==null?null:un.httpEquiv)&&xs.getAttribute("charset")===(un.charSet==null?null:un.charSet)){fa.splice(ma,1);break e}}xs=Jn.createElement(Wn),Bh(xs,Wn,un),Jn.head.appendChild(xs);break;default:throw Error(Ke(468,Wn))}xs[sl]=Qe,Fl(xs),Wn=xs}Qe.stateNode=Wn}else i1(Jn,Qe.type,Qe.stateNode);else Qe.stateNode=e1(Jn,Wn,Qe.memoizedProps);else xs!==Wn?(xs===null?un.stateNode!==null&&(un=un.stateNode,un.parentNode.removeChild(un)):xs.count--,Wn===null?i1(Jn,Qe.type,Qe.stateNode):e1(Jn,Wn,Qe.memoizedProps)):Wn===null&&Qe.stateNode!==null&&Zm(Qe,Qe.memoizedProps,un.memoizedProps)}break;case 27:ic(an,Qe),nc(Qe),Wn&512&&(Eh||un===null||Mc(un,un.return)),un!==null&&Wn&4&&Zm(Qe,Qe.memoizedProps,un.memoizedProps);break;case 5:if(ic(an,Qe),nc(Qe),Wn&512&&(Eh||un===null||Mc(un,un.return)),Qe.flags&32){Jn=Qe.stateNode;try{Yu(Jn,"")}catch(Ka){Xl(Qe,Qe.return,Ka)}}Wn&4&&Qe.stateNode!=null&&(Jn=Qe.memoizedProps,Zm(Qe,Jn,un!==null?un.memoizedProps:Jn)),Wn&1024&&($m=!0);break;case 6:if(ic(an,Qe),nc(Qe),Wn&4){if(Qe.stateNode===null)throw Error(Ke(162));Wn=Qe.memoizedProps,un=Qe.stateNode;try{un.nodeValue=Wn}catch(Ka){Xl(Qe,Qe.return,Ka)}}break;case 3:if(Ep=null,Jn=Sc,Sc=_p(an.containerInfo),ic(an,Qe),Sc=Jn,nc(Qe),Wn&4&&un!==null&&un.memoizedState.isDehydrated)try{xd(an.containerInfo)}catch(Ka){Xl(Qe,Qe.return,Ka)}$m&&($m=!1,hy(Qe));break;case 4:Wn=Sc,Sc=_p(Qe.stateNode.containerInfo),ic(an,Qe),nc(Qe),Sc=Wn;break;case 12:ic(an,Qe),nc(Qe);break;case 13:ic(an,Qe),nc(Qe),Qe.child.flags&8192&&Qe.memoizedState!==null!=(un!==null&&un.memoizedState!==null)&&(ag=Kl()),Wn&4&&(Wn=Qe.updateQueue,Wn!==null&&(Qe.updateQueue=null,tg(Qe,Wn)));break;case 22:Jn=Qe.memoizedState!==null;var ba=un!==null&&un.memoizedState!==null,ka=Gc,el=Eh;if(Gc=ka||Jn,Eh=el||ba,ic(an,Qe),Eh=el,Gc=ka,nc(Qe),Wn&8192)t:for(an=Qe.stateNode,an._visibility=Jn?an._visibility&-2:an._visibility|1,Jn&&(un===null||ba||Gc||Eh||Vu(Qe)),un=null,an=Qe;;){if(an.tag===5||an.tag===26){if(un===null){ba=un=an;try{if(xs=ba.stateNode,Jn)fa=xs.style,typeof fa.setProperty=="function"?fa.setProperty("display","none","important"):fa.display="none";else{ma=ba.stateNode;var nl=ba.memoizedProps.style,qa=nl!=null&&nl.hasOwnProperty("display")?nl.display:null;ma.style.display=qa==null||typeof qa=="boolean"?"":(""+qa).trim()}}catch(Ka){Xl(ba,ba.return,Ka)}}}else if(an.tag===6){if(un===null){ba=an;try{ba.stateNode.nodeValue=Jn?"":ba.memoizedProps}catch(Ka){Xl(ba,ba.return,Ka)}}}else if((an.tag!==22&&an.tag!==23||an.memoizedState===null||an===Qe)&&an.child!==null){an.child.return=an,an=an.child;continue}if(an===Qe)break t;for(;an.sibling===null;){if(an.return===null||an.return===Qe)break t;un===an&&(un=null),an=an.return}un===an&&(un=null),an.sibling.return=an.return,an=an.sibling}Wn&4&&(Wn=Qe.updateQueue,Wn!==null&&(un=Wn.retryQueue,un!==null&&(Wn.retryQueue=null,tg(Qe,un))));break;case 19:ic(an,Qe),nc(Qe),Wn&4&&(Wn=Qe.updateQueue,Wn!==null&&(Qe.updateQueue=null,tg(Qe,Wn)));break;case 30:break;case 21:break;default:ic(an,Qe),nc(Qe)}}function nc(Qe){var an=Qe.flags;if(an&2){try{for(var un,Wn=Qe.return;Wn!==null;){if(ey(Wn)){un=Wn;break}Wn=Wn.return}if(un==null)throw Error(Ke(160));switch(un.tag){case 27:var Jn=un.stateNode,xs=Qm(Qe);hp(Qe,xs,Jn);break;case 5:var fa=un.stateNode;un.flags&32&&(Yu(fa,""),un.flags&=-33);var ma=Qm(Qe);hp(Qe,ma,fa);break;case 3:case 4:var ba=un.stateNode.containerInfo,ka=Qm(Qe);Jm(Qe,ka,ba);break;default:throw Error(Ke(161))}}catch(el){Xl(Qe,Qe.return,el)}Qe.flags&=-3}an&4096&&(Qe.flags&=-4097)}function hy(Qe){if(Qe.subtreeFlags&1024)for(Qe=Qe.child;Qe!==null;){var an=Qe;hy(an),an.tag===5&&an.flags&1024&&an.stateNode.reset(),Qe=Qe.sibling}}function au(Qe,an){if(an.subtreeFlags&8772)for(an=an.child;an!==null;)ny(Qe,an.alternate,an),an=an.sibling}function Vu(Qe){for(Qe=Qe.child;Qe!==null;){var an=Qe;switch(an.tag){case 0:case 11:case 14:case 15:su(4,an,an.return),Vu(an);break;case 1:Mc(an,an.return);var un=an.stateNode;typeof un.componentWillUnmount=="function"&&$v(an,an.return,un),Vu(an);break;case 27:ud(an.stateNode);case 26:case 5:Mc(an,an.return),Vu(an);break;case 22:an.memoizedState===null&&Vu(an);break;case 30:Vu(an);break;default:Vu(an)}Qe=Qe.sibling}}function ou(Qe,an,un){for(un=un&&(an.subtreeFlags&8772)!==0,an=an.child;an!==null;){var Wn=an.alternate,Jn=Qe,xs=an,fa=xs.flags;switch(xs.tag){case 0:case 11:case 15:ou(Jn,xs,un),ed(4,xs);break;case 1:if(ou(Jn,xs,un),Wn=xs,Jn=Wn.stateNode,typeof Jn.componentDidMount=="function")try{Jn.componentDidMount()}catch(ka){Xl(Wn,Wn.return,ka)}if(Wn=xs,Jn=Wn.updateQueue,Jn!==null){var ma=Wn.stateNode;try{var ba=Jn.shared.hiddenCallbacks;if(ba!==null)for(Jn.shared.hiddenCallbacks=null,Jn=0;Jn<ba.length;Jn++)z0(ba[Jn],ma)}catch(ka){Xl(Wn,Wn.return,ka)}}un&&fa&64&&Jv(xs),rd(xs,xs.return);break;case 27:ry(xs);case 26:case 5:ou(Jn,xs,un),un&&Wn===null&&fa&4&&ty(xs),rd(xs,xs.return);break;case 12:ou(Jn,xs,un);break;case 13:ou(Jn,xs,un),un&&fa&4&&oy(Jn,xs);break;case 22:xs.memoizedState===null&&ou(Jn,xs,un),rd(xs,xs.return);break;case 30:break;default:ou(Jn,xs,un)}an=an.sibling}}function eg(Qe,an){var un=null;Qe!==null&&Qe.memoizedState!==null&&Qe.memoizedState.cachePool!==null&&(un=Qe.memoizedState.cachePool.pool),Qe=null,an.memoizedState!==null&&an.memoizedState.cachePool!==null&&(Qe=an.memoizedState.cachePool.pool),Qe!==un&&(Qe!=null&&Qe.refCount++,un!=null&&Nf(un))}function rg(Qe,an){Qe=null,an.alternate!==null&&(Qe=an.alternate.memoizedState.cache),an=an.memoizedState.cache,an!==Qe&&(an.refCount++,Qe!=null&&Nf(Qe))}function Ac(Qe,an,un,Wn){if(an.subtreeFlags&10256)for(an=an.child;an!==null;)cy(Qe,an,un,Wn),an=an.sibling}function cy(Qe,an,un,Wn){var Jn=an.flags;switch(an.tag){case 0:case 11:case 15:Ac(Qe,an,un,Wn),Jn&2048&&ed(9,an);break;case 1:Ac(Qe,an,un,Wn);break;case 3:Ac(Qe,an,un,Wn),Jn&2048&&(Qe=null,an.alternate!==null&&(Qe=an.alternate.memoizedState.cache),an=an.memoizedState.cache,an!==Qe&&(an.refCount++,Qe!=null&&Nf(Qe)));break;case 12:if(Jn&2048){Ac(Qe,an,un,Wn),Qe=an.stateNode;try{var xs=an.memoizedProps,fa=xs.id,ma=xs.onPostCommit;typeof ma=="function"&&ma(fa,an.alternate===null?"mount":"update",Qe.passiveEffectDuration,-0)}catch(ba){Xl(an,an.return,ba)}}else Ac(Qe,an,un,Wn);break;case 13:Ac(Qe,an,un,Wn);break;case 23:break;case 22:xs=an.stateNode,fa=an.alternate,an.memoizedState!==null?xs._visibility&2?Ac(Qe,an,un,Wn):id(Qe,an):xs._visibility&2?Ac(Qe,an,un,Wn):(xs._visibility|=2,uf(Qe,an,un,Wn,(an.subtreeFlags&10256)!==0)),Jn&2048&&eg(fa,an);break;case 24:Ac(Qe,an,un,Wn),Jn&2048&&rg(an.alternate,an);break;default:Ac(Qe,an,un,Wn)}}function uf(Qe,an,un,Wn,Jn){for(Jn=Jn&&(an.subtreeFlags&10256)!==0,an=an.child;an!==null;){var xs=Qe,fa=an,ma=un,ba=Wn,ka=fa.flags;switch(fa.tag){case 0:case 11:case 15:uf(xs,fa,ma,ba,Jn),ed(8,fa);break;case 23:break;case 22:var el=fa.stateNode;fa.memoizedState!==null?el._visibility&2?uf(xs,fa,ma,ba,Jn):id(xs,fa):(el._visibility|=2,uf(xs,fa,ma,ba,Jn)),Jn&&ka&2048&&eg(fa.alternate,fa);break;case 24:uf(xs,fa,ma,ba,Jn),Jn&&ka&2048&&rg(fa.alternate,fa);break;default:uf(xs,fa,ma,ba,Jn)}an=an.sibling}}function id(Qe,an){if(an.subtreeFlags&10256)for(an=an.child;an!==null;){var un=Qe,Wn=an,Jn=Wn.flags;switch(Wn.tag){case 22:id(un,Wn),Jn&2048&&eg(Wn.alternate,Wn);break;case 24:id(un,Wn),Jn&2048&&rg(Wn.alternate,Wn);break;default:id(un,Wn)}an=an.sibling}}var nd=8192;function ff(Qe){if(Qe.subtreeFlags&nd)for(Qe=Qe.child;Qe!==null;)uy(Qe),Qe=Qe.sibling}function uy(Qe){switch(Qe.tag){case 26:ff(Qe),Qe.flags&nd&&Qe.memoizedState!==null&&ub(Sc,Qe.memoizedState,Qe.memoizedProps);break;case 5:ff(Qe);break;case 3:case 4:var an=Sc;Sc=_p(Qe.stateNode.containerInfo),ff(Qe),Sc=an;break;case 22:Qe.memoizedState===null&&(an=Qe.alternate,an!==null&&an.memoizedState!==null?(an=nd,nd=16777216,ff(Qe),nd=an):ff(Qe));break;default:ff(Qe)}}function fy(Qe){var an=Qe.alternate;if(an!==null&&(Qe=an.child,Qe!==null)){an.child=null;do an=Qe.sibling,Qe.sibling=null,Qe=an;while(Qe!==null)}}function sd(Qe){var an=Qe.deletions;if((Qe.flags&16)!==0){if(an!==null)for(var un=0;un<an.length;un++){var Wn=an[un];Ph=Wn,py(Wn,Qe)}fy(Qe)}if(Qe.subtreeFlags&10256)for(Qe=Qe.child;Qe!==null;)dy(Qe),Qe=Qe.sibling}function dy(Qe){switch(Qe.tag){case 0:case 11:case 15:sd(Qe),Qe.flags&2048&&su(9,Qe,Qe.return);break;case 3:sd(Qe);break;case 12:sd(Qe);break;case 22:var an=Qe.stateNode;Qe.memoizedState!==null&&an._visibility&2&&(Qe.return===null||Qe.return.tag!==13)?(an._visibility&=-3,cp(Qe)):sd(Qe);break;default:sd(Qe)}}function cp(Qe){var an=Qe.deletions;if((Qe.flags&16)!==0){if(an!==null)for(var un=0;un<an.length;un++){var Wn=an[un];Ph=Wn,py(Wn,Qe)}fy(Qe)}for(Qe=Qe.child;Qe!==null;){switch(an=Qe,an.tag){case 0:case 11:case 15:su(8,an,an.return),cp(an);break;case 22:un=an.stateNode,un._visibility&2&&(un._visibility&=-3,cp(an));break;default:cp(an)}Qe=Qe.sibling}}function py(Qe,an){for(;Ph!==null;){var un=Ph;switch(un.tag){case 0:case 11:case 15:su(8,un,an);break;case 23:case 22:if(un.memoizedState!==null&&un.memoizedState.cachePool!==null){var Wn=un.memoizedState.cachePool.pool;Wn!=null&&Wn.refCount++}break;case 24:Nf(un.memoizedState.cache)}if(Wn=un.child,Wn!==null)Wn.return=un,Ph=Wn;else t:for(un=Qe;Ph!==null;){Wn=Ph;var Jn=Wn.sibling,xs=Wn.return;if(sy(Wn),Wn===un){Ph=null;break t}if(Jn!==null){Jn.return=xs,Ph=Jn;break t}Ph=xs}}}var wx={getCacheForType:function(Qe){var an=Ih(Mh),un=an.data.get(Qe);return un===void 0&&(un=Qe(),an.data.set(Qe,un)),un}},Mx=typeof WeakMap=="function"?WeakMap:Map,Il=0,Wl=null,kl=null,Ol=0,Nl=0,sc=null,lu=!1,df=!1,ig=!1,Uc=0,Sh=0,hu=0,Iu=0,ng=0,gc=0,pf=0,ad=null,tc=null,sg=!1,ag=0,up=1/0,fp=null,cu=null,Fh=0,uu=null,mf=null,gf=0,og=0,lg=null,my=null,od=0,hg=null;function ac(){if((Il&2)!==0&&Ol!==0)return Ol&-Ol;if(ua.T!==null){var Qe=rf;return Qe!==0?Qe:gg()}return _a()}function gy(){gc===0&&(gc=(Ol&536870912)===0||Vl?Gu():536870912);var Qe=mc.current;return Qe!==null&&(Qe.flags|=32),gc}function oc(Qe,an,un){(Qe===Wl&&(Nl===2||Nl===9)||Qe.cancelPendingCommit!==null)&&(vf(Qe,0),fu(Qe,Ol,gc,!1)),_u(Qe,un),((Il&2)===0||Qe!==Wl)&&(Qe===Wl&&((Il&2)===0&&(Iu|=un),Sh===4&&fu(Qe,Ol,gc,!1)),Dc(Qe))}function vy(Qe,an,un){if((Il&6)!==0)throw Error(Ke(327));var Wn=!un&&(an&124)===0&&(an&Qe.expiredLanes)===0||Ec(Qe,an),Jn=Wn?kx(Qe,an):fg(Qe,an,!0),xs=Wn;do{if(Jn===0){df&&!Wn&&fu(Qe,an,0,!1);break}else{if(un=Qe.current.alternate,xs&&!Ax(un)){Jn=fg(Qe,an,!1),xs=!1;continue}if(Jn===2){if(xs=an,Qe.errorRecoveryDisabledLanes&xs)var fa=0;else fa=Qe.pendingLanes&-536870913,fa=fa!==0?fa:fa&536870912?536870912:0;if(fa!==0){an=fa;t:{var ma=Qe;Jn=ad;var ba=ma.current.memoizedState.isDehydrated;if(ba&&(vf(ma,fa).flags|=256),fa=fg(ma,fa,!1),fa!==2){if(ig&&!ba){ma.errorRecoveryDisabledLanes|=xs,Iu|=xs,Jn=4;break t}xs=tc,tc=Jn,xs!==null&&(tc===null?tc=xs:tc.push.apply(tc,xs))}Jn=fa}if(xs=!1,Jn!==2)continue}}if(Jn===1){vf(Qe,0),fu(Qe,an,0,!0);break}t:{switch(Wn=Qe,xs=Jn,xs){case 0:case 1:throw Error(Ke(345));case 4:if((an&4194048)!==an)break;case 6:fu(Wn,an,gc,!lu);break t;case 2:tc=null;break;case 3:case 5:break;default:throw Error(Ke(329))}if((an&62914560)===an&&(Jn=ag+300-Kl(),10<Jn)){if(fu(Wn,an,gc,!lu),Su(Wn,0,!0)!==0)break t;Wn.timeoutHandle=Xy(yy.bind(null,Wn,un,tc,fp,sg,an,gc,Iu,pf,lu,xs,2,-0,0),Jn);break t}yy(Wn,un,tc,fp,sg,an,gc,Iu,pf,lu,xs,0,-0,0)}}break}while(!0);Dc(Qe)}function yy(Qe,an,un,Wn,Jn,xs,fa,ma,ba,ka,el,nl,qa,Ka){if(Qe.timeoutHandle=-1,nl=an.subtreeFlags,(nl&8192||(nl&16785408)===16785408)&&(pd={stylesheets:null,count:0,unsuspend:cb},uy(an),nl=fb(),nl!==null)){Qe.cancelPendingCommit=nl(Ty.bind(null,Qe,an,xs,un,Wn,Jn,fa,ma,ba,el,1,qa,Ka)),fu(Qe,xs,fa,!ka);return}Ty(Qe,an,xs,un,Wn,Jn,fa,ma,ba)}function Ax(Qe){for(var an=Qe;;){var un=an.tag;if((un===0||un===11||un===15)&&an.flags&16384&&(un=an.updateQueue,un!==null&&(un=un.stores,un!==null)))for(var Wn=0;Wn<un.length;Wn++){var Jn=un[Wn],xs=Jn.getSnapshot;Jn=Jn.value;try{if(!ec(xs(),Jn))return!1}catch{return!1}}if(un=an.child,an.subtreeFlags&16384&&un!==null)un.return=an,an=un;else{if(an===Qe)break;for(;an.sibling===null;){if(an.return===null||an.return===Qe)return!0;an=an.return}an.sibling.return=an.return,an=an.sibling}}return!0}function fu(Qe,an,un,Wn){an&=~ng,an&=~Iu,Qe.suspendedLanes|=an,Qe.pingedLanes&=~an,Wn&&(Qe.warmLanes|=an),Wn=Qe.expirationTimes;for(var Jn=an;0<Jn;){var xs=31-xh(Jn),fa=1<<xs;Wn[xs]=-1,Jn&=~fa}un!==0&&Cu(Qe,un,an)}function dp(){return(Il&6)===0?(ld(0),!1):!0}function cg(){if(kl!==null){if(Nl===0)var Qe=kl.return;else Qe=kl,Bc=Lu=null,Mm(Qe),hf=null,Jf=0,Qe=kl;for(;Qe!==null;)Qv(Qe.alternate,Qe),Qe=Qe.return;kl=null}}function vf(Qe,an){var un=Qe.timeoutHandle;un!==-1&&(Qe.timeoutHandle=-1,Xx(un)),un=Qe.cancelPendingCommit,un!==null&&(Qe.cancelPendingCommit=null,un()),cg(),Wl=Qe,kl=un=Oc(Qe.current,null),Ol=an,Nl=0,sc=null,lu=!1,df=Ec(Qe,an),ig=!1,pf=gc=ng=Iu=hu=Sh=0,tc=ad=null,sg=!1,(an&8)!==0&&(an|=an&32);var Wn=Qe.entangledLanes;if(Wn!==0)for(Qe=Qe.entanglements,Wn&=an;0<Wn;){var Jn=31-xh(Wn),xs=1<<Jn;an|=Qe[Jn],Wn&=~xs}return Uc=an,Od(),un}function xy(Qe,an){wl=null,ua.H=Jd,an===Hf||an===Gd?(an=B0(),Nl=3):an===O0?(an=B0(),Nl=4):Nl=an===jv?8:an!==null&&typeof an=="object"&&typeof an.then=="function"?6:1,sc=an,kl===null&&(Sh=1,np(Qe,uc(an,Qe.current)))}function by(){var Qe=ua.H;return ua.H=Jd,Qe===null?Jd:Qe}function Sy(){var Qe=ua.A;return ua.A=wx,Qe}function ug(){Sh=4,lu||(Ol&4194048)!==Ol&&mc.current!==null||(df=!0),(hu&134217727)===0&&(Iu&134217727)===0||Wl===null||fu(Wl,Ol,gc,!1)}function fg(Qe,an,un){var Wn=Il;Il|=2;var Jn=by(),xs=Sy();(Wl!==Qe||Ol!==an)&&(fp=null,vf(Qe,an)),an=!1;var fa=Sh;t:do try{if(Nl!==0&&kl!==null){var ma=kl,ba=sc;switch(Nl){case 8:cg(),fa=6;break t;case 3:case 2:case 9:case 6:mc.current===null&&(an=!0);var ka=Nl;if(Nl=0,sc=null,yf(Qe,ma,ba,ka),un&&df){fa=0;break t}break;default:ka=Nl,Nl=0,sc=null,yf(Qe,ma,ba,ka)}}Dx(),fa=Sh;break}catch(el){xy(Qe,el)}while(!0);return an&&Qe.shellSuspendCounter++,Bc=Lu=null,Il=Wn,ua.H=Jn,ua.A=xs,kl===null&&(Wl=null,Ol=0,Od()),fa}function Dx(){for(;kl!==null;)_y(kl)}function kx(Qe,an){var un=Il;Il|=2;var Wn=by(),Jn=Sy();Wl!==Qe||Ol!==an?(fp=null,up=Kl()+500,vf(Qe,an)):df=Ec(Qe,an);t:do try{if(Nl!==0&&kl!==null){an=kl;var xs=sc;e:switch(Nl){case 1:Nl=0,sc=null,yf(Qe,an,xs,1);break;case 2:case 9:if(L0(xs)){Nl=0,sc=null,Cy(an);break}an=function(){Nl!==2&&Nl!==9||Wl!==Qe||(Nl=7),Dc(Qe)},xs.then(an,an);break t;case 3:Nl=7;break t;case 4:Nl=5;break t;case 7:L0(xs)?(Nl=0,sc=null,Cy(an)):(Nl=0,sc=null,yf(Qe,an,xs,7));break;case 5:var fa=null;switch(kl.tag){case 26:fa=kl.memoizedState;case 5:case 27:var ma=kl;if(!fa||n1(fa)){Nl=0,sc=null;var ba=ma.sibling;if(ba!==null)kl=ba;else{var ka=ma.return;ka!==null?(kl=ka,pp(ka)):kl=null}break e}}Nl=0,sc=null,yf(Qe,an,xs,5);break;case 6:Nl=0,sc=null,yf(Qe,an,xs,6);break;case 8:cg(),Sh=6;break t;default:throw Error(Ke(462))}}Px();break}catch(el){xy(Qe,el)}while(!0);return Bc=Lu=null,ua.H=Wn,ua.A=Jn,Il=un,kl!==null?0:(Wl=null,Ol=0,Od(),Sh)}function Px(){for(;kl!==null&&!Nh();)_y(kl)}function _y(Qe){var an=Kv(Qe.alternate,Qe,Uc);Qe.memoizedProps=Qe.pendingProps,an===null?pp(Qe):kl=an}function Cy(Qe){var an=Qe,un=an.alternate;switch(an.tag){case 15:case 0:an=Hv(un,an,an.pendingProps,an.type,void 0,Ol);break;case 11:an=Hv(un,an,an.pendingProps,an.type.render,an.ref,Ol);break;case 5:Mm(an);default:Qv(un,an),an=kl=E0(an,Uc),an=Kv(un,an,Uc)}Qe.memoizedProps=Qe.pendingProps,an===null?pp(Qe):kl=an}function yf(Qe,an,un,Wn){Bc=Lu=null,Mm(an),hf=null,Jf=0;var Jn=an.return;try{if(bx(Qe,Jn,an,un,Ol)){Sh=1,np(Qe,uc(un,Qe.current)),kl=null;return}}catch(xs){if(Jn!==null)throw kl=Jn,xs;Sh=1,np(Qe,uc(un,Qe.current)),kl=null;return}an.flags&32768?(Vl||Wn===1?Qe=!0:df||(Ol&536870912)!==0?Qe=!1:(lu=Qe=!0,(Wn===2||Wn===9||Wn===3||Wn===6)&&(Wn=mc.current,Wn!==null&&Wn.tag===13&&(Wn.flags|=16384))),Ey(an,Qe)):pp(an)}function pp(Qe){var an=Qe;do{if((an.flags&32768)!==0){Ey(an,lu);return}Qe=an.return;var un=_x(an.alternate,an,Uc);if(un!==null){kl=un;return}if(an=an.sibling,an!==null){kl=an;return}kl=an=Qe}while(an!==null);Sh===0&&(Sh=5)}function Ey(Qe,an){do{var un=Cx(Qe.alternate,Qe);if(un!==null){un.flags&=32767,kl=un;return}if(un=Qe.return,un!==null&&(un.flags|=32768,un.subtreeFlags=0,un.deletions=null),!an&&(Qe=Qe.sibling,Qe!==null)){kl=Qe;return}kl=Qe=un}while(Qe!==null);Sh=6,kl=null}function Ty(Qe,an,un,Wn,Jn,xs,fa,ma,ba){Qe.cancelPendingCommit=null;do mp();while(Fh!==0);if((Il&6)!==0)throw Error(Ke(327));if(an!==null){if(an===Qe.current)throw Error(Ke(177));if(xs=an.lanes|an.childLanes,xs|=em,Cd(Qe,un,xs,fa,ma,ba),Qe===Wl&&(kl=Wl=null,Ol=0),mf=an,uu=Qe,gf=un,og=xs,lg=Jn,my=Wn,(an.subtreeFlags&10256)!==0||(an.flags&10256)!==0?(Qe.callbackNode=null,Qe.callbackPriority=0,Fx(_h,function(){return ky(),null})):(Qe.callbackNode=null,Qe.callbackPriority=0),Wn=(an.flags&13878)!==0,(an.subtreeFlags&13878)!==0||Wn){Wn=ua.T,ua.T=null,Jn=ya.p,ya.p=2,fa=Il,Il|=4;try{Ex(Qe,an,un)}finally{Il=fa,ya.p=Jn,ua.T=Wn}}Fh=1,wy(),My(),Ay()}}function wy(){if(Fh===1){Fh=0;var Qe=uu,an=mf,un=(an.flags&13878)!==0;if((an.subtreeFlags&13878)!==0||un){un=ua.T,ua.T=null;var Wn=ya.p;ya.p=2;var Jn=Il;Il|=4;try{ly(an,Qe);var xs=Eg,fa=p0(Qe.containerInfo),ma=xs.focusedElem,ba=xs.selectionRange;if(fa!==ma&&ma&&ma.ownerDocument&&d0(ma.ownerDocument.documentElement,ma)){if(ba!==null&&Zp(ma)){var ka=ba.start,el=ba.end;if(el===void 0&&(el=ka),"selectionStart"in ma)ma.selectionStart=ka,ma.selectionEnd=Math.min(el,ma.value.length);else{var nl=ma.ownerDocument||document,qa=nl&&nl.defaultView||window;if(qa.getSelection){var Ka=qa.getSelection(),Sl=ma.textContent.length,yl=Math.min(ba.start,Sl),Ul=ba.end===void 0?yl:Math.min(ba.end,Sl);!Ka.extend&&yl>Ul&&(fa=Ul,Ul=yl,yl=fa);var Ea=f0(ma,yl),Ca=f0(ma,Ul);if(Ea&&Ca&&(Ka.rangeCount!==1||Ka.anchorNode!==Ea.node||Ka.anchorOffset!==Ea.offset||Ka.focusNode!==Ca.node||Ka.focusOffset!==Ca.offset)){var Da=nl.createRange();Da.setStart(Ea.node,Ea.offset),Ka.removeAllRanges(),yl>Ul?(Ka.addRange(Da),Ka.extend(Ca.node,Ca.offset)):(Da.setEnd(Ca.node,Ca.offset),Ka.addRange(Da))}}}}for(nl=[],Ka=ma;Ka=Ka.parentNode;)Ka.nodeType===1&&nl.push({element:Ka,left:Ka.scrollLeft,top:Ka.scrollTop});for(typeof ma.focus=="function"&&ma.focus(),ma=0;ma<nl.length;ma++){var il=nl[ma];il.element.scrollLeft=il.left,il.element.scrollTop=il.top}}Mp=!!Cg,Eg=Cg=null}finally{Il=Jn,ya.p=Wn,ua.T=un}}Qe.current=an,Fh=2}}function My(){if(Fh===2){Fh=0;var Qe=uu,an=mf,un=(an.flags&8772)!==0;if((an.subtreeFlags&8772)!==0||un){un=ua.T,ua.T=null;var Wn=ya.p;ya.p=2;var Jn=Il;Il|=4;try{ny(Qe,an.alternate,an)}finally{Il=Jn,ya.p=Wn,ua.T=un}}Fh=3}}function Ay(){if(Fh===4||Fh===3){Fh=0,Uh();var Qe=uu,an=mf,un=gf,Wn=my;(an.subtreeFlags&10256)!==0||(an.flags&10256)!==0?Fh=5:(Fh=0,mf=uu=null,Dy(Qe,Qe.pendingLanes));var Jn=Qe.pendingLanes;if(Jn===0&&(cu=null),Tf(un),an=an.stateNode,zl&&typeof zl.onCommitFiberRoot=="function")try{zl.onCommitFiberRoot(ql,an,void 0,(an.current.flags&128)===128)}catch{}if(Wn!==null){an=ua.T,Jn=ya.p,ya.p=2,ua.T=null;try{for(var xs=Qe.onRecoverableError,fa=0;fa<Wn.length;fa++){var ma=Wn[fa];xs(ma.value,{componentStack:ma.stack})}}finally{ua.T=an,ya.p=Jn}}(gf&3)!==0&&mp(),Dc(Qe),Jn=Qe.pendingLanes,(un&4194090)!==0&&(Jn&42)!==0?Qe===hg?od++:(od=0,hg=Qe):od=0,ld(0)}}function Dy(Qe,an){(Qe.pooledCacheLanes&=an)===0&&(an=Qe.pooledCache,an!=null&&(Qe.pooledCache=null,Nf(an)))}function mp(Qe){return wy(),My(),Ay(),ky()}function ky(){if(Fh!==5)return!1;var Qe=uu,an=og;og=0;var un=Tf(gf),Wn=ua.T,Jn=ya.p;try{ya.p=32>un?32:un,ua.T=null,un=lg,lg=null;var xs=uu,fa=gf;if(Fh=0,mf=uu=null,gf=0,(Il&6)!==0)throw Error(Ke(331));var ma=Il;if(Il|=4,dy(xs.current),cy(xs,xs.current,fa,un),Il=ma,ld(0,!1),zl&&typeof zl.onPostCommitFiberRoot=="function")try{zl.onPostCommitFiberRoot(ql,xs)}catch{}return!0}finally{ya.p=Jn,ua.T=Wn,Dy(Qe,an)}}function Py(Qe,an,un){an=uc(un,an),an=Nm(Qe.stateNode,an,2),Qe=eu(Qe,an,2),Qe!==null&&(_u(Qe,2),Dc(Qe))}function Xl(Qe,an,un){if(Qe.tag===3)Py(Qe,Qe,un);else for(;an!==null;){if(an.tag===3){Py(an,Qe,un);break}else if(an.tag===1){var Wn=an.stateNode;if(typeof an.type.getDerivedStateFromError=="function"||typeof Wn.componentDidCatch=="function"&&(cu===null||!cu.has(Wn))){Qe=uc(un,Qe),un=Fv(2),Wn=eu(an,un,2),Wn!==null&&(Bv(un,Wn,an,Qe),_u(Wn,2),Dc(Wn));break}}an=an.return}}function dg(Qe,an,un){var Wn=Qe.pingCache;if(Wn===null){Wn=Qe.pingCache=new Mx;var Jn=new Set;Wn.set(an,Jn)}else Jn=Wn.get(an),Jn===void 0&&(Jn=new Set,Wn.set(an,Jn));Jn.has(un)||(ig=!0,Jn.add(un),Qe=Rx.bind(null,Qe,an,un),an.then(Qe,Qe))}function Rx(Qe,an,un){var Wn=Qe.pingCache;Wn!==null&&Wn.delete(an),Qe.pingedLanes|=Qe.suspendedLanes&un,Qe.warmLanes&=~un,Wl===Qe&&(Ol&un)===un&&(Sh===4||Sh===3&&(Ol&62914560)===Ol&&300>Kl()-ag?(Il&2)===0&&vf(Qe,0):ng|=un,pf===Ol&&(pf=0)),Dc(Qe)}function Ry(Qe,an){an===0&&(an=_d()),Qe=Ju(Qe,an),Qe!==null&&(_u(Qe,an),Dc(Qe))}function Ox(Qe){var an=Qe.memoizedState,un=0;an!==null&&(un=an.retryLane),Ry(Qe,un)}function Lx(Qe,an){var un=0;switch(Qe.tag){case 13:var Wn=Qe.stateNode,Jn=Qe.memoizedState;Jn!==null&&(un=Jn.retryLane);break;case 19:Wn=Qe.stateNode;break;case 22:Wn=Qe.stateNode._retryCache;break;default:throw Error(Ke(314))}Wn!==null&&Wn.delete(an),Ry(Qe,un)}function Fx(Qe,an){return Dl(Qe,an)}var gp=null,xf=null,pg=!1,vp=!1,mg=!1,Nu=0;function Dc(Qe){Qe!==xf&&Qe.next===null&&(xf===null?gp=xf=Qe:xf=xf.next=Qe),vp=!0,pg||(pg=!0,jx())}function ld(Qe,an){if(!mg&&vp){mg=!0;do for(var un=!1,Wn=gp;Wn!==null;){if(Qe!==0){var Jn=Wn.pendingLanes;if(Jn===0)var xs=0;else{var fa=Wn.suspendedLanes,ma=Wn.pingedLanes;xs=(1<<31-xh(42|Qe)+1)-1,xs&=Jn&~(fa&~ma),xs=xs&201326741?xs&201326741|1:xs?xs|2:0}xs!==0&&(un=!0,By(Wn,xs))}else xs=Ol,xs=Su(Wn,Wn===Wl?xs:0,Wn.cancelPendingCommit!==null||Wn.timeoutHandle!==-1),(xs&3)===0||Ec(Wn,xs)||(un=!0,By(Wn,xs));Wn=Wn.next}while(un);mg=!1}}function Bx(){Oy()}function Oy(){vp=pg=!1;var Qe=0;Nu!==0&&(Yx()&&(Qe=Nu),Nu=0);for(var an=Kl(),un=null,Wn=gp;Wn!==null;){var Jn=Wn.next,xs=Ly(Wn,an);xs===0?(Wn.next=null,un===null?gp=Jn:un.next=Jn,Jn===null&&(xf=un)):(un=Wn,(Qe!==0||(xs&3)!==0)&&(vp=!0)),Wn=Jn}ld(Qe)}function Ly(Qe,an){for(var un=Qe.suspendedLanes,Wn=Qe.pingedLanes,Jn=Qe.expirationTimes,xs=Qe.pendingLanes&-62914561;0<xs;){var fa=31-xh(xs),ma=1<<fa,ba=Jn[fa];ba===-1?((ma&un)===0||(ma&Wn)!==0)&&(Jn[fa]=Sd(ma,an)):ba<=an&&(Qe.expiredLanes|=ma),xs&=~ma}if(an=Wl,un=Ol,un=Su(Qe,Qe===an?un:0,Qe.cancelPendingCommit!==null||Qe.timeoutHandle!==-1),Wn=Qe.callbackNode,un===0||Qe===an&&(Nl===2||Nl===9)||Qe.cancelPendingCommit!==null)return Wn!==null&&Wn!==null&&ll(Wn),Qe.callbackNode=null,Qe.callbackPriority=0;if((un&3)===0||Ec(Qe,un)){if(an=un&-un,an===Qe.callbackPriority)return an;switch(Wn!==null&&ll(Wn),Tf(un)){case 2:case 8:un=qh;break;case 32:un=_h;break;case 268435456:un=Oh;break;default:un=_h}return Wn=Fy.bind(null,Qe),un=Dl(un,Wn),Qe.callbackPriority=an,Qe.callbackNode=un,an}return Wn!==null&&Wn!==null&&ll(Wn),Qe.callbackPriority=2,Qe.callbackNode=null,2}function Fy(Qe,an){if(Fh!==0&&Fh!==5)return Qe.callbackNode=null,Qe.callbackPriority=0,null;var un=Qe.callbackNode;if(mp()&&Qe.callbackNode!==un)return null;var Wn=Ol;return Wn=Su(Qe,Qe===Wl?Wn:0,Qe.cancelPendingCommit!==null||Qe.timeoutHandle!==-1),Wn===0?null:(vy(Qe,Wn,an),Ly(Qe,Kl()),Qe.callbackNode!=null&&Qe.callbackNode===un?Fy.bind(null,Qe):null)}function By(Qe,an){if(mp())return null;vy(Qe,an,!0)}function jx(){qx(function(){(Il&6)!==0?Dl(Xh,Bx):Oy()})}function gg(){return Nu===0&&(Nu=Gu()),Nu}function jy(Qe){return Qe==null||typeof Qe=="symbol"||typeof Qe=="boolean"?null:typeof Qe=="function"?Qe:wd(""+Qe)}function zy(Qe,an){var un=an.ownerDocument.createElement("input");return un.name=an.name,un.value=an.value,Qe.id&&un.setAttribute("form",Qe.id),an.parentNode.insertBefore(un,an),Qe=new FormData(Qe),un.parentNode.removeChild(un),Qe}function zx(Qe,an,un,Wn,Jn){if(an==="submit"&&un&&un.stateNode===Jn){var xs=jy((Jn[ol]||null).action),fa=Wn.submitter;fa&&(an=(an=fa[ol]||null)?jy(an.formAction):fa.getAttribute("formAction"),an!==null&&(xs=an,fa=null));var ma=new kd("action","action",null,Wn,Jn);Qe.push({event:ma,listeners:[{instance:null,listener:function(){if(Wn.defaultPrevented){if(Nu!==0){var ba=fa?zy(Jn,fa):new FormData(Jn);Bm(un,{pending:!0,data:ba,method:Jn.method,action:xs},null,ba)}}else typeof xs=="function"&&(ma.preventDefault(),ba=fa?zy(Jn,fa):new FormData(Jn),Bm(un,{pending:!0,data:ba,method:Jn.method,action:xs},xs,ba))},currentTarget:Jn}]})}}for(var vg=0;vg<tm.length;vg++){var yg=tm[vg],Vx=yg.toLowerCase(),Ix=yg[0].toUpperCase()+yg.slice(1);bc(Vx,"on"+Ix)}bc(v0,"onAnimationEnd"),bc(y0,"onAnimationIteration"),bc(x0,"onAnimationStart"),bc("dblclick","onDoubleClick"),bc("focusin","onFocus"),bc("focusout","onBlur"),bc(ix,"onTransitionRun"),bc(nx,"onTransitionStart"),bc(sx,"onTransitionCancel"),bc(b0,"onTransitionEnd"),lc("onMouseEnter",["mouseout","mouseover"]),lc("onMouseLeave",["mouseout","mouseover"]),lc("onPointerEnter",["pointerout","pointerover"]),lc("onPointerLeave",["pointerout","pointerover"]),Gh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gh("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hd));function Vy(Qe,an){an=(an&4)!==0;for(var un=0;un<Qe.length;un++){var Wn=Qe[un],Jn=Wn.event;Wn=Wn.listeners;t:{var xs=void 0;if(an)for(var fa=Wn.length-1;0<=fa;fa--){var ma=Wn[fa],ba=ma.instance,ka=ma.currentTarget;if(ma=ma.listener,ba!==xs&&Jn.isPropagationStopped())break t;xs=ma,Jn.currentTarget=ka;try{xs(Jn)}catch(el){rp(el)}Jn.currentTarget=null,xs=ba}else for(fa=0;fa<Wn.length;fa++){if(ma=Wn[fa],ba=ma.instance,ka=ma.currentTarget,ma=ma.listener,ba!==xs&&Jn.isPropagationStopped())break t;xs=ma,Jn.currentTarget=ka;try{xs(Jn)}catch(el){rp(el)}Jn.currentTarget=null,xs=ba}}}}function Pl(Qe,an){var un=an[vl];un===void 0&&(un=an[vl]=new Set);var Wn=Qe+"__bubble";un.has(Wn)||(Iy(an,Qe,2,!1),un.add(Wn))}function xg(Qe,an,un){var Wn=0;an&&(Wn|=4),Iy(un,Qe,Wn,an)}var yp="_reactListening"+Math.random().toString(36).slice(2);function bg(Qe){if(!Qe[yp]){Qe[yp]=!0,Rl.forEach(function(un){un!=="selectionchange"&&(Nx.has(un)||xg(un,!1,Qe),xg(un,!0,Qe))});var an=Qe.nodeType===9?Qe:Qe.ownerDocument;an===null||an[yp]||(an[yp]=!0,xg("selectionchange",!1,an))}}function Iy(Qe,an,un,Wn){switch(c1(an)){case 2:var Jn=mb;break;case 8:Jn=gb;break;default:Jn=Lg}un=Jn.bind(null,an,un,Qe),Jn=void 0,!Np||an!=="touchstart"&&an!=="touchmove"&&an!=="wheel"||(Jn=!0),Wn?Jn!==void 0?Qe.addEventListener(an,un,{capture:!0,passive:Jn}):Qe.addEventListener(an,un,!0):Jn!==void 0?Qe.addEventListener(an,un,{passive:Jn}):Qe.addEventListener(an,un,!1)}function Sg(Qe,an,un,Wn,Jn){var xs=Wn;if((an&1)===0&&(an&2)===0&&Wn!==null)t:for(;;){if(Wn===null)return;var fa=Wn.tag;if(fa===3||fa===4){var ma=Wn.stateNode.containerInfo;if(ma===Jn)break;if(fa===4)for(fa=Wn.return;fa!==null;){var ba=fa.tag;if((ba===3||ba===4)&&fa.stateNode.containerInfo===Jn)return;fa=fa.return}for(;ma!==null;){if(fa=_l(ma),fa===null)return;if(ba=fa.tag,ba===5||ba===6||ba===26||ba===27){Wn=xs=fa;continue t}ma=ma.parentNode}}Wn=Wn.return}qg(function(){var ka=xs,el=Vp(un),nl=[];t:{var qa=S0.get(Qe);if(qa!==void 0){var Ka=kd,Sl=Qe;switch(Qe){case"keypress":if(Ad(un)===0)break t;case"keydown":case"keyup":Ka=F1;break;case"focusin":Sl="focus",Ka=Yp;break;case"focusout":Sl="blur",Ka=Yp;break;case"beforeblur":case"afterblur":Ka=Yp;break;case"click":if(un.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ka=Zg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ka=C1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ka=z1;break;case v0:case y0:case x0:Ka=w1;break;case b0:Ka=I1;break;case"scroll":case"scrollend":Ka=S1;break;case"wheel":Ka=G1;break;case"copy":case"cut":case"paste":Ka=A1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ka=Jg;break;case"toggle":case"beforetoggle":Ka=U1}var yl=(an&4)!==0,Ul=!yl&&(Qe==="scroll"||Qe==="scrollend"),Ea=yl?qa!==null?qa+"Capture":null:qa;yl=[];for(var Ca=ka,Da;Ca!==null;){var il=Ca;if(Da=il.stateNode,il=il.tag,il!==5&&il!==26&&il!==27||Da===null||Ea===null||(il=Af(Ca,Ea),il!=null&&yl.push(cd(Ca,il,Da))),Ul)break;Ca=Ca.return}0<yl.length&&(qa=new Ka(qa,Sl,null,un,el),nl.push({event:qa,listeners:yl}))}}if((an&7)===0){t:{if(qa=Qe==="mouseover"||Qe==="pointerover",Ka=Qe==="mouseout"||Qe==="pointerout",qa&&un!==zp&&(Sl=un.relatedTarget||un.fromElement)&&(_l(Sl)||Sl[fl]))break t;if((Ka||qa)&&(qa=el.window===el?el:(qa=el.ownerDocument)?qa.defaultView||qa.parentWindow:window,Ka?(Sl=un.relatedTarget||un.toElement,Ka=ka,Sl=Sl?_l(Sl):null,Sl!==null&&(Ul=ln(Sl),yl=Sl.tag,Sl!==Ul||yl!==5&&yl!==27&&yl!==6)&&(Sl=null)):(Ka=null,Sl=ka),Ka!==Sl)){if(yl=Zg,il="onMouseLeave",Ea="onMouseEnter",Ca="mouse",(Qe==="pointerout"||Qe==="pointerover")&&(yl=Jg,il="onPointerLeave",Ea="onPointerEnter",Ca="pointer"),Ul=Ka==null?qa:Zl(Ka),Da=Sl==null?qa:Zl(Sl),qa=new yl(il,Ca+"leave",Ka,un,el),qa.target=Ul,qa.relatedTarget=Da,il=null,_l(el)===ka&&(yl=new yl(Ea,Ca+"enter",Sl,un,el),yl.target=Da,yl.relatedTarget=Ul,il=yl),Ul=il,Ka&&Sl)e:{for(yl=Ka,Ea=Sl,Ca=0,Da=yl;Da;Da=bf(Da))Ca++;for(Da=0,il=Ea;il;il=bf(il))Da++;for(;0<Ca-Da;)yl=bf(yl),Ca--;for(;0<Da-Ca;)Ea=bf(Ea),Da--;for(;Ca--;){if(yl===Ea||Ea!==null&&yl===Ea.alternate)break e;yl=bf(yl),Ea=bf(Ea)}yl=null}else yl=null;Ka!==null&&Ny(nl,qa,Ka,yl,!1),Sl!==null&&Ul!==null&&Ny(nl,Ul,Sl,yl,!0)}}t:{if(qa=ka?Zl(ka):window,Ka=qa.nodeName&&qa.nodeName.toLowerCase(),Ka==="select"||Ka==="input"&&qa.type==="file")var ul=a0;else if(n0(qa))if(o0)ul=tx;else{ul=J1;var Al=Q1}else Ka=qa.nodeName,!Ka||Ka.toLowerCase()!=="input"||qa.type!=="checkbox"&&qa.type!=="radio"?ka&&jp(ka.elementType)&&(ul=a0):ul=$1;if(ul&&(ul=ul(Qe,ka))){s0(nl,ul,un,el);break t}Al&&Al(Qe,qa,ka),Qe==="focusout"&&ka&&qa.type==="number"&&ka.memoizedProps.value!=null&&Bp(qa,"number",qa.value)}switch(Al=ka?Zl(ka):window,Qe){case"focusin":(n0(Al)||Al.contentEditable==="true")&&(Ku=Al,Qp=ka,Bf=null);break;case"focusout":Bf=Qp=Ku=null;break;case"mousedown":Jp=!0;break;case"contextmenu":case"mouseup":case"dragend":Jp=!1,m0(nl,un,el);break;case"selectionchange":if(rx)break;case"keydown":case"keyup":m0(nl,un,el)}var pl;if(qp)t:{switch(Qe){case"compositionstart":var xl="onCompositionStart";break t;case"compositionend":xl="onCompositionEnd";break t;case"compositionupdate":xl="onCompositionUpdate";break t}xl=void 0}else Wu?r0(Qe,un)&&(xl="onCompositionEnd"):Qe==="keydown"&&un.keyCode===229&&(xl="onCompositionStart");xl&&($g&&un.locale!=="ko"&&(Wu||xl!=="onCompositionStart"?xl==="onCompositionEnd"&&Wu&&(pl=Wg()):(Qc=el,Gp="value"in Qc?Qc.value:Qc.textContent,Wu=!0)),Al=xp(ka,xl),0<Al.length&&(xl=new Qg(xl,Qe,null,un,el),nl.push({event:xl,listeners:Al}),pl?xl.data=pl:(pl=i0(un),pl!==null&&(xl.data=pl)))),(pl=X1?q1(Qe,un):W1(Qe,un))&&(xl=xp(ka,"onBeforeInput"),0<xl.length&&(Al=new Qg("onBeforeInput","beforeinput",null,un,el),nl.push({event:Al,listeners:xl}),Al.data=pl)),zx(nl,Qe,ka,un,el)}Vy(nl,an)})}function cd(Qe,an,un){return{instance:Qe,listener:an,currentTarget:un}}function xp(Qe,an){for(var un=an+"Capture",Wn=[];Qe!==null;){var Jn=Qe,xs=Jn.stateNode;if(Jn=Jn.tag,Jn!==5&&Jn!==26&&Jn!==27||xs===null||(Jn=Af(Qe,un),Jn!=null&&Wn.unshift(cd(Qe,Jn,xs)),Jn=Af(Qe,an),Jn!=null&&Wn.push(cd(Qe,Jn,xs))),Qe.tag===3)return Wn;Qe=Qe.return}return[]}function bf(Qe){if(Qe===null)return null;do Qe=Qe.return;while(Qe&&Qe.tag!==5&&Qe.tag!==27);return Qe||null}function Ny(Qe,an,un,Wn,Jn){for(var xs=an._reactName,fa=[];un!==null&&un!==Wn;){var ma=un,ba=ma.alternate,ka=ma.stateNode;if(ma=ma.tag,ba!==null&&ba===Wn)break;ma!==5&&ma!==26&&ma!==27||ka===null||(ba=ka,Jn?(ka=Af(un,xs),ka!=null&&fa.unshift(cd(un,ka,ba))):Jn||(ka=Af(un,xs),ka!=null&&fa.push(cd(un,ka,ba)))),un=un.return}fa.length!==0&&Qe.push({event:an,listeners:fa})}var Gx=/\r\n?/g,Hx=/\u0000|\uFFFD/g;function Gy(Qe){return(typeof Qe=="string"?Qe:""+Qe).replace(Gx,`
`).replace(Hx,"")}function Hy(Qe,an){return an=Gy(an),Gy(Qe)===an}function bp(){}function Hl(Qe,an,un,Wn,Jn,xs){switch(un){case"children":typeof Wn=="string"?an==="body"||an==="textarea"&&Wn===""||Yu(Qe,Wn):(typeof Wn=="number"||typeof Wn=="bigint")&&an!=="body"&&Yu(Qe,""+Wn);break;case"className":Pc(Qe,"class",Wn);break;case"tabIndex":Pc(Qe,"tabindex",Wn);break;case"dir":case"role":case"viewBox":case"width":case"height":Pc(Qe,un,Wn);break;case"style":Yg(Qe,Wn,xs);break;case"data":if(an!=="object"){Pc(Qe,"data",Wn);break}case"src":case"href":if(Wn===""&&(an!=="a"||un!=="href")){Qe.removeAttribute(un);break}if(Wn==null||typeof Wn=="function"||typeof Wn=="symbol"||typeof Wn=="boolean"){Qe.removeAttribute(un);break}Wn=wd(""+Wn),Qe.setAttribute(un,Wn);break;case"action":case"formAction":if(typeof Wn=="function"){Qe.setAttribute(un,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof xs=="function"&&(un==="formAction"?(an!=="input"&&Hl(Qe,an,"name",Jn.name,Jn,null),Hl(Qe,an,"formEncType",Jn.formEncType,Jn,null),Hl(Qe,an,"formMethod",Jn.formMethod,Jn,null),Hl(Qe,an,"formTarget",Jn.formTarget,Jn,null)):(Hl(Qe,an,"encType",Jn.encType,Jn,null),Hl(Qe,an,"method",Jn.method,Jn,null),Hl(Qe,an,"target",Jn.target,Jn,null)));if(Wn==null||typeof Wn=="symbol"||typeof Wn=="boolean"){Qe.removeAttribute(un);break}Wn=wd(""+Wn),Qe.setAttribute(un,Wn);break;case"onClick":Wn!=null&&(Qe.onclick=bp);break;case"onScroll":Wn!=null&&Pl("scroll",Qe);break;case"onScrollEnd":Wn!=null&&Pl("scrollend",Qe);break;case"dangerouslySetInnerHTML":if(Wn!=null){if(typeof Wn!="object"||!("__html"in Wn))throw Error(Ke(61));if(un=Wn.__html,un!=null){if(Jn.children!=null)throw Error(Ke(60));Qe.innerHTML=un}}break;case"multiple":Qe.multiple=Wn&&typeof Wn!="function"&&typeof Wn!="symbol";break;case"muted":Qe.muted=Wn&&typeof Wn!="function"&&typeof Wn!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(Wn==null||typeof Wn=="function"||typeof Wn=="boolean"||typeof Wn=="symbol"){Qe.removeAttribute("xlink:href");break}un=wd(""+Wn),Qe.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",un);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":Wn!=null&&typeof Wn!="function"&&typeof Wn!="symbol"?Qe.setAttribute(un,""+Wn):Qe.removeAttribute(un);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":Wn&&typeof Wn!="function"&&typeof Wn!="symbol"?Qe.setAttribute(un,""):Qe.removeAttribute(un);break;case"capture":case"download":Wn===!0?Qe.setAttribute(un,""):Wn!==!1&&Wn!=null&&typeof Wn!="function"&&typeof Wn!="symbol"?Qe.setAttribute(un,Wn):Qe.removeAttribute(un);break;case"cols":case"rows":case"size":case"span":Wn!=null&&typeof Wn!="function"&&typeof Wn!="symbol"&&!isNaN(Wn)&&1<=Wn?Qe.setAttribute(un,Wn):Qe.removeAttribute(un);break;case"rowSpan":case"start":Wn==null||typeof Wn=="function"||typeof Wn=="symbol"||isNaN(Wn)?Qe.removeAttribute(un):Qe.setAttribute(un,Wn);break;case"popover":Pl("beforetoggle",Qe),Pl("toggle",Qe),hc(Qe,"popover",Wn);break;case"xlinkActuate":Ml(Qe,"http://www.w3.org/1999/xlink","xlink:actuate",Wn);break;case"xlinkArcrole":Ml(Qe,"http://www.w3.org/1999/xlink","xlink:arcrole",Wn);break;case"xlinkRole":Ml(Qe,"http://www.w3.org/1999/xlink","xlink:role",Wn);break;case"xlinkShow":Ml(Qe,"http://www.w3.org/1999/xlink","xlink:show",Wn);break;case"xlinkTitle":Ml(Qe,"http://www.w3.org/1999/xlink","xlink:title",Wn);break;case"xlinkType":Ml(Qe,"http://www.w3.org/1999/xlink","xlink:type",Wn);break;case"xmlBase":Ml(Qe,"http://www.w3.org/XML/1998/namespace","xml:base",Wn);break;case"xmlLang":Ml(Qe,"http://www.w3.org/XML/1998/namespace","xml:lang",Wn);break;case"xmlSpace":Ml(Qe,"http://www.w3.org/XML/1998/namespace","xml:space",Wn);break;case"is":hc(Qe,"is",Wn);break;case"innerText":case"textContent":break;default:(!(2<un.length)||un[0]!=="o"&&un[0]!=="O"||un[1]!=="n"&&un[1]!=="N")&&(un=x1.get(un)||un,hc(Qe,un,Wn))}}function _g(Qe,an,un,Wn,Jn,xs){switch(un){case"style":Yg(Qe,Wn,xs);break;case"dangerouslySetInnerHTML":if(Wn!=null){if(typeof Wn!="object"||!("__html"in Wn))throw Error(Ke(61));if(un=Wn.__html,un!=null){if(Jn.children!=null)throw Error(Ke(60));Qe.innerHTML=un}}break;case"children":typeof Wn=="string"?Yu(Qe,Wn):(typeof Wn=="number"||typeof Wn=="bigint")&&Yu(Qe,""+Wn);break;case"onScroll":Wn!=null&&Pl("scroll",Qe);break;case"onScrollEnd":Wn!=null&&Pl("scrollend",Qe);break;case"onClick":Wn!=null&&(Qe.onclick=bp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qc.hasOwnProperty(un))t:{if(un[0]==="o"&&un[1]==="n"&&(Jn=un.endsWith("Capture"),an=un.slice(2,Jn?un.length-7:void 0),xs=Qe[ol]||null,xs=xs!=null?xs[un]:null,typeof xs=="function"&&Qe.removeEventListener(an,xs,Jn),typeof Wn=="function")){typeof xs!="function"&&xs!==null&&(un in Qe?Qe[un]=null:Qe.hasAttribute(un)&&Qe.removeAttribute(un)),Qe.addEventListener(an,Wn,Jn);break t}un in Qe?Qe[un]=Wn:Wn===!0?Qe.setAttribute(un,""):hc(Qe,un,Wn)}}}function Bh(Qe,an,un){switch(an){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pl("error",Qe),Pl("load",Qe);var Wn=!1,Jn=!1,xs;for(xs in un)if(un.hasOwnProperty(xs)){var fa=un[xs];if(fa!=null)switch(xs){case"src":Wn=!0;break;case"srcSet":Jn=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Ke(137,an));default:Hl(Qe,an,xs,fa,un,null)}}Jn&&Hl(Qe,an,"srcSet",un.srcSet,un,null),Wn&&Hl(Qe,an,"src",un.src,un,null);return;case"input":Pl("invalid",Qe);var ma=xs=fa=Jn=null,ba=null,ka=null;for(Wn in un)if(un.hasOwnProperty(Wn)){var el=un[Wn];if(el!=null)switch(Wn){case"name":Jn=el;break;case"type":fa=el;break;case"checked":ba=el;break;case"defaultChecked":ka=el;break;case"value":xs=el;break;case"defaultValue":ma=el;break;case"children":case"dangerouslySetInnerHTML":if(el!=null)throw Error(Ke(137,an));break;default:Hl(Qe,an,Wn,el,un,null)}}Ng(Qe,xs,ma,ba,ka,fa,Jn,!1),Ed(Qe);return;case"select":Pl("invalid",Qe),Wn=fa=xs=null;for(Jn in un)if(un.hasOwnProperty(Jn)&&(ma=un[Jn],ma!=null))switch(Jn){case"value":xs=ma;break;case"defaultValue":fa=ma;break;case"multiple":Wn=ma;default:Hl(Qe,an,Jn,ma,un,null)}an=xs,un=fa,Qe.multiple=!!Wn,an!=null?Uu(Qe,!!Wn,an,!1):un!=null&&Uu(Qe,!!Wn,un,!0);return;case"textarea":Pl("invalid",Qe),xs=Jn=Wn=null;for(fa in un)if(un.hasOwnProperty(fa)&&(ma=un[fa],ma!=null))switch(fa){case"value":Wn=ma;break;case"defaultValue":Jn=ma;break;case"children":xs=ma;break;case"dangerouslySetInnerHTML":if(ma!=null)throw Error(Ke(91));break;default:Hl(Qe,an,fa,ma,un,null)}Hg(Qe,Wn,Jn,xs),Ed(Qe);return;case"option":for(ba in un)if(un.hasOwnProperty(ba)&&(Wn=un[ba],Wn!=null))switch(ba){case"selected":Qe.selected=Wn&&typeof Wn!="function"&&typeof Wn!="symbol";break;default:Hl(Qe,an,ba,Wn,un,null)}return;case"dialog":Pl("beforetoggle",Qe),Pl("toggle",Qe),Pl("cancel",Qe),Pl("close",Qe);break;case"iframe":case"object":Pl("load",Qe);break;case"video":case"audio":for(Wn=0;Wn<hd.length;Wn++)Pl(hd[Wn],Qe);break;case"image":Pl("error",Qe),Pl("load",Qe);break;case"details":Pl("toggle",Qe);break;case"embed":case"source":case"link":Pl("error",Qe),Pl("load",Qe);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ka in un)if(un.hasOwnProperty(ka)&&(Wn=un[ka],Wn!=null))switch(ka){case"children":case"dangerouslySetInnerHTML":throw Error(Ke(137,an));default:Hl(Qe,an,ka,Wn,un,null)}return;default:if(jp(an)){for(el in un)un.hasOwnProperty(el)&&(Wn=un[el],Wn!==void 0&&_g(Qe,an,el,Wn,un,void 0));return}}for(ma in un)un.hasOwnProperty(ma)&&(Wn=un[ma],Wn!=null&&Hl(Qe,an,ma,Wn,un,null))}function Ux(Qe,an,un,Wn){switch(an){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var Jn=null,xs=null,fa=null,ma=null,ba=null,ka=null,el=null;for(Ka in un){var nl=un[Ka];if(un.hasOwnProperty(Ka)&&nl!=null)switch(Ka){case"checked":break;case"value":break;case"defaultValue":ba=nl;default:Wn.hasOwnProperty(Ka)||Hl(Qe,an,Ka,null,Wn,nl)}}for(var qa in Wn){var Ka=Wn[qa];if(nl=un[qa],Wn.hasOwnProperty(qa)&&(Ka!=null||nl!=null))switch(qa){case"type":xs=Ka;break;case"name":Jn=Ka;break;case"checked":ka=Ka;break;case"defaultChecked":el=Ka;break;case"value":fa=Ka;break;case"defaultValue":ma=Ka;break;case"children":case"dangerouslySetInnerHTML":if(Ka!=null)throw Error(Ke(137,an));break;default:Ka!==nl&&Hl(Qe,an,qa,Ka,Wn,nl)}}Fp(Qe,fa,ma,ba,ka,el,xs,Jn);return;case"select":Ka=fa=ma=qa=null;for(xs in un)if(ba=un[xs],un.hasOwnProperty(xs)&&ba!=null)switch(xs){case"value":break;case"multiple":Ka=ba;default:Wn.hasOwnProperty(xs)||Hl(Qe,an,xs,null,Wn,ba)}for(Jn in Wn)if(xs=Wn[Jn],ba=un[Jn],Wn.hasOwnProperty(Jn)&&(xs!=null||ba!=null))switch(Jn){case"value":qa=xs;break;case"defaultValue":ma=xs;break;case"multiple":fa=xs;default:xs!==ba&&Hl(Qe,an,Jn,xs,Wn,ba)}an=ma,un=fa,Wn=Ka,qa!=null?Uu(Qe,!!un,qa,!1):!!Wn!=!!un&&(an!=null?Uu(Qe,!!un,an,!0):Uu(Qe,!!un,un?[]:"",!1));return;case"textarea":Ka=qa=null;for(ma in un)if(Jn=un[ma],un.hasOwnProperty(ma)&&Jn!=null&&!Wn.hasOwnProperty(ma))switch(ma){case"value":break;case"children":break;default:Hl(Qe,an,ma,null,Wn,Jn)}for(fa in Wn)if(Jn=Wn[fa],xs=un[fa],Wn.hasOwnProperty(fa)&&(Jn!=null||xs!=null))switch(fa){case"value":qa=Jn;break;case"defaultValue":Ka=Jn;break;case"children":break;case"dangerouslySetInnerHTML":if(Jn!=null)throw Error(Ke(91));break;default:Jn!==xs&&Hl(Qe,an,fa,Jn,Wn,xs)}Gg(Qe,qa,Ka);return;case"option":for(var Sl in un)if(qa=un[Sl],un.hasOwnProperty(Sl)&&qa!=null&&!Wn.hasOwnProperty(Sl))switch(Sl){case"selected":Qe.selected=!1;break;default:Hl(Qe,an,Sl,null,Wn,qa)}for(ba in Wn)if(qa=Wn[ba],Ka=un[ba],Wn.hasOwnProperty(ba)&&qa!==Ka&&(qa!=null||Ka!=null))switch(ba){case"selected":Qe.selected=qa&&typeof qa!="function"&&typeof qa!="symbol";break;default:Hl(Qe,an,ba,qa,Wn,Ka)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yl in un)qa=un[yl],un.hasOwnProperty(yl)&&qa!=null&&!Wn.hasOwnProperty(yl)&&Hl(Qe,an,yl,null,Wn,qa);for(ka in Wn)if(qa=Wn[ka],Ka=un[ka],Wn.hasOwnProperty(ka)&&qa!==Ka&&(qa!=null||Ka!=null))switch(ka){case"children":case"dangerouslySetInnerHTML":if(qa!=null)throw Error(Ke(137,an));break;default:Hl(Qe,an,ka,qa,Wn,Ka)}return;default:if(jp(an)){for(var Ul in un)qa=un[Ul],un.hasOwnProperty(Ul)&&qa!==void 0&&!Wn.hasOwnProperty(Ul)&&_g(Qe,an,Ul,void 0,Wn,qa);for(el in Wn)qa=Wn[el],Ka=un[el],!Wn.hasOwnProperty(el)||qa===Ka||qa===void 0&&Ka===void 0||_g(Qe,an,el,qa,Wn,Ka);return}}for(var Ea in un)qa=un[Ea],un.hasOwnProperty(Ea)&&qa!=null&&!Wn.hasOwnProperty(Ea)&&Hl(Qe,an,Ea,null,Wn,qa);for(nl in Wn)qa=Wn[nl],Ka=un[nl],!Wn.hasOwnProperty(nl)||qa===Ka||qa==null&&Ka==null||Hl(Qe,an,nl,qa,Wn,Ka)}var Cg=null,Eg=null;function Sp(Qe){return Qe.nodeType===9?Qe:Qe.ownerDocument}function Uy(Qe){switch(Qe){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yy(Qe,an){if(Qe===0)switch(an){case"svg":return 1;case"math":return 2;default:return 0}return Qe===1&&an==="foreignObject"?0:Qe}function Tg(Qe,an){return Qe==="textarea"||Qe==="noscript"||typeof an.children=="string"||typeof an.children=="number"||typeof an.children=="bigint"||typeof an.dangerouslySetInnerHTML=="object"&&an.dangerouslySetInnerHTML!==null&&an.dangerouslySetInnerHTML.__html!=null}var wg=null;function Yx(){var Qe=window.event;return Qe&&Qe.type==="popstate"?Qe===wg?!1:(wg=Qe,!0):(wg=null,!1)}var Xy=typeof setTimeout=="function"?setTimeout:void 0,Xx=typeof clearTimeout=="function"?clearTimeout:void 0,qy=typeof Promise=="function"?Promise:void 0,qx=typeof queueMicrotask=="function"?queueMicrotask:typeof qy<"u"?function(Qe){return qy.resolve(null).then(Qe).catch(Wx)}:Xy;function Wx(Qe){setTimeout(function(){throw Qe})}function du(Qe){return Qe==="head"}function Wy(Qe,an){var un=an,Wn=0,Jn=0;do{var xs=un.nextSibling;if(Qe.removeChild(un),xs&&xs.nodeType===8)if(un=xs.data,un==="/$"){if(0<Wn&&8>Wn){un=Wn;var fa=Qe.ownerDocument;if(un&1&&ud(fa.documentElement),un&2&&ud(fa.body),un&4)for(un=fa.head,ud(un),fa=un.firstChild;fa;){var ma=fa.nextSibling,ba=fa.nodeName;fa[bl]||ba==="SCRIPT"||ba==="STYLE"||ba==="LINK"&&fa.rel.toLowerCase()==="stylesheet"||un.removeChild(fa),fa=ma}}if(Jn===0){Qe.removeChild(xs),xd(an);return}Jn--}else un==="$"||un==="$?"||un==="$!"?Jn++:Wn=un.charCodeAt(0)-48;else Wn=0;un=xs}while(un);xd(an)}function Mg(Qe){var an=Qe.firstChild;for(an&&an.nodeType===10&&(an=an.nextSibling);an;){var un=an;switch(an=an.nextSibling,un.nodeName){case"HTML":case"HEAD":case"BODY":Mg(un),dl(un);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(un.rel.toLowerCase()==="stylesheet")continue}Qe.removeChild(un)}}function Kx(Qe,an,un,Wn){for(;Qe.nodeType===1;){var Jn=un;if(Qe.nodeName.toLowerCase()!==an.toLowerCase()){if(!Wn&&(Qe.nodeName!=="INPUT"||Qe.type!=="hidden"))break}else if(Wn){if(!Qe[bl])switch(an){case"meta":if(!Qe.hasAttribute("itemprop"))break;return Qe;case"link":if(xs=Qe.getAttribute("rel"),xs==="stylesheet"&&Qe.hasAttribute("data-precedence"))break;if(xs!==Jn.rel||Qe.getAttribute("href")!==(Jn.href==null||Jn.href===""?null:Jn.href)||Qe.getAttribute("crossorigin")!==(Jn.crossOrigin==null?null:Jn.crossOrigin)||Qe.getAttribute("title")!==(Jn.title==null?null:Jn.title))break;return Qe;case"style":if(Qe.hasAttribute("data-precedence"))break;return Qe;case"script":if(xs=Qe.getAttribute("src"),(xs!==(Jn.src==null?null:Jn.src)||Qe.getAttribute("type")!==(Jn.type==null?null:Jn.type)||Qe.getAttribute("crossorigin")!==(Jn.crossOrigin==null?null:Jn.crossOrigin))&&xs&&Qe.hasAttribute("async")&&!Qe.hasAttribute("itemprop"))break;return Qe;default:return Qe}}else if(an==="input"&&Qe.type==="hidden"){var xs=Jn.name==null?null:""+Jn.name;if(Jn.type==="hidden"&&Qe.getAttribute("name")===xs)return Qe}else return Qe;if(Qe=_c(Qe.nextSibling),Qe===null)break}return null}function Zx(Qe,an,un){if(an==="")return null;for(;Qe.nodeType!==3;)if((Qe.nodeType!==1||Qe.nodeName!=="INPUT"||Qe.type!=="hidden")&&!un||(Qe=_c(Qe.nextSibling),Qe===null))return null;return Qe}function Ag(Qe){return Qe.data==="$!"||Qe.data==="$?"&&Qe.ownerDocument.readyState==="complete"}function Qx(Qe,an){var un=Qe.ownerDocument;if(Qe.data!=="$?"||un.readyState==="complete")an();else{var Wn=function(){an(),un.removeEventListener("DOMContentLoaded",Wn)};un.addEventListener("DOMContentLoaded",Wn),Qe._reactRetry=Wn}}function _c(Qe){for(;Qe!=null;Qe=Qe.nextSibling){var an=Qe.nodeType;if(an===1||an===3)break;if(an===8){if(an=Qe.data,an==="$"||an==="$!"||an==="$?"||an==="F!"||an==="F")break;if(an==="/$")return null}}return Qe}var Dg=null;function Ky(Qe){Qe=Qe.previousSibling;for(var an=0;Qe;){if(Qe.nodeType===8){var un=Qe.data;if(un==="$"||un==="$!"||un==="$?"){if(an===0)return Qe;an--}else un==="/$"&&an++}Qe=Qe.previousSibling}return null}function Zy(Qe,an,un){switch(an=Sp(un),Qe){case"html":if(Qe=an.documentElement,!Qe)throw Error(Ke(452));return Qe;case"head":if(Qe=an.head,!Qe)throw Error(Ke(453));return Qe;case"body":if(Qe=an.body,!Qe)throw Error(Ke(454));return Qe;default:throw Error(Ke(451))}}function ud(Qe){for(var an=Qe.attributes;an.length;)Qe.removeAttributeNode(an[0]);dl(Qe)}var vc=new Map,Qy=new Set;function _p(Qe){return typeof Qe.getRootNode=="function"?Qe.getRootNode():Qe.nodeType===9?Qe:Qe.ownerDocument}var Yc=ya.d;ya.d={f:Jx,r:$x,D:tb,C:eb,L:rb,m:ib,X:sb,S:nb,M:ab};function Jx(){var Qe=Yc.f(),an=dp();return Qe||an}function $x(Qe){var an=Ll(Qe);an!==null&&an.tag===5&&an.type==="form"?vv(an):Yc.r(Qe)}var Sf=typeof document>"u"?null:document;function Jy(Qe,an,un){var Wn=Sf;if(Wn&&typeof an=="string"&&an){var Jn=cc(an);Jn='link[rel="'+Qe+'"][href="'+Jn+'"]',typeof un=="string"&&(Jn+='[crossorigin="'+un+'"]'),Qy.has(Jn)||(Qy.add(Jn),Qe={rel:Qe,crossOrigin:un,href:an},Wn.querySelector(Jn)===null&&(an=Wn.createElement("link"),Bh(an,"link",Qe),Fl(an),Wn.head.appendChild(an)))}}function tb(Qe){Yc.D(Qe),Jy("dns-prefetch",Qe,null)}function eb(Qe,an){Yc.C(Qe,an),Jy("preconnect",Qe,an)}function rb(Qe,an,un){Yc.L(Qe,an,un);var Wn=Sf;if(Wn&&Qe&&an){var Jn='link[rel="preload"][as="'+cc(an)+'"]';an==="image"&&un&&un.imageSrcSet?(Jn+='[imagesrcset="'+cc(un.imageSrcSet)+'"]',typeof un.imageSizes=="string"&&(Jn+='[imagesizes="'+cc(un.imageSizes)+'"]')):Jn+='[href="'+cc(Qe)+'"]';var xs=Jn;switch(an){case"style":xs=_f(Qe);break;case"script":xs=Cf(Qe)}vc.has(xs)||(Qe=Qn({rel:"preload",href:an==="image"&&un&&un.imageSrcSet?void 0:Qe,as:an},un),vc.set(xs,Qe),Wn.querySelector(Jn)!==null||an==="style"&&Wn.querySelector(fd(xs))||an==="script"&&Wn.querySelector(dd(xs))||(an=Wn.createElement("link"),Bh(an,"link",Qe),Fl(an),Wn.head.appendChild(an)))}}function ib(Qe,an){Yc.m(Qe,an);var un=Sf;if(un&&Qe){var Wn=an&&typeof an.as=="string"?an.as:"script",Jn='link[rel="modulepreload"][as="'+cc(Wn)+'"][href="'+cc(Qe)+'"]',xs=Jn;switch(Wn){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":xs=Cf(Qe)}if(!vc.has(xs)&&(Qe=Qn({rel:"modulepreload",href:Qe},an),vc.set(xs,Qe),un.querySelector(Jn)===null)){switch(Wn){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(un.querySelector(dd(xs)))return}Wn=un.createElement("link"),Bh(Wn,"link",Qe),Fl(Wn),un.head.appendChild(Wn)}}}function nb(Qe,an,un){Yc.S(Qe,an,un);var Wn=Sf;if(Wn&&Qe){var Jn=$l(Wn).hoistableStyles,xs=_f(Qe);an=an||"default";var fa=Jn.get(xs);if(!fa){var ma={loading:0,preload:null};if(fa=Wn.querySelector(fd(xs)))ma.loading=5;else{Qe=Qn({rel:"stylesheet",href:Qe,"data-precedence":an},un),(un=vc.get(xs))&&kg(Qe,un);var ba=fa=Wn.createElement("link");Fl(ba),Bh(ba,"link",Qe),ba._p=new Promise(function(ka,el){ba.onload=ka,ba.onerror=el}),ba.addEventListener("load",function(){ma.loading|=1}),ba.addEventListener("error",function(){ma.loading|=2}),ma.loading|=4,Cp(fa,an,Wn)}fa={type:"stylesheet",instance:fa,count:1,state:ma},Jn.set(xs,fa)}}}function sb(Qe,an){Yc.X(Qe,an);var un=Sf;if(un&&Qe){var Wn=$l(un).hoistableScripts,Jn=Cf(Qe),xs=Wn.get(Jn);xs||(xs=un.querySelector(dd(Jn)),xs||(Qe=Qn({src:Qe,async:!0},an),(an=vc.get(Jn))&&Pg(Qe,an),xs=un.createElement("script"),Fl(xs),Bh(xs,"link",Qe),un.head.appendChild(xs)),xs={type:"script",instance:xs,count:1,state:null},Wn.set(Jn,xs))}}function ab(Qe,an){Yc.M(Qe,an);var un=Sf;if(un&&Qe){var Wn=$l(un).hoistableScripts,Jn=Cf(Qe),xs=Wn.get(Jn);xs||(xs=un.querySelector(dd(Jn)),xs||(Qe=Qn({src:Qe,async:!0,type:"module"},an),(an=vc.get(Jn))&&Pg(Qe,an),xs=un.createElement("script"),Fl(xs),Bh(xs,"link",Qe),un.head.appendChild(xs)),xs={type:"script",instance:xs,count:1,state:null},Wn.set(Jn,xs))}}function $y(Qe,an,un,Wn){var Jn=(Jn=al.current)?_p(Jn):null;if(!Jn)throw Error(Ke(446));switch(Qe){case"meta":case"title":return null;case"style":return typeof un.precedence=="string"&&typeof un.href=="string"?(an=_f(un.href),un=$l(Jn).hoistableStyles,Wn=un.get(an),Wn||(Wn={type:"style",instance:null,count:0,state:null},un.set(an,Wn)),Wn):{type:"void",instance:null,count:0,state:null};case"link":if(un.rel==="stylesheet"&&typeof un.href=="string"&&typeof un.precedence=="string"){Qe=_f(un.href);var xs=$l(Jn).hoistableStyles,fa=xs.get(Qe);if(fa||(Jn=Jn.ownerDocument||Jn,fa={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},xs.set(Qe,fa),(xs=Jn.querySelector(fd(Qe)))&&!xs._p&&(fa.instance=xs,fa.state.loading=5),vc.has(Qe)||(un={rel:"preload",as:"style",href:un.href,crossOrigin:un.crossOrigin,integrity:un.integrity,media:un.media,hrefLang:un.hrefLang,referrerPolicy:un.referrerPolicy},vc.set(Qe,un),xs||lb(Jn,Qe,un,fa.state))),an&&Wn===null)throw Error(Ke(528,""));return fa}if(an&&Wn!==null)throw Error(Ke(529,""));return null;case"script":return an=un.async,un=un.src,typeof un=="string"&&an&&typeof an!="function"&&typeof an!="symbol"?(an=Cf(un),un=$l(Jn).hoistableScripts,Wn=un.get(an),Wn||(Wn={type:"script",instance:null,count:0,state:null},un.set(an,Wn)),Wn):{type:"void",instance:null,count:0,state:null};default:throw Error(Ke(444,Qe))}}function _f(Qe){return'href="'+cc(Qe)+'"'}function fd(Qe){return'link[rel="stylesheet"]['+Qe+"]"}function t1(Qe){return Qn({},Qe,{"data-precedence":Qe.precedence,precedence:null})}function lb(Qe,an,un,Wn){Qe.querySelector('link[rel="preload"][as="style"]['+an+"]")?Wn.loading=1:(an=Qe.createElement("link"),Wn.preload=an,an.addEventListener("load",function(){return Wn.loading|=1}),an.addEventListener("error",function(){return Wn.loading|=2}),Bh(an,"link",un),Fl(an),Qe.head.appendChild(an))}function Cf(Qe){return'[src="'+cc(Qe)+'"]'}function dd(Qe){return"script[async]"+Qe}function e1(Qe,an,un){if(an.count++,an.instance===null)switch(an.type){case"style":var Wn=Qe.querySelector('style[data-href~="'+cc(un.href)+'"]');if(Wn)return an.instance=Wn,Fl(Wn),Wn;var Jn=Qn({},un,{"data-href":un.href,"data-precedence":un.precedence,href:null,precedence:null});return Wn=(Qe.ownerDocument||Qe).createElement("style"),Fl(Wn),Bh(Wn,"style",Jn),Cp(Wn,un.precedence,Qe),an.instance=Wn;case"stylesheet":Jn=_f(un.href);var xs=Qe.querySelector(fd(Jn));if(xs)return an.state.loading|=4,an.instance=xs,Fl(xs),xs;Wn=t1(un),(Jn=vc.get(Jn))&&kg(Wn,Jn),xs=(Qe.ownerDocument||Qe).createElement("link"),Fl(xs);var fa=xs;return fa._p=new Promise(function(ma,ba){fa.onload=ma,fa.onerror=ba}),Bh(xs,"link",Wn),an.state.loading|=4,Cp(xs,un.precedence,Qe),an.instance=xs;case"script":return xs=Cf(un.src),(Jn=Qe.querySelector(dd(xs)))?(an.instance=Jn,Fl(Jn),Jn):(Wn=un,(Jn=vc.get(xs))&&(Wn=Qn({},un),Pg(Wn,Jn)),Qe=Qe.ownerDocument||Qe,Jn=Qe.createElement("script"),Fl(Jn),Bh(Jn,"link",Wn),Qe.head.appendChild(Jn),an.instance=Jn);case"void":return null;default:throw Error(Ke(443,an.type))}else an.type==="stylesheet"&&(an.state.loading&4)===0&&(Wn=an.instance,an.state.loading|=4,Cp(Wn,un.precedence,Qe));return an.instance}function Cp(Qe,an,un){for(var Wn=un.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),Jn=Wn.length?Wn[Wn.length-1]:null,xs=Jn,fa=0;fa<Wn.length;fa++){var ma=Wn[fa];if(ma.dataset.precedence===an)xs=ma;else if(xs!==Jn)break}xs?xs.parentNode.insertBefore(Qe,xs.nextSibling):(an=un.nodeType===9?un.head:un,an.insertBefore(Qe,an.firstChild))}function kg(Qe,an){Qe.crossOrigin==null&&(Qe.crossOrigin=an.crossOrigin),Qe.referrerPolicy==null&&(Qe.referrerPolicy=an.referrerPolicy),Qe.title==null&&(Qe.title=an.title)}function Pg(Qe,an){Qe.crossOrigin==null&&(Qe.crossOrigin=an.crossOrigin),Qe.referrerPolicy==null&&(Qe.referrerPolicy=an.referrerPolicy),Qe.integrity==null&&(Qe.integrity=an.integrity)}var Ep=null;function r1(Qe,an,un){if(Ep===null){var Wn=new Map,Jn=Ep=new Map;Jn.set(un,Wn)}else Jn=Ep,Wn=Jn.get(un),Wn||(Wn=new Map,Jn.set(un,Wn));if(Wn.has(Qe))return Wn;for(Wn.set(Qe,null),un=un.getElementsByTagName(Qe),Jn=0;Jn<un.length;Jn++){var xs=un[Jn];if(!(xs[bl]||xs[sl]||Qe==="link"&&xs.getAttribute("rel")==="stylesheet")&&xs.namespaceURI!=="http://www.w3.org/2000/svg"){var fa=xs.getAttribute(an)||"";fa=Qe+fa;var ma=Wn.get(fa);ma?ma.push(xs):Wn.set(fa,[xs])}}return Wn}function i1(Qe,an,un){Qe=Qe.ownerDocument||Qe,Qe.head.insertBefore(un,an==="title"?Qe.querySelector("head > title"):null)}function hb(Qe,an,un){if(un===1||an.itemProp!=null)return!1;switch(Qe){case"meta":case"title":return!0;case"style":if(typeof an.precedence!="string"||typeof an.href!="string"||an.href==="")break;return!0;case"link":if(typeof an.rel!="string"||typeof an.href!="string"||an.href===""||an.onLoad||an.onError)break;switch(an.rel){case"stylesheet":return Qe=an.disabled,typeof an.precedence=="string"&&Qe==null;default:return!0}case"script":if(an.async&&typeof an.async!="function"&&typeof an.async!="symbol"&&!an.onLoad&&!an.onError&&an.src&&typeof an.src=="string")return!0}return!1}function n1(Qe){return!(Qe.type==="stylesheet"&&(Qe.state.loading&3)===0)}var pd=null;function cb(){}function ub(Qe,an,un){if(pd===null)throw Error(Ke(475));var Wn=pd;if(an.type==="stylesheet"&&(typeof un.media!="string"||matchMedia(un.media).matches!==!1)&&(an.state.loading&4)===0){if(an.instance===null){var Jn=_f(un.href),xs=Qe.querySelector(fd(Jn));if(xs){Qe=xs._p,Qe!==null&&typeof Qe=="object"&&typeof Qe.then=="function"&&(Wn.count++,Wn=Tp.bind(Wn),Qe.then(Wn,Wn)),an.state.loading|=4,an.instance=xs,Fl(xs);return}xs=Qe.ownerDocument||Qe,un=t1(un),(Jn=vc.get(Jn))&&kg(un,Jn),xs=xs.createElement("link"),Fl(xs);var fa=xs;fa._p=new Promise(function(ma,ba){fa.onload=ma,fa.onerror=ba}),Bh(xs,"link",un),an.instance=xs}Wn.stylesheets===null&&(Wn.stylesheets=new Map),Wn.stylesheets.set(an,Qe),(Qe=an.state.preload)&&(an.state.loading&3)===0&&(Wn.count++,an=Tp.bind(Wn),Qe.addEventListener("load",an),Qe.addEventListener("error",an))}}function fb(){if(pd===null)throw Error(Ke(475));var Qe=pd;return Qe.stylesheets&&Qe.count===0&&Rg(Qe,Qe.stylesheets),0<Qe.count?function(an){var un=setTimeout(function(){if(Qe.stylesheets&&Rg(Qe,Qe.stylesheets),Qe.unsuspend){var Wn=Qe.unsuspend;Qe.unsuspend=null,Wn()}},6e4);return Qe.unsuspend=an,function(){Qe.unsuspend=null,clearTimeout(un)}}:null}function Tp(){if(this.count--,this.count===0){if(this.stylesheets)Rg(this,this.stylesheets);else if(this.unsuspend){var Qe=this.unsuspend;this.unsuspend=null,Qe()}}}var wp=null;function Rg(Qe,an){Qe.stylesheets=null,Qe.unsuspend!==null&&(Qe.count++,wp=new Map,an.forEach(db,Qe),wp=null,Tp.call(Qe))}function db(Qe,an){if(!(an.state.loading&4)){var un=wp.get(Qe);if(un)var Wn=un.get(null);else{un=new Map,wp.set(Qe,un);for(var Jn=Qe.querySelectorAll("link[data-precedence],style[data-precedence]"),xs=0;xs<Jn.length;xs++){var fa=Jn[xs];(fa.nodeName==="LINK"||fa.getAttribute("media")!=="not all")&&(un.set(fa.dataset.precedence,fa),Wn=fa)}Wn&&un.set(null,Wn)}Jn=an.instance,fa=Jn.getAttribute("data-precedence"),xs=un.get(fa)||Wn,xs===Wn&&un.set(null,Jn),un.set(fa,Jn),this.count++,Wn=Tp.bind(this),Jn.addEventListener("load",Wn),Jn.addEventListener("error",Wn),xs?xs.parentNode.insertBefore(Jn,xs.nextSibling):(Qe=Qe.nodeType===9?Qe.head:Qe,Qe.insertBefore(Jn,Qe.firstChild)),an.state.loading|=4}}var md={$$typeof:na,Provider:null,Consumer:null,_currentValue:ca,_currentValue2:ca,_threadCount:0};function pb(Qe,an,un,Wn,Jn,xs,fa,ma){this.tag=1,this.containerInfo=Qe,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hu(0),this.hiddenUpdates=Hu(null),this.identifierPrefix=Wn,this.onUncaughtError=Jn,this.onCaughtError=xs,this.onRecoverableError=fa,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ma,this.incompleteTransitions=new Map}function s1(Qe,an,un,Wn,Jn,xs,fa,ma,ba,ka,el,nl){return Qe=new pb(Qe,an,un,fa,ma,ba,ka,nl),an=1,xs===!0&&(an|=24),xs=rc(3,null,null,an),Qe.current=xs,xs.stateNode=Qe,an=dm(),an.refCount++,Qe.pooledCache=an,an.refCount++,xs.memoizedState={element:Wn,isDehydrated:un,cache:an},vm(xs),Qe}function a1(Qe){return Qe?(Qe=$u,Qe):$u}function o1(Qe,an,un,Wn,Jn,xs){Jn=a1(Jn),Wn.context===null?Wn.context=Jn:Wn.pendingContext=Jn,Wn=tu(an),Wn.payload={element:un},xs=xs===void 0?null:xs,xs!==null&&(Wn.callback=xs),un=eu(Qe,Wn,an),un!==null&&(oc(un,Qe,an),Yf(un,Qe,an))}function l1(Qe,an){if(Qe=Qe.memoizedState,Qe!==null&&Qe.dehydrated!==null){var un=Qe.retryLane;Qe.retryLane=un!==0&&un<an?un:an}}function Og(Qe,an){l1(Qe,an),(Qe=Qe.alternate)&&l1(Qe,an)}function h1(Qe){if(Qe.tag===13){var an=Ju(Qe,67108864);an!==null&&oc(an,Qe,67108864),Og(Qe,67108864)}}var Mp=!0;function mb(Qe,an,un,Wn){var Jn=ua.T;ua.T=null;var xs=ya.p;try{ya.p=2,Lg(Qe,an,un,Wn)}finally{ya.p=xs,ua.T=Jn}}function gb(Qe,an,un,Wn){var Jn=ua.T;ua.T=null;var xs=ya.p;try{ya.p=8,Lg(Qe,an,un,Wn)}finally{ya.p=xs,ua.T=Jn}}function Lg(Qe,an,un,Wn){if(Mp){var Jn=Fg(Wn);if(Jn===null)Sg(Qe,an,Wn,Ap,un),u1(Qe,Wn);else if(yb(Jn,Qe,an,un,Wn))Wn.stopPropagation();else if(u1(Qe,Wn),an&4&&-1<vb.indexOf(Qe)){for(;Jn!==null;){var xs=Ll(Jn);if(xs!==null)switch(xs.tag){case 3:if(xs=xs.stateNode,xs.current.memoizedState.isDehydrated){var fa=kc(xs.pendingLanes);if(fa!==0){var ma=xs;for(ma.pendingLanes|=2,ma.entangledLanes|=2;fa;){var ba=1<<31-xh(fa);ma.entanglements[1]|=ba,fa&=~ba}Dc(xs),(Il&6)===0&&(up=Kl()+500,ld(0))}}break;case 13:ma=Ju(xs,2),ma!==null&&oc(ma,xs,2),dp(),Og(xs,2)}if(xs=Fg(Wn),xs===null&&Sg(Qe,an,Wn,Ap,un),xs===Jn)break;Jn=xs}Jn!==null&&Wn.stopPropagation()}else Sg(Qe,an,Wn,null,un)}}function Fg(Qe){return Qe=Vp(Qe),Bg(Qe)}var Ap=null;function Bg(Qe){if(Ap=null,Qe=_l(Qe),Qe!==null){var an=ln(Qe);if(an===null)Qe=null;else{var un=an.tag;if(un===13){if(Qe=dn(an),Qe!==null)return Qe;Qe=null}else if(un===3){if(an.stateNode.current.memoizedState.isDehydrated)return an.tag===3?an.stateNode.containerInfo:null;Qe=null}else an!==Qe&&(Qe=null)}}return Ap=Qe,null}function c1(Qe){switch(Qe){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yh()){case Xh:return 2;case qh:return 8;case _h:case Dh:return 32;case Oh:return 268435456;default:return 32}default:return 32}}var jg=!1,pu=null,mu=null,gu=null,gd=new Map,vd=new Map,vu=[],vb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u1(Qe,an){switch(Qe){case"focusin":case"focusout":pu=null;break;case"dragenter":case"dragleave":mu=null;break;case"mouseover":case"mouseout":gu=null;break;case"pointerover":case"pointerout":gd.delete(an.pointerId);break;case"gotpointercapture":case"lostpointercapture":vd.delete(an.pointerId)}}function yd(Qe,an,un,Wn,Jn,xs){return Qe===null||Qe.nativeEvent!==xs?(Qe={blockedOn:an,domEventName:un,eventSystemFlags:Wn,nativeEvent:xs,targetContainers:[Jn]},an!==null&&(an=Ll(an),an!==null&&h1(an)),Qe):(Qe.eventSystemFlags|=Wn,an=Qe.targetContainers,Jn!==null&&an.indexOf(Jn)===-1&&an.push(Jn),Qe)}function yb(Qe,an,un,Wn,Jn){switch(an){case"focusin":return pu=yd(pu,Qe,an,un,Wn,Jn),!0;case"dragenter":return mu=yd(mu,Qe,an,un,Wn,Jn),!0;case"mouseover":return gu=yd(gu,Qe,an,un,Wn,Jn),!0;case"pointerover":var xs=Jn.pointerId;return gd.set(xs,yd(gd.get(xs)||null,Qe,an,un,Wn,Jn)),!0;case"gotpointercapture":return xs=Jn.pointerId,vd.set(xs,yd(vd.get(xs)||null,Qe,an,un,Wn,Jn)),!0}return!1}function f1(Qe){var an=_l(Qe.target);if(an!==null){var un=ln(an);if(un!==null){if(an=un.tag,an===13){if(an=dn(un),an!==null){Qe.blockedOn=an,wa(Qe.priority,function(){if(un.tag===13){var Wn=ac();Wn=Ef(Wn);var Jn=Ju(un,Wn);Jn!==null&&oc(Jn,un,Wn),Og(un,Wn)}});return}}else if(an===3&&un.stateNode.current.memoizedState.isDehydrated){Qe.blockedOn=un.tag===3?un.stateNode.containerInfo:null;return}}}Qe.blockedOn=null}function Dp(Qe){if(Qe.blockedOn!==null)return!1;for(var an=Qe.targetContainers;0<an.length;){var un=Fg(Qe.nativeEvent);if(un===null){un=Qe.nativeEvent;var Wn=new un.constructor(un.type,un);zp=Wn,un.target.dispatchEvent(Wn),zp=null}else return an=Ll(un),an!==null&&h1(an),Qe.blockedOn=un,!1;an.shift()}return!0}function d1(Qe,an,un){Dp(Qe)&&un.delete(an)}function xb(){jg=!1,pu!==null&&Dp(pu)&&(pu=null),mu!==null&&Dp(mu)&&(mu=null),gu!==null&&Dp(gu)&&(gu=null),gd.forEach(d1),vd.forEach(d1)}function kp(Qe,an){Qe.blockedOn===an&&(Qe.blockedOn=null,jg||(jg=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,xb)))}var Pp=null;function p1(Qe){Pp!==Qe&&(Pp=Qe,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,function(){Pp===Qe&&(Pp=null);for(var an=0;an<Qe.length;an+=3){var un=Qe[an],Wn=Qe[an+1],Jn=Qe[an+2];if(typeof Wn!="function"){if(Bg(Wn||un)===null)continue;break}var xs=Ll(un);xs!==null&&(Qe.splice(an,3),an-=3,Bm(xs,{pending:!0,data:Jn,method:un.method,action:Wn},Wn,Jn))}}))}function xd(Qe){function an(ba){return kp(ba,Qe)}pu!==null&&kp(pu,Qe),mu!==null&&kp(mu,Qe),gu!==null&&kp(gu,Qe),gd.forEach(an),vd.forEach(an);for(var un=0;un<vu.length;un++){var Wn=vu[un];Wn.blockedOn===Qe&&(Wn.blockedOn=null)}for(;0<vu.length&&(un=vu[0],un.blockedOn===null);)f1(un),un.blockedOn===null&&vu.shift();if(un=(Qe.ownerDocument||Qe).$$reactFormReplay,un!=null)for(Wn=0;Wn<un.length;Wn+=3){var Jn=un[Wn],xs=un[Wn+1],fa=Jn[ol]||null;if(typeof xs=="function")fa||p1(un);else if(fa){var ma=null;if(xs&&xs.hasAttribute("formAction")){if(Jn=xs,fa=xs[ol]||null)ma=fa.formAction;else if(Bg(Jn)!==null)continue}else ma=fa.action;typeof ma=="function"?un[Wn+1]=ma:(un.splice(Wn,3),Wn-=3),p1(un)}}}function zg(Qe){this._internalRoot=Qe}Rp.prototype.render=zg.prototype.render=function(Qe){var an=this._internalRoot;if(an===null)throw Error(Ke(409));var un=an.current,Wn=ac();o1(un,Wn,Qe,an,null,null)},Rp.prototype.unmount=zg.prototype.unmount=function(){var Qe=this._internalRoot;if(Qe!==null){this._internalRoot=null;var an=Qe.containerInfo;o1(Qe.current,2,null,Qe,null,null),dp(),an[fl]=null}};function Rp(Qe){this._internalRoot=Qe}Rp.prototype.unstable_scheduleHydration=function(Qe){if(Qe){var an=_a();Qe={blockedOn:null,target:Qe,priority:an};for(var un=0;un<vu.length&&an!==0&&an<vu[un].priority;un++);vu.splice(un,0,Qe),un===0&&f1(Qe)}};var m1=f.version;if(m1!=="19.1.0")throw Error(Ke(527,m1,"19.1.0"));ya.findDOMNode=function(Qe){var an=Qe._reactInternals;if(an===void 0)throw typeof Qe.render=="function"?Error(Ke(188)):(Qe=Object.keys(Qe).join(","),Error(Ke(268,Qe)));return Qe=Hn(an),Qe=Qe!==null?Kn(Qe):null,Qe=Qe===null?null:Qe.stateNode,Qe};var bb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ua,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Op=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Op.isDisabled&&Op.supportsFiber)try{ql=Op.inject(bb),zl=Op}catch{}}return reactDomClient_production.createRoot=function(Qe,an){if(!Ai(Qe))throw Error(Ke(299));var un=!1,Wn="",Jn=Pv,xs=Rv,fa=Ov,ma=null;return an!=null&&(an.unstable_strictMode===!0&&(un=!0),an.identifierPrefix!==void 0&&(Wn=an.identifierPrefix),an.onUncaughtError!==void 0&&(Jn=an.onUncaughtError),an.onCaughtError!==void 0&&(xs=an.onCaughtError),an.onRecoverableError!==void 0&&(fa=an.onRecoverableError),an.unstable_transitionCallbacks!==void 0&&(ma=an.unstable_transitionCallbacks)),an=s1(Qe,1,!1,null,null,un,Wn,Jn,xs,fa,ma,null),Qe[fl]=an.current,bg(Qe),new zg(an)},reactDomClient_production.hydrateRoot=function(Qe,an,un){if(!Ai(Qe))throw Error(Ke(299));var Wn=!1,Jn="",xs=Pv,fa=Rv,ma=Ov,ba=null,ka=null;return un!=null&&(un.unstable_strictMode===!0&&(Wn=!0),un.identifierPrefix!==void 0&&(Jn=un.identifierPrefix),un.onUncaughtError!==void 0&&(xs=un.onUncaughtError),un.onCaughtError!==void 0&&(fa=un.onCaughtError),un.onRecoverableError!==void 0&&(ma=un.onRecoverableError),un.unstable_transitionCallbacks!==void 0&&(ba=un.unstable_transitionCallbacks),un.formState!==void 0&&(ka=un.formState)),an=s1(Qe,1,!0,an,un??null,Wn,Jn,xs,fa,ma,ba,ka),an.context=a1(null),un=an.current,Wn=ac(),Wn=Ef(Wn),Jn=tu(Wn),Jn.callback=null,eu(un,Jn,Wn),un=Wn,an.current.lanes=un,_u(an,un),Dc(an),Qe[fl]=an.current,bg(Qe),new Rp(an)},reactDomClient_production.version="19.1.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function qe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qe)}catch(f){console.error(f)}}return qe(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient(),dist={},hasRequiredDist;function requireDist(){if(hasRequiredDist)return dist;hasRequiredDist=1,Object.defineProperty(dist,"__esModule",{value:!0}),dist.parse=dn,dist.serialize=Kn;const qe=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,f=/^[\u0021-\u003A\u003C-\u007E]*$/,ze=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,Ke=/^[\u0020-\u003A\u003D-\u007E]*$/,Ai=Object.prototype.toString,ln=(()=>{const vs=function(){};return vs.prototype=Object.create(null),vs})();function dn(vs,Cs){const bs=new ln,ia=vs.length;if(ia<2)return bs;const la=(Cs==null?void 0:Cs.decode)||Qn;let ra=0;do{const sa=vs.indexOf("=",ra);if(sa===-1)break;const na=vs.indexOf(";",ra),aa=na===-1?ia:na;if(sa>aa){ra=vs.lastIndexOf(";",sa-1)+1;continue}const oa=gn(vs,ra,sa),ha=Hn(vs,sa,oa),ga=vs.slice(oa,ha);if(bs[ga]===void 0){let va=gn(vs,sa+1,aa),Sa=Hn(vs,aa,va);const tl=la(vs.slice(va,Sa));bs[ga]=tl}ra=aa+1}while(ra<ia);return bs}function gn(vs,Cs,bs){do{const ia=vs.charCodeAt(Cs);if(ia!==32&&ia!==9)return Cs}while(++Cs<bs);return bs}function Hn(vs,Cs,bs){for(;Cs>bs;){const ia=vs.charCodeAt(--Cs);if(ia!==32&&ia!==9)return Cs+1}return bs}function Kn(vs,Cs,bs){const ia=(bs==null?void 0:bs.encode)||encodeURIComponent;if(!qe.test(vs))throw new TypeError(`argument name is invalid: ${vs}`);const la=ia(Cs);if(!f.test(la))throw new TypeError(`argument val is invalid: ${Cs}`);let ra=vs+"="+la;if(!bs)return ra;if(bs.maxAge!==void 0){if(!Number.isInteger(bs.maxAge))throw new TypeError(`option maxAge is invalid: ${bs.maxAge}`);ra+="; Max-Age="+bs.maxAge}if(bs.domain){if(!ze.test(bs.domain))throw new TypeError(`option domain is invalid: ${bs.domain}`);ra+="; Domain="+bs.domain}if(bs.path){if(!Ke.test(bs.path))throw new TypeError(`option path is invalid: ${bs.path}`);ra+="; Path="+bs.path}if(bs.expires){if(!ys(bs.expires)||!Number.isFinite(bs.expires.valueOf()))throw new TypeError(`option expires is invalid: ${bs.expires}`);ra+="; Expires="+bs.expires.toUTCString()}if(bs.httpOnly&&(ra+="; HttpOnly"),bs.secure&&(ra+="; Secure"),bs.partitioned&&(ra+="; Partitioned"),bs.priority)switch(typeof bs.priority=="string"?bs.priority.toLowerCase():void 0){case"low":ra+="; Priority=Low";break;case"medium":ra+="; Priority=Medium";break;case"high":ra+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${bs.priority}`)}if(bs.sameSite)switch(typeof bs.sameSite=="string"?bs.sameSite.toLowerCase():bs.sameSite){case!0:case"strict":ra+="; SameSite=Strict";break;case"lax":ra+="; SameSite=Lax";break;case"none":ra+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${bs.sameSite}`)}return ra}function Qn(vs){if(vs.indexOf("%")===-1)return vs;try{return decodeURIComponent(vs)}catch{return vs}}function ys(vs){return Ai.call(vs)==="[object Date]"}return dist}requireDist();/**
 * react-router v7.6.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var __typeError=qe=>{throw TypeError(qe)},__accessCheck=(qe,f,ze)=>f.has(qe)||__typeError("Cannot "+ze),__privateGet=(qe,f,ze)=>(__accessCheck(qe,f,"read from private field"),ze?ze.call(qe):f.get(qe)),__privateAdd=(qe,f,ze)=>f.has(qe)?__typeError("Cannot add the same private member more than once"):f instanceof WeakSet?f.add(qe):f.set(qe,ze),PopStateEventType="popstate";function createBrowserHistory(qe={}){function f(Ke,Ai){let{pathname:ln,search:dn,hash:gn}=Ke.location;return createLocation("",{pathname:ln,search:dn,hash:gn},Ai.state&&Ai.state.usr||null,Ai.state&&Ai.state.key||"default")}function ze(Ke,Ai){return typeof Ai=="string"?Ai:createPath(Ai)}return getUrlBasedHistory(f,ze,null,qe)}function invariant(qe,f){if(qe===!1||qe===null||typeof qe>"u")throw new Error(f)}function warning(qe,f){if(!qe){typeof console<"u"&&console.warn(f);try{throw new Error(f)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(qe,f){return{usr:qe.state,key:qe.key,idx:f}}function createLocation(qe,f,ze=null,Ke){return{pathname:typeof qe=="string"?qe:qe.pathname,search:"",hash:"",...typeof f=="string"?parsePath(f):f,state:ze,key:f&&f.key||Ke||createKey()}}function createPath({pathname:qe="/",search:f="",hash:ze=""}){return f&&f!=="?"&&(qe+=f.charAt(0)==="?"?f:"?"+f),ze&&ze!=="#"&&(qe+=ze.charAt(0)==="#"?ze:"#"+ze),qe}function parsePath(qe){let f={};if(qe){let ze=qe.indexOf("#");ze>=0&&(f.hash=qe.substring(ze),qe=qe.substring(0,ze));let Ke=qe.indexOf("?");Ke>=0&&(f.search=qe.substring(Ke),qe=qe.substring(0,Ke)),qe&&(f.pathname=qe)}return f}function getUrlBasedHistory(qe,f,ze,Ke={}){let{window:Ai=document.defaultView,v5Compat:ln=!1}=Ke,dn=Ai.history,gn="POP",Hn=null,Kn=Qn();Kn==null&&(Kn=0,dn.replaceState({...dn.state,idx:Kn},""));function Qn(){return(dn.state||{idx:null}).idx}function ys(){gn="POP";let la=Qn(),ra=la==null?null:la-Kn;Kn=la,Hn&&Hn({action:gn,location:ia.location,delta:ra})}function vs(la,ra){gn="PUSH";let sa=createLocation(ia.location,la,ra);Kn=Qn()+1;let na=getHistoryState(sa,Kn),aa=ia.createHref(sa);try{dn.pushState(na,"",aa)}catch(oa){if(oa instanceof DOMException&&oa.name==="DataCloneError")throw oa;Ai.location.assign(aa)}ln&&Hn&&Hn({action:gn,location:ia.location,delta:1})}function Cs(la,ra){gn="REPLACE";let sa=createLocation(ia.location,la,ra);Kn=Qn();let na=getHistoryState(sa,Kn),aa=ia.createHref(sa);dn.replaceState(na,"",aa),ln&&Hn&&Hn({action:gn,location:ia.location,delta:0})}function bs(la){return createBrowserURLImpl(la)}let ia={get action(){return gn},get location(){return qe(Ai,dn)},listen(la){if(Hn)throw new Error("A history only accepts one active listener");return Ai.addEventListener(PopStateEventType,ys),Hn=la,()=>{Ai.removeEventListener(PopStateEventType,ys),Hn=null}},createHref(la){return f(Ai,la)},createURL:bs,encodeLocation(la){let ra=bs(la);return{pathname:ra.pathname,search:ra.search,hash:ra.hash}},push:vs,replace:Cs,go(la){return dn.go(la)}};return ia}function createBrowserURLImpl(qe,f=!1){let ze="http://localhost";typeof window<"u"&&(ze=window.location.origin!=="null"?window.location.origin:window.location.href),invariant(ze,"No window.location.(origin|href) available to create URL");let Ke=typeof qe=="string"?qe:createPath(qe);return Ke=Ke.replace(/ $/,"%20"),!f&&Ke.startsWith("//")&&(Ke=ze+Ke),new URL(Ke,ze)}var _map,unstable_RouterContextProvider=class{constructor(qe){if(__privateAdd(this,_map,new Map),qe)for(let[f,ze]of qe)this.set(f,ze)}get(qe){if(__privateGet(this,_map).has(qe))return __privateGet(this,_map).get(qe);if(qe.defaultValue!==void 0)return qe.defaultValue;throw new Error("No value found for context")}set(qe,f){__privateGet(this,_map).set(qe,f)}};_map=new WeakMap;var unsupportedLazyRouteObjectKeys=new Set(["lazy","caseSensitive","path","id","index","children"]);function isUnsupportedLazyRouteObjectKey(qe){return unsupportedLazyRouteObjectKeys.has(qe)}var unsupportedLazyRouteFunctionKeys=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function isUnsupportedLazyRouteFunctionKey(qe){return unsupportedLazyRouteFunctionKeys.has(qe)}function isIndexRoute(qe){return qe.index===!0}function convertRoutesToDataRoutes(qe,f,ze=[],Ke={}){return qe.map((Ai,ln)=>{let dn=[...ze,String(ln)],gn=typeof Ai.id=="string"?Ai.id:dn.join("-");if(invariant(Ai.index!==!0||!Ai.children,"Cannot specify children on an index route"),invariant(!Ke[gn],`Found a route id collision on id "${gn}".  Route id's must be globally unique within Data Router usages`),isIndexRoute(Ai)){let Hn={...Ai,...f(Ai),id:gn};return Ke[gn]=Hn,Hn}else{let Hn={...Ai,...f(Ai),id:gn,children:void 0};return Ke[gn]=Hn,Ai.children&&(Hn.children=convertRoutesToDataRoutes(Ai.children,f,dn,Ke)),Hn}})}function matchRoutes(qe,f,ze="/"){return matchRoutesImpl(qe,f,ze,!1)}function matchRoutesImpl(qe,f,ze,Ke){let Ai=typeof f=="string"?parsePath(f):f,ln=stripBasename(Ai.pathname||"/",ze);if(ln==null)return null;let dn=flattenRoutes(qe);rankRouteBranches(dn);let gn=null;for(let Hn=0;gn==null&&Hn<dn.length;++Hn){let Kn=decodePath(ln);gn=matchRouteBranch(dn[Hn],Kn,Ke)}return gn}function convertRouteMatchToUiMatch(qe,f){let{route:ze,pathname:Ke,params:Ai}=qe;return{id:ze.id,pathname:Ke,params:Ai,data:f[ze.id],handle:ze.handle}}function flattenRoutes(qe,f=[],ze=[],Ke=""){let Ai=(ln,dn,gn)=>{let Hn={relativePath:gn===void 0?ln.path||"":gn,caseSensitive:ln.caseSensitive===!0,childrenIndex:dn,route:ln};Hn.relativePath.startsWith("/")&&(invariant(Hn.relativePath.startsWith(Ke),`Absolute route path "${Hn.relativePath}" nested under path "${Ke}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),Hn.relativePath=Hn.relativePath.slice(Ke.length));let Kn=joinPaths([Ke,Hn.relativePath]),Qn=ze.concat(Hn);ln.children&&ln.children.length>0&&(invariant(ln.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${Kn}".`),flattenRoutes(ln.children,f,Qn,Kn)),!(ln.path==null&&!ln.index)&&f.push({path:Kn,score:computeScore(Kn,ln.index),routesMeta:Qn})};return qe.forEach((ln,dn)=>{var gn;if(ln.path===""||!((gn=ln.path)!=null&&gn.includes("?")))Ai(ln,dn);else for(let Hn of explodeOptionalSegments(ln.path))Ai(ln,dn,Hn)}),f}function explodeOptionalSegments(qe){let f=qe.split("/");if(f.length===0)return[];let[ze,...Ke]=f,Ai=ze.endsWith("?"),ln=ze.replace(/\?$/,"");if(Ke.length===0)return Ai?[ln,""]:[ln];let dn=explodeOptionalSegments(Ke.join("/")),gn=[];return gn.push(...dn.map(Hn=>Hn===""?ln:[ln,Hn].join("/"))),Ai&&gn.push(...dn),gn.map(Hn=>qe.startsWith("/")&&Hn===""?"/":Hn)}function rankRouteBranches(qe){qe.sort((f,ze)=>f.score!==ze.score?ze.score-f.score:compareIndexes(f.routesMeta.map(Ke=>Ke.childrenIndex),ze.routesMeta.map(Ke=>Ke.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=qe=>qe==="*";function computeScore(qe,f){let ze=qe.split("/"),Ke=ze.length;return ze.some(isSplat)&&(Ke+=splatPenalty),f&&(Ke+=indexRouteValue),ze.filter(Ai=>!isSplat(Ai)).reduce((Ai,ln)=>Ai+(paramRe.test(ln)?dynamicSegmentValue:ln===""?emptySegmentValue:staticSegmentValue),Ke)}function compareIndexes(qe,f){return qe.length===f.length&&qe.slice(0,-1).every((Ke,Ai)=>Ke===f[Ai])?qe[qe.length-1]-f[f.length-1]:0}function matchRouteBranch(qe,f,ze=!1){let{routesMeta:Ke}=qe,Ai={},ln="/",dn=[];for(let gn=0;gn<Ke.length;++gn){let Hn=Ke[gn],Kn=gn===Ke.length-1,Qn=ln==="/"?f:f.slice(ln.length)||"/",ys=matchPath({path:Hn.relativePath,caseSensitive:Hn.caseSensitive,end:Kn},Qn),vs=Hn.route;if(!ys&&Kn&&ze&&!Ke[Ke.length-1].route.index&&(ys=matchPath({path:Hn.relativePath,caseSensitive:Hn.caseSensitive,end:!1},Qn)),!ys)return null;Object.assign(Ai,ys.params),dn.push({params:Ai,pathname:joinPaths([ln,ys.pathname]),pathnameBase:normalizePathname(joinPaths([ln,ys.pathnameBase])),route:vs}),ys.pathnameBase!=="/"&&(ln=joinPaths([ln,ys.pathnameBase]))}return dn}function matchPath(qe,f){typeof qe=="string"&&(qe={path:qe,caseSensitive:!1,end:!0});let[ze,Ke]=compilePath(qe.path,qe.caseSensitive,qe.end),Ai=f.match(ze);if(!Ai)return null;let ln=Ai[0],dn=ln.replace(/(.)\/+$/,"$1"),gn=Ai.slice(1);return{params:Ke.reduce((Kn,{paramName:Qn,isOptional:ys},vs)=>{if(Qn==="*"){let bs=gn[vs]||"";dn=ln.slice(0,ln.length-bs.length).replace(/(.)\/+$/,"$1")}const Cs=gn[vs];return ys&&!Cs?Kn[Qn]=void 0:Kn[Qn]=(Cs||"").replace(/%2F/g,"/"),Kn},{}),pathname:ln,pathnameBase:dn,pattern:qe}}function compilePath(qe,f=!1,ze=!0){warning(qe==="*"||!qe.endsWith("*")||qe.endsWith("/*"),`Route path "${qe}" will be treated as if it were "${qe.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${qe.replace(/\*$/,"/*")}".`);let Ke=[],Ai="^"+qe.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(dn,gn,Hn)=>(Ke.push({paramName:gn,isOptional:Hn!=null}),Hn?"/?([^\\/]+)?":"/([^\\/]+)"));return qe.endsWith("*")?(Ke.push({paramName:"*"}),Ai+=qe==="*"||qe==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):ze?Ai+="\\/*$":qe!==""&&qe!=="/"&&(Ai+="(?:(?=\\/|$))"),[new RegExp(Ai,f?void 0:"i"),Ke]}function decodePath(qe){try{return qe.split("/").map(f=>decodeURIComponent(f).replace(/\//g,"%2F")).join("/")}catch(f){return warning(!1,`The URL path "${qe}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${f}).`),qe}}function stripBasename(qe,f){if(f==="/")return qe;if(!qe.toLowerCase().startsWith(f.toLowerCase()))return null;let ze=f.endsWith("/")?f.length-1:f.length,Ke=qe.charAt(ze);return Ke&&Ke!=="/"?null:qe.slice(ze)||"/"}function resolvePath(qe,f="/"){let{pathname:ze,search:Ke="",hash:Ai=""}=typeof qe=="string"?parsePath(qe):qe;return{pathname:ze?ze.startsWith("/")?ze:resolvePathname(ze,f):f,search:normalizeSearch(Ke),hash:normalizeHash(Ai)}}function resolvePathname(qe,f){let ze=f.replace(/\/+$/,"").split("/");return qe.split("/").forEach(Ai=>{Ai===".."?ze.length>1&&ze.pop():Ai!=="."&&ze.push(Ai)}),ze.length>1?ze.join("/"):"/"}function getInvalidPathError(qe,f,ze,Ke){return`Cannot include a '${qe}' character in a manually specified \`to.${f}\` field [${JSON.stringify(Ke)}].  Please separate it out to the \`to.${ze}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(qe){return qe.filter((f,ze)=>ze===0||f.route.path&&f.route.path.length>0)}function getResolveToMatches(qe){let f=getPathContributingMatches(qe);return f.map((ze,Ke)=>Ke===f.length-1?ze.pathname:ze.pathnameBase)}function resolveTo(qe,f,ze,Ke=!1){let Ai;typeof qe=="string"?Ai=parsePath(qe):(Ai={...qe},invariant(!Ai.pathname||!Ai.pathname.includes("?"),getInvalidPathError("?","pathname","search",Ai)),invariant(!Ai.pathname||!Ai.pathname.includes("#"),getInvalidPathError("#","pathname","hash",Ai)),invariant(!Ai.search||!Ai.search.includes("#"),getInvalidPathError("#","search","hash",Ai)));let ln=qe===""||Ai.pathname==="",dn=ln?"/":Ai.pathname,gn;if(dn==null)gn=ze;else{let ys=f.length-1;if(!Ke&&dn.startsWith("..")){let vs=dn.split("/");for(;vs[0]==="..";)vs.shift(),ys-=1;Ai.pathname=vs.join("/")}gn=ys>=0?f[ys]:"/"}let Hn=resolvePath(Ai,gn),Kn=dn&&dn!=="/"&&dn.endsWith("/"),Qn=(ln||dn===".")&&ze.endsWith("/");return!Hn.pathname.endsWith("/")&&(Kn||Qn)&&(Hn.pathname+="/"),Hn}var joinPaths=qe=>qe.join("/").replace(/\/\/+/g,"/"),normalizePathname=qe=>qe.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=qe=>!qe||qe==="?"?"":qe.startsWith("?")?qe:"?"+qe,normalizeHash=qe=>!qe||qe==="#"?"":qe.startsWith("#")?qe:"#"+qe,ErrorResponseImpl=class{constructor(qe,f,ze,Ke=!1){this.status=qe,this.statusText=f||"",this.internal=Ke,ze instanceof Error?(this.data=ze.toString(),this.error=ze):this.data=ze}};function isRouteErrorResponse(qe){return qe!=null&&typeof qe.status=="number"&&typeof qe.statusText=="string"&&typeof qe.internal=="boolean"&&"data"in qe}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"],validMutationMethods=new Set(validMutationMethodsArr),validRequestMethodsArr=["GET",...validMutationMethodsArr],validRequestMethods=new Set(validRequestMethodsArr),redirectStatusCodes=new Set([301,302,303,307,308]),redirectPreserveMethodStatusCodes=new Set([307,308]),IDLE_NAVIGATION={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_FETCHER={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_BLOCKER={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,defaultMapRouteProperties=qe=>({hasErrorBoundary:!!qe.hasErrorBoundary}),TRANSITIONS_STORAGE_KEY="remix-router-transitions",ResetLoaderDataSymbol=Symbol("ResetLoaderData");function createRouter(qe){const f=qe.window?qe.window:typeof window<"u"?window:void 0,ze=typeof f<"u"&&typeof f.document<"u"&&typeof f.document.createElement<"u";invariant(qe.routes.length>0,"You must provide a non-empty routes array to createRouter");let Ke=qe.hydrationRouteProperties||[],Ai=qe.mapRouteProperties||defaultMapRouteProperties,ln={},dn=convertRoutesToDataRoutes(qe.routes,Ai,void 0,ln),gn,Hn=qe.basename||"/",Kn=qe.dataStrategy||defaultDataStrategyWithMiddleware,Qn={unstable_middleware:!1,...qe.future},ys=null,vs=new Set,Cs=null,bs=null,ia=null,la=qe.hydrationData!=null,ra=matchRoutes(dn,qe.history.location,Hn),sa=!1,na=null,aa;if(ra==null&&!qe.patchRoutesOnNavigation){let _a=getInternalRouterError(404,{pathname:qe.history.location.pathname}),{matches:wa,route:Za}=getShortCircuitMatches(dn);aa=!0,ra=wa,na={[Za.id]:_a}}else if(ra&&!qe.hydrationData&&Cu(ra,dn,qe.history.location.pathname).active&&(ra=null),ra)if(ra.some(_a=>_a.route.lazy))aa=!1;else if(!ra.some(_a=>_a.route.loader))aa=!0;else{let _a=qe.hydrationData?qe.hydrationData.loaderData:null,wa=qe.hydrationData?qe.hydrationData.errors:null;if(wa){let Za=ra.findIndex(sl=>wa[sl.route.id]!==void 0);aa=ra.slice(0,Za+1).every(sl=>!shouldLoadRouteOnHydration(sl.route,_a,wa))}else aa=ra.every(Za=>!shouldLoadRouteOnHydration(Za.route,_a,wa))}else{aa=!1,ra=[];let _a=Cu(null,dn,qe.history.location.pathname);_a.active&&_a.matches&&(sa=!0,ra=_a.matches)}let oa,ha={historyAction:qe.history.action,location:qe.history.location,matches:ra,initialized:aa,navigation:IDLE_NAVIGATION,restoreScrollPosition:qe.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:qe.hydrationData&&qe.hydrationData.loaderData||{},actionData:qe.hydrationData&&qe.hydrationData.actionData||null,errors:qe.hydrationData&&qe.hydrationData.errors||na,fetchers:new Map,blockers:new Map},ga="POP",va=!1,Sa,tl=!1,Zo=new Map,Ta=null,Qa=!1,$a=!1,Ma=new Set,ua=new Map,ya=0,ca=-1,da=new Map,pa=new Set,xa=new Map,Oa=new Map,Ja=new Set,rl=new Map,hl,al=null;function Tl(){if(ys=qe.history.listen(({action:_a,location:wa,delta:Za})=>{if(hl){hl(),hl=void 0;return}warning(rl.size===0||Za!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let sl=Sd({currentLocation:ha.location,nextLocation:wa,historyAction:_a});if(sl&&Za!=null){let ol=new Promise(fl=>{hl=fl});qe.history.go(Za*-1),Ec(sl,{state:"blocked",location:wa,proceed(){Ec(sl,{state:"proceeding",proceed:void 0,reset:void 0,location:wa}),ol.then(()=>qe.history.go(Za))},reset(){let fl=new Map(ha.blockers);fl.set(sl,IDLE_BLOCKER),El({blockers:fl})}});return}return ll(_a,wa)}),ze){restoreAppliedTransitions(f,Zo);let _a=()=>persistAppliedTransitions(f,Zo);f.addEventListener("pagehide",_a),Ta=()=>f.removeEventListener("pagehide",_a)}return ha.initialized||ll("POP",ha.location,{initialHydration:!0}),oa}function Cl(){ys&&ys(),Ta&&Ta(),vs.clear(),Sa&&Sa.abort(),ha.fetchers.forEach((_a,wa)=>xh(wa)),ha.blockers.forEach((_a,wa)=>Su(wa))}function Yl(_a){return vs.add(_a),()=>vs.delete(_a)}function El(_a,wa={}){ha={...ha,..._a};let Za=[],sl=[];ha.fetchers.forEach((ol,fl)=>{ol.state==="idle"&&(Ja.has(fl)?Za.push(fl):sl.push(fl))}),Ja.forEach(ol=>{!ha.fetchers.has(ol)&&!ua.has(ol)&&Za.push(ol)}),[...vs].forEach(ol=>ol(ha,{deletedFetchers:Za,viewTransitionOpts:wa.viewTransitionOpts,flushSync:wa.flushSync===!0})),Za.forEach(ol=>xh(ol)),sl.forEach(ol=>ha.fetchers.delete(ol))}function jl(_a,wa,{flushSync:Za}={}){var gl,bl;let sl=ha.actionData!=null&&ha.navigation.formMethod!=null&&isMutationMethod(ha.navigation.formMethod)&&ha.navigation.state==="loading"&&((gl=_a.state)==null?void 0:gl._isRedirect)!==!0,ol;wa.actionData?Object.keys(wa.actionData).length>0?ol=wa.actionData:ol=null:sl?ol=ha.actionData:ol=null;let fl=wa.loaderData?mergeLoaderData(ha.loaderData,wa.loaderData,wa.matches||[],wa.errors):ha.loaderData,vl=ha.blockers;vl.size>0&&(vl=new Map(vl),vl.forEach((dl,_l)=>vl.set(_l,IDLE_BLOCKER)));let cl=va===!0||ha.navigation.formMethod!=null&&isMutationMethod(ha.navigation.formMethod)&&((bl=_a.state)==null?void 0:bl._isRedirect)!==!0;gn&&(dn=gn,gn=void 0),Qa||ga==="POP"||(ga==="PUSH"?qe.history.push(_a,_a.state):ga==="REPLACE"&&qe.history.replace(_a,_a.state));let ml;if(ga==="POP"){let dl=Zo.get(ha.location.pathname);dl&&dl.has(_a.pathname)?ml={currentLocation:ha.location,nextLocation:_a}:Zo.has(_a.pathname)&&(ml={currentLocation:_a,nextLocation:ha.location})}else if(tl){let dl=Zo.get(ha.location.pathname);dl?dl.add(_a.pathname):(dl=new Set([_a.pathname]),Zo.set(ha.location.pathname,dl)),ml={currentLocation:ha.location,nextLocation:_a}}El({...wa,actionData:ol,loaderData:fl,historyAction:ga,location:_a,initialized:!0,navigation:IDLE_NAVIGATION,revalidation:"idle",restoreScrollPosition:Cd(_a,wa.matches||ha.matches),preventScrollReset:cl,blockers:vl},{viewTransitionOpts:ml,flushSync:Za===!0}),ga="POP",va=!1,tl=!1,Qa=!1,$a=!1,al==null||al.resolve(),al=null}async function yh(_a,wa){if(typeof _a=="number"){qe.history.go(_a);return}let Za=normalizeTo(ha.location,ha.matches,Hn,_a,wa==null?void 0:wa.fromRouteId,wa==null?void 0:wa.relative),{path:sl,submission:ol,error:fl}=normalizeNavigateOptions(!1,Za,wa),vl=ha.location,cl=createLocation(ha.location,sl,wa&&wa.state);cl={...cl,...qe.history.encodeLocation(cl)};let ml=wa&&wa.replace!=null?wa.replace:void 0,gl="PUSH";ml===!0?gl="REPLACE":ml===!1||ol!=null&&isMutationMethod(ol.formMethod)&&ol.formAction===ha.location.pathname+ha.location.search&&(gl="REPLACE");let bl=wa&&"preventScrollReset"in wa?wa.preventScrollReset===!0:void 0,dl=(wa&&wa.flushSync)===!0,_l=Sd({currentLocation:vl,nextLocation:cl,historyAction:gl});if(_l){Ec(_l,{state:"blocked",location:cl,proceed(){Ec(_l,{state:"proceeding",proceed:void 0,reset:void 0,location:cl}),yh(_a,wa)},reset(){let Ll=new Map(ha.blockers);Ll.set(_l,IDLE_BLOCKER),El({blockers:Ll})}});return}await ll(gl,cl,{submission:ol,pendingError:fl,preventScrollReset:bl,replace:wa&&wa.replace,enableViewTransition:wa&&wa.viewTransition,flushSync:dl})}function Dl(){al||(al=createDeferred()),Wh(),El({revalidation:"loading"});let _a=al.promise;return ha.navigation.state==="submitting"?_a:ha.navigation.state==="idle"?(ll(ha.historyAction,ha.location,{startUninterruptedRevalidation:!0}),_a):(ll(ga||ha.historyAction,ha.navigation.location,{overrideNavigation:ha.navigation,enableViewTransition:tl===!0}),_a)}async function ll(_a,wa,Za){Sa&&Sa.abort(),Sa=null,ga=_a,Qa=(Za&&Za.startUninterruptedRevalidation)===!0,_u(ha.location,ha.matches),va=(Za&&Za.preventScrollReset)===!0,tl=(Za&&Za.enableViewTransition)===!0;let sl=gn||dn,ol=Za&&Za.overrideNavigation,fl=Za!=null&&Za.initialHydration&&ha.matches&&ha.matches.length>0&&!sa?ha.matches:matchRoutes(sl,wa,Hn),vl=(Za&&Za.flushSync)===!0;if(fl&&ha.initialized&&!$a&&isHashChangeOnly(ha.location,wa)&&!(Za&&Za.submission&&isMutationMethod(Za.submission.formMethod))){jl(wa,{matches:fl},{flushSync:vl});return}let cl=Cu(fl,sl,wa.pathname);if(cl.active&&cl.matches&&(fl=cl.matches),!fl){let{error:$l,notFoundMatches:Fl,route:Rl}=Gu(wa.pathname);jl(wa,{matches:Fl,loaderData:{},errors:{[Rl.id]:$l}},{flushSync:vl});return}Sa=new AbortController;let ml=createClientSideRequest(qe.history,wa,Sa.signal,Za&&Za.submission),gl=new unstable_RouterContextProvider(qe.unstable_getContext?await qe.unstable_getContext():void 0),bl;if(Za&&Za.pendingError)bl=[findNearestBoundary(fl).route.id,{type:"error",error:Za.pendingError}];else if(Za&&Za.submission&&isMutationMethod(Za.submission.formMethod)){let $l=await Nh(ml,wa,Za.submission,fl,gl,cl.active,Za&&Za.initialHydration===!0,{replace:Za.replace,flushSync:vl});if($l.shortCircuited)return;if($l.pendingActionResult){let[Fl,Rl]=$l.pendingActionResult;if(isErrorResult(Rl)&&isRouteErrorResponse(Rl.error)&&Rl.error.status===404){Sa=null,jl(wa,{matches:$l.matches,loaderData:{},errors:{[Fl]:Rl.error}});return}}fl=$l.matches||fl,bl=$l.pendingActionResult,ol=getLoadingNavigation(wa,Za.submission),vl=!1,cl.active=!1,ml=createClientSideRequest(qe.history,ml.url,ml.signal)}let{shortCircuited:dl,matches:_l,loaderData:Ll,errors:Zl}=await Uh(ml,wa,fl,gl,cl.active,ol,Za&&Za.submission,Za&&Za.fetcherSubmission,Za&&Za.replace,Za&&Za.initialHydration===!0,vl,bl);dl||(Sa=null,jl(wa,{matches:_l||fl,...getActionDataForCommit(bl),loaderData:Ll,errors:Zl}))}async function Nh(_a,wa,Za,sl,ol,fl,vl,cl={}){Wh();let ml=getSubmittingNavigation(wa,Za);if(El({navigation:ml},{flushSync:cl.flushSync===!0}),fl){let dl=await Eu(sl,wa.pathname,_a.signal);if(dl.type==="aborted")return{shortCircuited:!0};if(dl.type==="error"){let _l=findNearestBoundary(dl.partialMatches).route.id;return{matches:dl.partialMatches,pendingActionResult:[_l,{type:"error",error:dl.error}]}}else if(dl.matches)sl=dl.matches;else{let{notFoundMatches:_l,error:Ll,route:Zl}=Gu(wa.pathname);return{matches:_l,pendingActionResult:[Zl.id,{type:"error",error:Ll}]}}}let gl,bl=getTargetMatch(sl,wa);if(!bl.route.action&&!bl.route.lazy)gl={type:"error",error:getInternalRouterError(405,{method:_a.method,pathname:wa.pathname,routeId:bl.route.id})};else{let dl=getTargetedDataStrategyMatches(Ai,ln,_a,sl,bl,vl?[]:Ke,ol),_l=await Oh(_a,dl,ol,null);if(gl=_l[bl.route.id],!gl){for(let Ll of sl)if(_l[Ll.route.id]){gl=_l[Ll.route.id];break}}if(_a.signal.aborted)return{shortCircuited:!0}}if(isRedirectResult(gl)){let dl;return cl&&cl.replace!=null?dl=cl.replace:dl=normalizeRedirectLocation(gl.response.headers.get("Location"),new URL(_a.url),Hn)===ha.location.pathname+ha.location.search,await Dh(_a,gl,!0,{submission:Za,replace:dl}),{shortCircuited:!0}}if(isErrorResult(gl)){let dl=findNearestBoundary(sl,bl.route.id);return(cl&&cl.replace)!==!0&&(ga="PUSH"),{matches:sl,pendingActionResult:[dl.route.id,gl,bl.route.id]}}return{matches:sl,pendingActionResult:[bl.route.id,gl]}}async function Uh(_a,wa,Za,sl,ol,fl,vl,cl,ml,gl,bl,dl){let _l=fl||getLoadingNavigation(wa,vl),Ll=vl||cl||getSubmissionFromNavigation(_l),Zl=!Qa&&!gl;if(ol){if(Zl){let Vh=Kl(dl);El({navigation:_l,...Vh!==void 0?{actionData:Vh}:{}},{flushSync:bl})}let Ml=await Eu(Za,wa.pathname,_a.signal);if(Ml.type==="aborted")return{shortCircuited:!0};if(Ml.type==="error"){let Vh=findNearestBoundary(Ml.partialMatches).route.id;return{matches:Ml.partialMatches,loaderData:{},errors:{[Vh]:Ml.error}}}else if(Ml.matches)Za=Ml.matches;else{let{error:Vh,notFoundMatches:yc,route:xc}=Gu(wa.pathname);return{matches:yc,loaderData:{},errors:{[xc.id]:Vh}}}}let $l=gn||dn,{dsMatches:Fl,revalidatingFetchers:Rl}=getMatchesToLoad(_a,sl,Ai,ln,qe.history,ha,Za,Ll,wa,gl?[]:Ke,gl===!0,$a,Ma,Ja,xa,pa,$l,Hn,dl);if(ca=++ya,!qe.dataStrategy&&!Fl.some(Ml=>Ml.shouldLoad)&&Rl.length===0){let Ml=xu();return jl(wa,{matches:Za,loaderData:{},errors:dl&&isErrorResult(dl[1])?{[dl[0]]:dl[1].error}:null,...getActionDataForCommit(dl),...Ml?{fetchers:new Map(ha.fetchers)}:{}},{flushSync:bl}),{shortCircuited:!0}}if(Zl){let Ml={};if(!ol){Ml.navigation=_l;let Vh=Kl(dl);Vh!==void 0&&(Ml.actionData=Vh)}Rl.length>0&&(Ml.fetchers=Yh(Rl)),El(Ml,{flushSync:bl})}Rl.forEach(Ml=>{Cc(Ml.key),Ml.controller&&ua.set(Ml.key,Ml.controller)});let qc=()=>Rl.forEach(Ml=>Cc(Ml.key));Sa&&Sa.signal.addEventListener("abort",qc);let{loaderResults:Gh,fetcherResults:lc}=await jh(Fl,Rl,_a,sl);if(_a.signal.aborted)return{shortCircuited:!0};Sa&&Sa.signal.removeEventListener("abort",qc),Rl.forEach(Ml=>ua.delete(Ml.key));let Kh=findRedirect(Gh);if(Kh)return await Dh(_a,Kh.result,!0,{replace:ml}),{shortCircuited:!0};if(Kh=findRedirect(lc),Kh)return pa.add(Kh.key),await Dh(_a,Kh.result,!0,{replace:ml}),{shortCircuited:!0};let{loaderData:Wc,errors:Kc}=processLoaderData(ha,Za,Gh,dl,Rl,lc);gl&&ha.errors&&(Kc={...ha.errors,...Kc});let wf=xu(),hc=bu(ca),Pc=wf||hc||Rl.length>0;return{matches:Za,loaderData:Wc,errors:Kc,...Pc?{fetchers:new Map(ha.fetchers)}:{}}}function Kl(_a){if(_a&&!isErrorResult(_a[1]))return{[_a[0]]:_a[1].data};if(ha.actionData)return Object.keys(ha.actionData).length===0?null:ha.actionData}function Yh(_a){return _a.forEach(wa=>{let Za=ha.fetchers.get(wa.key),sl=getLoadingFetcher(void 0,Za?Za.data:void 0);ha.fetchers.set(wa.key,sl)}),new Map(ha.fetchers)}async function Xh(_a,wa,Za,sl){Cc(_a);let ol=(sl&&sl.flushSync)===!0,fl=gn||dn,vl=normalizeTo(ha.location,ha.matches,Hn,Za,wa,sl==null?void 0:sl.relative),cl=matchRoutes(fl,vl,Hn),ml=Cu(cl,fl,vl);if(ml.active&&ml.matches&&(cl=ml.matches),!cl){zl(_a,wa,getInternalRouterError(404,{pathname:vl}),{flushSync:ol});return}let{path:gl,submission:bl,error:dl}=normalizeNavigateOptions(!0,vl,sl);if(dl){zl(_a,wa,dl,{flushSync:ol});return}let _l=getTargetMatch(cl,gl),Ll=new unstable_RouterContextProvider(qe.unstable_getContext?await qe.unstable_getContext():void 0),Zl=(sl&&sl.preventScrollReset)===!0;if(bl&&isMutationMethod(bl.formMethod)){await qh(_a,wa,gl,_l,cl,Ll,ml.active,ol,Zl,bl);return}xa.set(_a,{routeId:wa,path:gl}),await _h(_a,wa,gl,_l,cl,Ll,ml.active,ol,Zl,bl)}async function qh(_a,wa,Za,sl,ol,fl,vl,cl,ml,gl){Wh(),xa.delete(_a);function bl(Ql){if(!Ql.route.action&&!Ql.route.lazy){let Zc=getInternalRouterError(405,{method:gl.formMethod,pathname:Za,routeId:wa});return zl(_a,wa,Zc,{flushSync:cl}),!0}return!1}if(!vl&&bl(sl))return;let dl=ha.fetchers.get(_a);ql(_a,getSubmittingFetcher(gl,dl),{flushSync:cl});let _l=new AbortController,Ll=createClientSideRequest(qe.history,Za,_l.signal,gl);if(vl){let Ql=await Eu(ol,Za,Ll.signal,_a);if(Ql.type==="aborted")return;if(Ql.type==="error"){zl(_a,wa,Ql.error,{flushSync:cl});return}else if(Ql.matches){if(ol=Ql.matches,sl=getTargetMatch(ol,Za),bl(sl))return}else{zl(_a,wa,getInternalRouterError(404,{pathname:Za}),{flushSync:cl});return}}ua.set(_a,_l);let Zl=ya,$l=getTargetedDataStrategyMatches(Ai,ln,Ll,ol,sl,Ke,fl),Rl=(await Oh(Ll,$l,fl,_a))[sl.route.id];if(Ll.signal.aborted){ua.get(_a)===_l&&ua.delete(_a);return}if(Ja.has(_a)){if(isRedirectResult(Rl)||isErrorResult(Rl)){ql(_a,getDoneFetcher(void 0));return}}else{if(isRedirectResult(Rl))if(ua.delete(_a),ca>Zl){ql(_a,getDoneFetcher(void 0));return}else return pa.add(_a),ql(_a,getLoadingFetcher(gl)),Dh(Ll,Rl,!1,{fetcherSubmission:gl,preventScrollReset:ml});if(isErrorResult(Rl)){zl(_a,wa,Rl.error);return}}let qc=ha.navigation.location||ha.location,Gh=createClientSideRequest(qe.history,qc,_l.signal),lc=gn||dn,Kh=ha.navigation.state!=="idle"?matchRoutes(lc,ha.navigation.location,Hn):ha.matches;invariant(Kh,"Didn't find any matches after fetcher action");let Wc=++ya;da.set(_a,Wc);let Kc=getLoadingFetcher(gl,Rl.data);ha.fetchers.set(_a,Kc);let{dsMatches:wf,revalidatingFetchers:hc}=getMatchesToLoad(Gh,fl,Ai,ln,qe.history,ha,Kh,gl,qc,Ke,!1,$a,Ma,Ja,xa,pa,lc,Hn,[sl.route.id,Rl]);hc.filter(Ql=>Ql.key!==_a).forEach(Ql=>{let Zc=Ql.key,Mf=ha.fetchers.get(Zc),Zh=getLoadingFetcher(void 0,Mf?Mf.data:void 0);ha.fetchers.set(Zc,Zh),Cc(Zc),Ql.controller&&ua.set(Zc,Ql.controller)}),El({fetchers:new Map(ha.fetchers)});let Pc=()=>hc.forEach(Ql=>Cc(Ql.key));_l.signal.addEventListener("abort",Pc);let{loaderResults:Ml,fetcherResults:Vh}=await jh(wf,hc,Gh,fl);if(_l.signal.aborted)return;if(_l.signal.removeEventListener("abort",Pc),da.delete(_a),ua.delete(_a),hc.forEach(Ql=>ua.delete(Ql.key)),ha.fetchers.has(_a)){let Ql=getDoneFetcher(Rl.data);ha.fetchers.set(_a,Ql)}let yc=findRedirect(Ml);if(yc)return Dh(Gh,yc.result,!1,{preventScrollReset:ml});if(yc=findRedirect(Vh),yc)return pa.add(yc.key),Dh(Gh,yc.result,!1,{preventScrollReset:ml});let{loaderData:xc,errors:Tu}=processLoaderData(ha,Kh,Ml,void 0,hc,Vh);bu(Wc),ha.navigation.state==="loading"&&Wc>ca?(invariant(ga,"Expected pending action"),Sa&&Sa.abort(),jl(ha.navigation.location,{matches:Kh,loaderData:xc,errors:Tu,fetchers:new Map(ha.fetchers)})):(El({errors:Tu,loaderData:mergeLoaderData(ha.loaderData,xc,Kh,Tu),fetchers:new Map(ha.fetchers)}),$a=!1)}async function _h(_a,wa,Za,sl,ol,fl,vl,cl,ml,gl){let bl=ha.fetchers.get(_a);ql(_a,getLoadingFetcher(gl,bl?bl.data:void 0),{flushSync:cl});let dl=new AbortController,_l=createClientSideRequest(qe.history,Za,dl.signal);if(vl){let Rl=await Eu(ol,Za,_l.signal,_a);if(Rl.type==="aborted")return;if(Rl.type==="error"){zl(_a,wa,Rl.error,{flushSync:cl});return}else if(Rl.matches)ol=Rl.matches,sl=getTargetMatch(ol,Za);else{zl(_a,wa,getInternalRouterError(404,{pathname:Za}),{flushSync:cl});return}}ua.set(_a,dl);let Ll=ya,Zl=getTargetedDataStrategyMatches(Ai,ln,_l,ol,sl,Ke,fl),Fl=(await Oh(_l,Zl,fl,_a))[sl.route.id];if(ua.get(_a)===dl&&ua.delete(_a),!_l.signal.aborted){if(Ja.has(_a)){ql(_a,getDoneFetcher(void 0));return}if(isRedirectResult(Fl))if(ca>Ll){ql(_a,getDoneFetcher(void 0));return}else{pa.add(_a),await Dh(_l,Fl,!1,{preventScrollReset:ml});return}if(isErrorResult(Fl)){zl(_a,wa,Fl.error);return}ql(_a,getDoneFetcher(Fl.data))}}async function Dh(_a,wa,Za,{submission:sl,fetcherSubmission:ol,preventScrollReset:fl,replace:vl}={}){wa.response.headers.has("X-Remix-Revalidate")&&($a=!0);let cl=wa.response.headers.get("Location");invariant(cl,"Expected a Location header on the redirect Response"),cl=normalizeRedirectLocation(cl,new URL(_a.url),Hn);let ml=createLocation(ha.location,cl,{_isRedirect:!0});if(ze){let Zl=!1;if(wa.response.headers.has("X-Remix-Reload-Document"))Zl=!0;else if(ABSOLUTE_URL_REGEX.test(cl)){const $l=createBrowserURLImpl(cl,!0);Zl=$l.origin!==f.location.origin||stripBasename($l.pathname,Hn)==null}if(Zl){vl?f.location.replace(cl):f.location.assign(cl);return}}Sa=null;let gl=vl===!0||wa.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:bl,formAction:dl,formEncType:_l}=ha.navigation;!sl&&!ol&&bl&&dl&&_l&&(sl=getSubmissionFromNavigation(ha.navigation));let Ll=sl||ol;if(redirectPreserveMethodStatusCodes.has(wa.response.status)&&Ll&&isMutationMethod(Ll.formMethod))await ll(gl,ml,{submission:{...Ll,formAction:cl},preventScrollReset:fl||va,enableViewTransition:Za?tl:void 0});else{let Zl=getLoadingNavigation(ml,sl);await ll(gl,ml,{overrideNavigation:Zl,fetcherSubmission:ol,preventScrollReset:fl||va,enableViewTransition:Za?tl:void 0})}}async function Oh(_a,wa,Za,sl){let ol,fl={};try{ol=await callDataStrategyImpl(Kn,_a,wa,sl,Za,!1)}catch(vl){return wa.filter(cl=>cl.shouldLoad).forEach(cl=>{fl[cl.route.id]={type:"error",error:vl}}),fl}if(_a.signal.aborted)return fl;for(let[vl,cl]of Object.entries(ol))if(isRedirectDataStrategyResult(cl)){let ml=cl.result;fl[vl]={type:"redirect",response:normalizeRelativeRoutingRedirectResponse(ml,_a,vl,wa,Hn)}}else fl[vl]=await convertDataStrategyResultToDataResult(cl);return fl}async function jh(_a,wa,Za,sl){let ol=Oh(Za,_a,sl,null),fl=Promise.all(wa.map(async ml=>{if(ml.matches&&ml.match&&ml.request&&ml.controller){let bl=(await Oh(ml.request,ml.matches,sl,ml.key))[ml.match.route.id];return{[ml.key]:bl}}else return Promise.resolve({[ml.key]:{type:"error",error:getInternalRouterError(404,{pathname:ml.path})}})})),vl=await ol,cl=(await fl).reduce((ml,gl)=>Object.assign(ml,gl),{});return{loaderResults:vl,fetcherResults:cl}}function Wh(){$a=!0,xa.forEach((_a,wa)=>{ua.has(wa)&&Ma.add(wa),Cc(wa)})}function ql(_a,wa,Za={}){ha.fetchers.set(_a,wa),El({fetchers:new Map(ha.fetchers)},{flushSync:(Za&&Za.flushSync)===!0})}function zl(_a,wa,Za,sl={}){let ol=findNearestBoundary(ha.matches,wa);xh(_a),El({errors:{[ol.route.id]:Za},fetchers:new Map(ha.fetchers)},{flushSync:(sl&&sl.flushSync)===!0})}function zh(_a){return Oa.set(_a,(Oa.get(_a)||0)+1),Ja.has(_a)&&Ja.delete(_a),ha.fetchers.get(_a)||IDLE_FETCHER}function xh(_a){let wa=ha.fetchers.get(_a);ua.has(_a)&&!(wa&&wa.state==="loading"&&da.has(_a))&&Cc(_a),xa.delete(_a),da.delete(_a),pa.delete(_a),Ja.delete(_a),Ma.delete(_a),ha.fetchers.delete(_a)}function Xc(_a){let wa=(Oa.get(_a)||0)-1;wa<=0?(Oa.delete(_a),Ja.add(_a)):Oa.set(_a,wa),El({fetchers:new Map(ha.fetchers)})}function Cc(_a){let wa=ua.get(_a);wa&&(wa.abort(),ua.delete(_a))}function bd(_a){for(let wa of _a){let Za=zh(wa),sl=getDoneFetcher(Za.data);ha.fetchers.set(wa,sl)}}function xu(){let _a=[],wa=!1;for(let Za of pa){let sl=ha.fetchers.get(Za);invariant(sl,`Expected fetcher: ${Za}`),sl.state==="loading"&&(pa.delete(Za),_a.push(Za),wa=!0)}return bd(_a),wa}function bu(_a){let wa=[];for(let[Za,sl]of da)if(sl<_a){let ol=ha.fetchers.get(Za);invariant(ol,`Expected fetcher: ${Za}`),ol.state==="loading"&&(Cc(Za),da.delete(Za),wa.push(Za))}return bd(wa),wa.length>0}function kc(_a,wa){let Za=ha.blockers.get(_a)||IDLE_BLOCKER;return rl.get(_a)!==wa&&rl.set(_a,wa),Za}function Su(_a){ha.blockers.delete(_a),rl.delete(_a)}function Ec(_a,wa){let Za=ha.blockers.get(_a)||IDLE_BLOCKER;invariant(Za.state==="unblocked"&&wa.state==="blocked"||Za.state==="blocked"&&wa.state==="blocked"||Za.state==="blocked"&&wa.state==="proceeding"||Za.state==="blocked"&&wa.state==="unblocked"||Za.state==="proceeding"&&wa.state==="unblocked",`Invalid blocker state transition: ${Za.state} -> ${wa.state}`);let sl=new Map(ha.blockers);sl.set(_a,wa),El({blockers:sl})}function Sd({currentLocation:_a,nextLocation:wa,historyAction:Za}){if(rl.size===0)return;rl.size>1&&warning(!1,"A router only supports one blocker at a time");let sl=Array.from(rl.entries()),[ol,fl]=sl[sl.length-1],vl=ha.blockers.get(ol);if(!(vl&&vl.state==="proceeding")&&fl({currentLocation:_a,nextLocation:wa,historyAction:Za}))return ol}function Gu(_a){let wa=getInternalRouterError(404,{pathname:_a}),Za=gn||dn,{matches:sl,route:ol}=getShortCircuitMatches(Za);return{notFoundMatches:sl,route:ol,error:wa}}function _d(_a,wa,Za){if(Cs=_a,ia=wa,bs=Za||null,!la&&ha.navigation===IDLE_NAVIGATION){la=!0;let sl=Cd(ha.location,ha.matches);sl!=null&&El({restoreScrollPosition:sl})}return()=>{Cs=null,ia=null,bs=null}}function Hu(_a,wa){return bs&&bs(_a,wa.map(sl=>convertRouteMatchToUiMatch(sl,ha.loaderData)))||_a.key}function _u(_a,wa){if(Cs&&ia){let Za=Hu(_a,wa);Cs[Za]=ia()}}function Cd(_a,wa){if(Cs){let Za=Hu(_a,wa),sl=Cs[Za];if(typeof sl=="number")return sl}return null}function Cu(_a,wa,Za){if(qe.patchRoutesOnNavigation)if(_a){if(Object.keys(_a[0].params).length>0)return{active:!0,matches:matchRoutesImpl(wa,Za,Hn,!0)}}else return{active:!0,matches:matchRoutesImpl(wa,Za,Hn,!0)||[]};return{active:!1,matches:null}}async function Eu(_a,wa,Za,sl){if(!qe.patchRoutesOnNavigation)return{type:"success",matches:_a};let ol=_a;for(;;){let fl=gn==null,vl=gn||dn,cl=ln;try{await qe.patchRoutesOnNavigation({signal:Za,path:wa,matches:ol,fetcherKey:sl,patch:(bl,dl)=>{Za.aborted||patchRoutesImpl(bl,dl,vl,cl,Ai)}})}catch(bl){return{type:"error",error:bl,partialMatches:ol}}finally{fl&&!Za.aborted&&(dn=[...dn])}if(Za.aborted)return{type:"aborted"};let ml=matchRoutes(vl,wa,Hn);if(ml)return{type:"success",matches:ml};let gl=matchRoutesImpl(vl,wa,Hn,!0);if(!gl||ol.length===gl.length&&ol.every((bl,dl)=>bl.route.id===gl[dl].route.id))return{type:"success",matches:null};ol=gl}}function Ef(_a){ln={},gn=convertRoutesToDataRoutes(_a,Ai,void 0,ln)}function Tf(_a,wa){let Za=gn==null;patchRoutesImpl(_a,wa,gn||dn,ln,Ai),Za&&(dn=[...dn],El({}))}return oa={get basename(){return Hn},get future(){return Qn},get state(){return ha},get routes(){return dn},get window(){return f},initialize:Tl,subscribe:Yl,enableScrollRestoration:_d,navigate:yh,fetch:Xh,revalidate:Dl,createHref:_a=>qe.history.createHref(_a),encodeLocation:_a=>qe.history.encodeLocation(_a),getFetcher:zh,deleteFetcher:Xc,dispose:Cl,getBlocker:kc,deleteBlocker:Su,patchRoutes:Tf,_internalFetchControllers:ua,_internalSetRoutes:Ef},oa}function isSubmissionNavigation(qe){return qe!=null&&("formData"in qe&&qe.formData!=null||"body"in qe&&qe.body!==void 0)}function normalizeTo(qe,f,ze,Ke,Ai,ln){let dn,gn;if(Ai){dn=[];for(let Kn of f)if(dn.push(Kn),Kn.route.id===Ai){gn=Kn;break}}else dn=f,gn=f[f.length-1];let Hn=resolveTo(Ke||".",getResolveToMatches(dn),stripBasename(qe.pathname,ze)||qe.pathname,ln==="path");if(Ke==null&&(Hn.search=qe.search,Hn.hash=qe.hash),(Ke==null||Ke===""||Ke===".")&&gn){let Kn=hasNakedIndexQuery(Hn.search);if(gn.route.index&&!Kn)Hn.search=Hn.search?Hn.search.replace(/^\?/,"?index&"):"?index";else if(!gn.route.index&&Kn){let Qn=new URLSearchParams(Hn.search),ys=Qn.getAll("index");Qn.delete("index"),ys.filter(Cs=>Cs).forEach(Cs=>Qn.append("index",Cs));let vs=Qn.toString();Hn.search=vs?`?${vs}`:""}}return ze!=="/"&&(Hn.pathname=Hn.pathname==="/"?ze:joinPaths([ze,Hn.pathname])),createPath(Hn)}function normalizeNavigateOptions(qe,f,ze){if(!ze||!isSubmissionNavigation(ze))return{path:f};if(ze.formMethod&&!isValidMethod(ze.formMethod))return{path:f,error:getInternalRouterError(405,{method:ze.formMethod})};let Ke=()=>({path:f,error:getInternalRouterError(400,{type:"invalid-body"})}),ln=(ze.formMethod||"get").toUpperCase(),dn=stripHashFromPath(f);if(ze.body!==void 0){if(ze.formEncType==="text/plain"){if(!isMutationMethod(ln))return Ke();let ys=typeof ze.body=="string"?ze.body:ze.body instanceof FormData||ze.body instanceof URLSearchParams?Array.from(ze.body.entries()).reduce((vs,[Cs,bs])=>`${vs}${Cs}=${bs}
`,""):String(ze.body);return{path:f,submission:{formMethod:ln,formAction:dn,formEncType:ze.formEncType,formData:void 0,json:void 0,text:ys}}}else if(ze.formEncType==="application/json"){if(!isMutationMethod(ln))return Ke();try{let ys=typeof ze.body=="string"?JSON.parse(ze.body):ze.body;return{path:f,submission:{formMethod:ln,formAction:dn,formEncType:ze.formEncType,formData:void 0,json:ys,text:void 0}}}catch{return Ke()}}}invariant(typeof FormData=="function","FormData is not available in this environment");let gn,Hn;if(ze.formData)gn=convertFormDataToSearchParams(ze.formData),Hn=ze.formData;else if(ze.body instanceof FormData)gn=convertFormDataToSearchParams(ze.body),Hn=ze.body;else if(ze.body instanceof URLSearchParams)gn=ze.body,Hn=convertSearchParamsToFormData(gn);else if(ze.body==null)gn=new URLSearchParams,Hn=new FormData;else try{gn=new URLSearchParams(ze.body),Hn=convertSearchParamsToFormData(gn)}catch{return Ke()}let Kn={formMethod:ln,formAction:dn,formEncType:ze&&ze.formEncType||"application/x-www-form-urlencoded",formData:Hn,json:void 0,text:void 0};if(isMutationMethod(Kn.formMethod))return{path:f,submission:Kn};let Qn=parsePath(f);return qe&&Qn.search&&hasNakedIndexQuery(Qn.search)&&gn.append("index",""),Qn.search=`?${gn}`,{path:createPath(Qn),submission:Kn}}function getMatchesToLoad(qe,f,ze,Ke,Ai,ln,dn,gn,Hn,Kn,Qn,ys,vs,Cs,bs,ia,la,ra,sa){var Ta;let na=sa?isErrorResult(sa[1])?sa[1].error:sa[1].data:void 0,aa=Ai.createURL(ln.location),oa=Ai.createURL(Hn),ha;if(Qn&&ln.errors){let Qa=Object.keys(ln.errors)[0];ha=dn.findIndex($a=>$a.route.id===Qa)}else if(sa&&isErrorResult(sa[1])){let Qa=sa[0];ha=dn.findIndex($a=>$a.route.id===Qa)-1}let ga=sa?sa[1].statusCode:void 0,va=ga&&ga>=400,Sa={currentUrl:aa,currentParams:((Ta=ln.matches[0])==null?void 0:Ta.params)||{},nextUrl:oa,nextParams:dn[0].params,...gn,actionResult:na,actionStatus:ga},tl=dn.map((Qa,$a)=>{let{route:Ma}=Qa,ua=null;if(ha!=null&&$a>ha?ua=!1:Ma.lazy?ua=!0:Ma.loader==null?ua=!1:Qn?ua=shouldLoadRouteOnHydration(Ma,ln.loaderData,ln.errors):isNewLoader(ln.loaderData,ln.matches[$a],Qa)&&(ua=!0),ua!==null)return getDataStrategyMatch(ze,Ke,qe,Qa,Kn,f,ua);let ya=va?!1:ys||aa.pathname+aa.search===oa.pathname+oa.search||aa.search!==oa.search||isNewRouteInstance(ln.matches[$a],Qa),ca={...Sa,defaultShouldRevalidate:ya},da=shouldRevalidateLoader(Qa,ca);return getDataStrategyMatch(ze,Ke,qe,Qa,Kn,f,da,ca)}),Zo=[];return bs.forEach((Qa,$a)=>{if(Qn||!dn.some(xa=>xa.route.id===Qa.routeId)||Cs.has($a))return;let Ma=matchRoutes(la,Qa.path,ra);if(!Ma){Zo.push({key:$a,routeId:Qa.routeId,path:Qa.path,matches:null,match:null,request:null,controller:null});return}if(ia.has($a))return;let ua=ln.fetchers.get($a),ya=getTargetMatch(Ma,Qa.path),ca=new AbortController,da=createClientSideRequest(Ai,Qa.path,ca.signal),pa=null;if(vs.has($a))vs.delete($a),pa=getTargetedDataStrategyMatches(ze,Ke,da,Ma,ya,Kn,f);else if(ua&&ua.state!=="idle"&&ua.data===void 0)ys&&(pa=getTargetedDataStrategyMatches(ze,Ke,da,Ma,ya,Kn,f));else{let xa={...Sa,defaultShouldRevalidate:va?!1:ys};shouldRevalidateLoader(ya,xa)&&(pa=getTargetedDataStrategyMatches(ze,Ke,da,Ma,ya,Kn,f,xa))}pa&&Zo.push({key:$a,routeId:Qa.routeId,path:Qa.path,matches:pa,match:ya,request:da,controller:ca})}),{dsMatches:tl,revalidatingFetchers:Zo}}function shouldLoadRouteOnHydration(qe,f,ze){if(qe.lazy)return!0;if(!qe.loader)return!1;let Ke=f!=null&&qe.id in f,Ai=ze!=null&&ze[qe.id]!==void 0;return!Ke&&Ai?!1:typeof qe.loader=="function"&&qe.loader.hydrate===!0?!0:!Ke&&!Ai}function isNewLoader(qe,f,ze){let Ke=!f||ze.route.id!==f.route.id,Ai=!qe.hasOwnProperty(ze.route.id);return Ke||Ai}function isNewRouteInstance(qe,f){let ze=qe.route.path;return qe.pathname!==f.pathname||ze!=null&&ze.endsWith("*")&&qe.params["*"]!==f.params["*"]}function shouldRevalidateLoader(qe,f){if(qe.route.shouldRevalidate){let ze=qe.route.shouldRevalidate(f);if(typeof ze=="boolean")return ze}return f.defaultShouldRevalidate}function patchRoutesImpl(qe,f,ze,Ke,Ai){let ln;if(qe){let Hn=Ke[qe];invariant(Hn,`No route found to patch children into: routeId = ${qe}`),Hn.children||(Hn.children=[]),ln=Hn.children}else ln=ze;let dn=f.filter(Hn=>!ln.some(Kn=>isSameRoute(Hn,Kn))),gn=convertRoutesToDataRoutes(dn,Ai,[qe||"_","patch",String((ln==null?void 0:ln.length)||"0")],Ke);ln.push(...gn)}function isSameRoute(qe,f){return"id"in qe&&"id"in f&&qe.id===f.id?!0:qe.index===f.index&&qe.path===f.path&&qe.caseSensitive===f.caseSensitive?(!qe.children||qe.children.length===0)&&(!f.children||f.children.length===0)?!0:qe.children.every((ze,Ke)=>{var Ai;return(Ai=f.children)==null?void 0:Ai.some(ln=>isSameRoute(ze,ln))}):!1}var lazyRoutePropertyCache=new WeakMap,loadLazyRouteProperty=({key:qe,route:f,manifest:ze,mapRouteProperties:Ke})=>{let Ai=ze[f.id];if(invariant(Ai,"No route found in manifest"),!Ai.lazy||typeof Ai.lazy!="object")return;let ln=Ai.lazy[qe];if(!ln)return;let dn=lazyRoutePropertyCache.get(Ai);dn||(dn={},lazyRoutePropertyCache.set(Ai,dn));let gn=dn[qe];if(gn)return gn;let Hn=(async()=>{let Kn=isUnsupportedLazyRouteObjectKey(qe),ys=Ai[qe]!==void 0&&qe!=="hasErrorBoundary";if(Kn)warning(!Kn,"Route property "+qe+" is not a supported lazy route property. This property will be ignored."),dn[qe]=Promise.resolve();else if(ys)warning(!1,`Route "${Ai.id}" has a static property "${qe}" defined. The lazy property will be ignored.`);else{let vs=await ln();vs!=null&&(Object.assign(Ai,{[qe]:vs}),Object.assign(Ai,Ke(Ai)))}typeof Ai.lazy=="object"&&(Ai.lazy[qe]=void 0,Object.values(Ai.lazy).every(vs=>vs===void 0)&&(Ai.lazy=void 0))})();return dn[qe]=Hn,Hn},lazyRouteFunctionCache=new WeakMap;function loadLazyRoute(qe,f,ze,Ke,Ai){let ln=ze[qe.id];if(invariant(ln,"No route found in manifest"),!qe.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof qe.lazy=="function"){let Qn=lazyRouteFunctionCache.get(ln);if(Qn)return{lazyRoutePromise:Qn,lazyHandlerPromise:Qn};let ys=(async()=>{invariant(typeof qe.lazy=="function","No lazy route function found");let vs=await qe.lazy(),Cs={};for(let bs in vs){let ia=vs[bs];if(ia===void 0)continue;let la=isUnsupportedLazyRouteFunctionKey(bs),sa=ln[bs]!==void 0&&bs!=="hasErrorBoundary";la?warning(!la,"Route property "+bs+" is not a supported property to be returned from a lazy route function. This property will be ignored."):sa?warning(!sa,`Route "${ln.id}" has a static property "${bs}" defined but its lazy function is also returning a value for this property. The lazy route property "${bs}" will be ignored.`):Cs[bs]=ia}Object.assign(ln,Cs),Object.assign(ln,{...Ke(ln),lazy:void 0})})();return lazyRouteFunctionCache.set(ln,ys),ys.catch(()=>{}),{lazyRoutePromise:ys,lazyHandlerPromise:ys}}let dn=Object.keys(qe.lazy),gn=[],Hn;for(let Qn of dn){if(Ai&&Ai.includes(Qn))continue;let ys=loadLazyRouteProperty({key:Qn,route:qe,manifest:ze,mapRouteProperties:Ke});ys&&(gn.push(ys),Qn===f&&(Hn=ys))}let Kn=gn.length>0?Promise.all(gn).then(()=>{}):void 0;return Kn==null||Kn.catch(()=>{}),Hn==null||Hn.catch(()=>{}),{lazyRoutePromise:Kn,lazyHandlerPromise:Hn}}async function defaultDataStrategy(qe){let f=qe.matches.filter(Ai=>Ai.shouldLoad),ze={};return(await Promise.all(f.map(Ai=>Ai.resolve()))).forEach((Ai,ln)=>{ze[f[ln].route.id]=Ai}),ze}async function defaultDataStrategyWithMiddleware(qe){return qe.matches.some(f=>f.route.unstable_middleware)?runMiddlewarePipeline(qe,!1,()=>defaultDataStrategy(qe),(f,ze)=>({[ze]:{type:"error",result:f}})):defaultDataStrategy(qe)}async function runMiddlewarePipeline(qe,f,ze,Ke){let{matches:Ai,request:ln,params:dn,context:gn}=qe,Hn={handlerResult:void 0};try{let Kn=Ai.flatMap(ys=>ys.route.unstable_middleware?ys.route.unstable_middleware.map(vs=>[ys.route.id,vs]):[]),Qn=await callRouteMiddleware({request:ln,params:dn,context:gn},Kn,f,Hn,ze);return f?Qn:Hn.handlerResult}catch(Kn){if(!Hn.middlewareError)throw Kn;let Qn=await Ke(Hn.middlewareError.error,Hn.middlewareError.routeId);return Hn.handlerResult?Object.assign(Hn.handlerResult,Qn):Qn}}async function callRouteMiddleware(qe,f,ze,Ke,Ai,ln=0){let{request:dn}=qe;if(dn.signal.aborted)throw dn.signal.reason?dn.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${dn.method} ${dn.url}`);let gn=f[ln];if(!gn)return Ke.handlerResult=await Ai(),Ke.handlerResult;let[Hn,Kn]=gn,Qn=!1,ys,vs=async()=>{if(Qn)throw new Error("You may only call `next()` once per middleware");Qn=!0,await callRouteMiddleware(qe,f,ze,Ke,Ai,ln+1)};try{let Cs=await Kn({request:qe.request,params:qe.params,context:qe.context},vs);return Qn?Cs===void 0?ys:Cs:vs()}catch(Cs){throw Ke.middlewareError?Ke.middlewareError.error!==Cs&&(Ke.middlewareError={routeId:Hn,error:Cs}):Ke.middlewareError={routeId:Hn,error:Cs},Cs}}function getDataStrategyMatchLazyPromises(qe,f,ze,Ke,Ai){let ln=loadLazyRouteProperty({key:"unstable_middleware",route:Ke.route,manifest:f,mapRouteProperties:qe}),dn=loadLazyRoute(Ke.route,isMutationMethod(ze.method)?"action":"loader",f,qe,Ai);return{middleware:ln,route:dn.lazyRoutePromise,handler:dn.lazyHandlerPromise}}function getDataStrategyMatch(qe,f,ze,Ke,Ai,ln,dn,gn=null){let Hn=!1,Kn=getDataStrategyMatchLazyPromises(qe,f,ze,Ke,Ai);return{...Ke,_lazyPromises:Kn,shouldLoad:dn,unstable_shouldRevalidateArgs:gn,unstable_shouldCallHandler(Qn){return Hn=!0,gn?typeof Qn=="boolean"?shouldRevalidateLoader(Ke,{...gn,defaultShouldRevalidate:Qn}):shouldRevalidateLoader(Ke,gn):dn},resolve(Qn){return Hn||dn||Qn&&ze.method==="GET"&&(Ke.route.lazy||Ke.route.loader)?callLoaderOrAction({request:ze,match:Ke,lazyHandlerPromise:Kn==null?void 0:Kn.handler,lazyRoutePromise:Kn==null?void 0:Kn.route,handlerOverride:Qn,scopedContext:ln}):Promise.resolve({type:"data",result:void 0})}}}function getTargetedDataStrategyMatches(qe,f,ze,Ke,Ai,ln,dn,gn=null){return Ke.map(Hn=>Hn.route.id!==Ai.route.id?{...Hn,shouldLoad:!1,unstable_shouldRevalidateArgs:gn,unstable_shouldCallHandler:()=>!1,_lazyPromises:getDataStrategyMatchLazyPromises(qe,f,ze,Hn,ln),resolve:()=>Promise.resolve({type:"data",result:void 0})}:getDataStrategyMatch(qe,f,ze,Hn,ln,dn,!0,gn))}async function callDataStrategyImpl(qe,f,ze,Ke,Ai,ln){ze.some(Kn=>{var Qn;return(Qn=Kn._lazyPromises)==null?void 0:Qn.middleware})&&await Promise.all(ze.map(Kn=>{var Qn;return(Qn=Kn._lazyPromises)==null?void 0:Qn.middleware}));let dn={request:f,params:ze[0].params,context:Ai,matches:ze},Hn=await qe({...dn,fetcherKey:Ke,unstable_runClientMiddleware:Kn=>{let Qn=dn;return runMiddlewarePipeline(Qn,!1,()=>Kn({...Qn,fetcherKey:Ke,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(ys,vs)=>({[vs]:{type:"error",result:ys}}))}});try{await Promise.all(ze.flatMap(Kn=>{var Qn,ys;return[(Qn=Kn._lazyPromises)==null?void 0:Qn.handler,(ys=Kn._lazyPromises)==null?void 0:ys.route]}))}catch{}return Hn}async function callLoaderOrAction({request:qe,match:f,lazyHandlerPromise:ze,lazyRoutePromise:Ke,handlerOverride:Ai,scopedContext:ln}){let dn,gn,Hn=isMutationMethod(qe.method),Kn=Hn?"action":"loader",Qn=ys=>{let vs,Cs=new Promise((la,ra)=>vs=ra);gn=()=>vs(),qe.signal.addEventListener("abort",gn);let bs=la=>typeof ys!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${Kn}" [routeId: ${f.route.id}]`)):ys({request:qe,params:f.params,context:ln},...la!==void 0?[la]:[]),ia=(async()=>{try{return{type:"data",result:await(Ai?Ai(ra=>bs(ra)):bs())}}catch(la){return{type:"error",result:la}}})();return Promise.race([ia,Cs])};try{let ys=Hn?f.route.action:f.route.loader;if(ze||Ke)if(ys){let vs,[Cs]=await Promise.all([Qn(ys).catch(bs=>{vs=bs}),ze,Ke]);if(vs!==void 0)throw vs;dn=Cs}else{await ze;let vs=Hn?f.route.action:f.route.loader;if(vs)[dn]=await Promise.all([Qn(vs),Ke]);else if(Kn==="action"){let Cs=new URL(qe.url),bs=Cs.pathname+Cs.search;throw getInternalRouterError(405,{method:qe.method,pathname:bs,routeId:f.route.id})}else return{type:"data",result:void 0}}else if(ys)dn=await Qn(ys);else{let vs=new URL(qe.url),Cs=vs.pathname+vs.search;throw getInternalRouterError(404,{pathname:Cs})}}catch(ys){return{type:"error",result:ys}}finally{gn&&qe.signal.removeEventListener("abort",gn)}return dn}async function convertDataStrategyResultToDataResult(qe){var Ke,Ai,ln,dn,gn,Hn;let{result:f,type:ze}=qe;if(isResponse(f)){let Kn;try{let Qn=f.headers.get("Content-Type");Qn&&/\bapplication\/json\b/.test(Qn)?f.body==null?Kn=null:Kn=await f.json():Kn=await f.text()}catch(Qn){return{type:"error",error:Qn}}return ze==="error"?{type:"error",error:new ErrorResponseImpl(f.status,f.statusText,Kn),statusCode:f.status,headers:f.headers}:{type:"data",data:Kn,statusCode:f.status,headers:f.headers}}return ze==="error"?isDataWithResponseInit(f)?f.data instanceof Error?{type:"error",error:f.data,statusCode:(Ke=f.init)==null?void 0:Ke.status,headers:(Ai=f.init)!=null&&Ai.headers?new Headers(f.init.headers):void 0}:{type:"error",error:new ErrorResponseImpl(((ln=f.init)==null?void 0:ln.status)||500,void 0,f.data),statusCode:isRouteErrorResponse(f)?f.status:void 0,headers:(dn=f.init)!=null&&dn.headers?new Headers(f.init.headers):void 0}:{type:"error",error:f,statusCode:isRouteErrorResponse(f)?f.status:void 0}:isDataWithResponseInit(f)?{type:"data",data:f.data,statusCode:(gn=f.init)==null?void 0:gn.status,headers:(Hn=f.init)!=null&&Hn.headers?new Headers(f.init.headers):void 0}:{type:"data",data:f}}function normalizeRelativeRoutingRedirectResponse(qe,f,ze,Ke,Ai){let ln=qe.headers.get("Location");if(invariant(ln,"Redirects returned/thrown from loaders/actions must have a Location header"),!ABSOLUTE_URL_REGEX.test(ln)){let dn=Ke.slice(0,Ke.findIndex(gn=>gn.route.id===ze)+1);ln=normalizeTo(new URL(f.url),dn,Ai,ln),qe.headers.set("Location",ln)}return qe}function normalizeRedirectLocation(qe,f,ze){if(ABSOLUTE_URL_REGEX.test(qe)){let Ke=qe,Ai=Ke.startsWith("//")?new URL(f.protocol+Ke):new URL(Ke),ln=stripBasename(Ai.pathname,ze)!=null;if(Ai.origin===f.origin&&ln)return Ai.pathname+Ai.search+Ai.hash}return qe}function createClientSideRequest(qe,f,ze,Ke){let Ai=qe.createURL(stripHashFromPath(f)).toString(),ln={signal:ze};if(Ke&&isMutationMethod(Ke.formMethod)){let{formMethod:dn,formEncType:gn}=Ke;ln.method=dn.toUpperCase(),gn==="application/json"?(ln.headers=new Headers({"Content-Type":gn}),ln.body=JSON.stringify(Ke.json)):gn==="text/plain"?ln.body=Ke.text:gn==="application/x-www-form-urlencoded"&&Ke.formData?ln.body=convertFormDataToSearchParams(Ke.formData):ln.body=Ke.formData}return new Request(Ai,ln)}function convertFormDataToSearchParams(qe){let f=new URLSearchParams;for(let[ze,Ke]of qe.entries())f.append(ze,typeof Ke=="string"?Ke:Ke.name);return f}function convertSearchParamsToFormData(qe){let f=new FormData;for(let[ze,Ke]of qe.entries())f.append(ze,Ke);return f}function processRouteLoaderData(qe,f,ze,Ke=!1,Ai=!1){let ln={},dn=null,gn,Hn=!1,Kn={},Qn=ze&&isErrorResult(ze[1])?ze[1].error:void 0;return qe.forEach(ys=>{if(!(ys.route.id in f))return;let vs=ys.route.id,Cs=f[vs];if(invariant(!isRedirectResult(Cs),"Cannot handle redirect results in processLoaderData"),isErrorResult(Cs)){let bs=Cs.error;if(Qn!==void 0&&(bs=Qn,Qn=void 0),dn=dn||{},Ai)dn[vs]=bs;else{let ia=findNearestBoundary(qe,vs);dn[ia.route.id]==null&&(dn[ia.route.id]=bs)}Ke||(ln[vs]=ResetLoaderDataSymbol),Hn||(Hn=!0,gn=isRouteErrorResponse(Cs.error)?Cs.error.status:500),Cs.headers&&(Kn[vs]=Cs.headers)}else ln[vs]=Cs.data,Cs.statusCode&&Cs.statusCode!==200&&!Hn&&(gn=Cs.statusCode),Cs.headers&&(Kn[vs]=Cs.headers)}),Qn!==void 0&&ze&&(dn={[ze[0]]:Qn},ze[2]&&(ln[ze[2]]=void 0)),{loaderData:ln,errors:dn,statusCode:gn||200,loaderHeaders:Kn}}function processLoaderData(qe,f,ze,Ke,Ai,ln){let{loaderData:dn,errors:gn}=processRouteLoaderData(f,ze,Ke);return Ai.filter(Hn=>!Hn.matches||Hn.matches.some(Kn=>Kn.shouldLoad)).forEach(Hn=>{let{key:Kn,match:Qn,controller:ys}=Hn,vs=ln[Kn];if(invariant(vs,"Did not find corresponding fetcher result"),!(ys&&ys.signal.aborted))if(isErrorResult(vs)){let Cs=findNearestBoundary(qe.matches,Qn==null?void 0:Qn.route.id);gn&&gn[Cs.route.id]||(gn={...gn,[Cs.route.id]:vs.error}),qe.fetchers.delete(Kn)}else if(isRedirectResult(vs))invariant(!1,"Unhandled fetcher revalidation redirect");else{let Cs=getDoneFetcher(vs.data);qe.fetchers.set(Kn,Cs)}}),{loaderData:dn,errors:gn}}function mergeLoaderData(qe,f,ze,Ke){let Ai=Object.entries(f).filter(([,ln])=>ln!==ResetLoaderDataSymbol).reduce((ln,[dn,gn])=>(ln[dn]=gn,ln),{});for(let ln of ze){let dn=ln.route.id;if(!f.hasOwnProperty(dn)&&qe.hasOwnProperty(dn)&&ln.route.loader&&(Ai[dn]=qe[dn]),Ke&&Ke.hasOwnProperty(dn))break}return Ai}function getActionDataForCommit(qe){return qe?isErrorResult(qe[1])?{actionData:{}}:{actionData:{[qe[0]]:qe[1].data}}:{}}function findNearestBoundary(qe,f){return(f?qe.slice(0,qe.findIndex(Ke=>Ke.route.id===f)+1):[...qe]).reverse().find(Ke=>Ke.route.hasErrorBoundary===!0)||qe[0]}function getShortCircuitMatches(qe){let f=qe.length===1?qe[0]:qe.find(ze=>ze.index||!ze.path||ze.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:f}],route:f}}function getInternalRouterError(qe,{pathname:f,routeId:ze,method:Ke,type:Ai,message:ln}={}){let dn="Unknown Server Error",gn="Unknown @remix-run/router error";return qe===400?(dn="Bad Request",Ke&&f&&ze?gn=`You made a ${Ke} request to "${f}" but did not provide a \`loader\` for route "${ze}", so there is no way to handle the request.`:Ai==="invalid-body"&&(gn="Unable to encode submission body")):qe===403?(dn="Forbidden",gn=`Route "${ze}" does not match URL "${f}"`):qe===404?(dn="Not Found",gn=`No route matches URL "${f}"`):qe===405&&(dn="Method Not Allowed",Ke&&f&&ze?gn=`You made a ${Ke.toUpperCase()} request to "${f}" but did not provide an \`action\` for route "${ze}", so there is no way to handle the request.`:Ke&&(gn=`Invalid request method "${Ke.toUpperCase()}"`)),new ErrorResponseImpl(qe||500,dn,new Error(gn),!0)}function findRedirect(qe){let f=Object.entries(qe);for(let ze=f.length-1;ze>=0;ze--){let[Ke,Ai]=f[ze];if(isRedirectResult(Ai))return{key:Ke,result:Ai}}}function stripHashFromPath(qe){let f=typeof qe=="string"?parsePath(qe):qe;return createPath({...f,hash:""})}function isHashChangeOnly(qe,f){return qe.pathname!==f.pathname||qe.search!==f.search?!1:qe.hash===""?f.hash!=="":qe.hash===f.hash?!0:f.hash!==""}function isRedirectDataStrategyResult(qe){return isResponse(qe.result)&&redirectStatusCodes.has(qe.result.status)}function isErrorResult(qe){return qe.type==="error"}function isRedirectResult(qe){return(qe&&qe.type)==="redirect"}function isDataWithResponseInit(qe){return typeof qe=="object"&&qe!=null&&"type"in qe&&"data"in qe&&"init"in qe&&qe.type==="DataWithResponseInit"}function isResponse(qe){return qe!=null&&typeof qe.status=="number"&&typeof qe.statusText=="string"&&typeof qe.headers=="object"&&typeof qe.body<"u"}function isValidMethod(qe){return validRequestMethods.has(qe.toUpperCase())}function isMutationMethod(qe){return validMutationMethods.has(qe.toUpperCase())}function hasNakedIndexQuery(qe){return new URLSearchParams(qe).getAll("index").some(f=>f==="")}function getTargetMatch(qe,f){let ze=typeof f=="string"?parsePath(f).search:f.search;if(qe[qe.length-1].route.index&&hasNakedIndexQuery(ze||""))return qe[qe.length-1];let Ke=getPathContributingMatches(qe);return Ke[Ke.length-1]}function getSubmissionFromNavigation(qe){let{formMethod:f,formAction:ze,formEncType:Ke,text:Ai,formData:ln,json:dn}=qe;if(!(!f||!ze||!Ke)){if(Ai!=null)return{formMethod:f,formAction:ze,formEncType:Ke,formData:void 0,json:void 0,text:Ai};if(ln!=null)return{formMethod:f,formAction:ze,formEncType:Ke,formData:ln,json:void 0,text:void 0};if(dn!==void 0)return{formMethod:f,formAction:ze,formEncType:Ke,formData:void 0,json:dn,text:void 0}}}function getLoadingNavigation(qe,f){return f?{state:"loading",location:qe,formMethod:f.formMethod,formAction:f.formAction,formEncType:f.formEncType,formData:f.formData,json:f.json,text:f.text}:{state:"loading",location:qe,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function getSubmittingNavigation(qe,f){return{state:"submitting",location:qe,formMethod:f.formMethod,formAction:f.formAction,formEncType:f.formEncType,formData:f.formData,json:f.json,text:f.text}}function getLoadingFetcher(qe,f){return qe?{state:"loading",formMethod:qe.formMethod,formAction:qe.formAction,formEncType:qe.formEncType,formData:qe.formData,json:qe.json,text:qe.text,data:f}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:f}}function getSubmittingFetcher(qe,f){return{state:"submitting",formMethod:qe.formMethod,formAction:qe.formAction,formEncType:qe.formEncType,formData:qe.formData,json:qe.json,text:qe.text,data:f?f.data:void 0}}function getDoneFetcher(qe){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:qe}}function restoreAppliedTransitions(qe,f){try{let ze=qe.sessionStorage.getItem(TRANSITIONS_STORAGE_KEY);if(ze){let Ke=JSON.parse(ze);for(let[Ai,ln]of Object.entries(Ke||{}))ln&&Array.isArray(ln)&&f.set(Ai,new Set(ln||[]))}}catch{}}function persistAppliedTransitions(qe,f){if(f.size>0){let ze={};for(let[Ke,Ai]of f)ze[Ke]=[...Ai];try{qe.sessionStorage.setItem(TRANSITIONS_STORAGE_KEY,JSON.stringify(ze))}catch(Ke){warning(!1,`Failed to save applied view transitions in sessionStorage (${Ke}).`)}}}function createDeferred(){let qe,f,ze=new Promise((Ke,Ai)=>{qe=async ln=>{Ke(ln);try{await ze}catch{}},f=async ln=>{Ai(ln);try{await ze}catch{}}});return{promise:ze,resolve:qe,reject:f}}var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(qe,{relative:f}={}){invariant(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:ze,navigator:Ke}=reactExports.useContext(NavigationContext),{hash:Ai,pathname:ln,search:dn}=useResolvedPath(qe,{relative:f}),gn=ln;return ze!=="/"&&(gn=ln==="/"?ze:joinPaths([ze,ln])),Ke.createHref({pathname:gn,search:dn,hash:Ai})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect(qe){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(qe)}function useNavigate(){let{isDataRoute:qe}=reactExports.useContext(RouteContext);return qe?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let qe=reactExports.useContext(DataRouterContext),{basename:f,navigator:ze}=reactExports.useContext(NavigationContext),{matches:Ke}=reactExports.useContext(RouteContext),{pathname:Ai}=useLocation(),ln=JSON.stringify(getResolveToMatches(Ke)),dn=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{dn.current=!0}),reactExports.useCallback((Hn,Kn={})=>{if(warning(dn.current,navigateEffectWarning),!dn.current)return;if(typeof Hn=="number"){ze.go(Hn);return}let Qn=resolveTo(Hn,JSON.parse(ln),Ai,Kn.relative==="path");qe==null&&f!=="/"&&(Qn.pathname=Qn.pathname==="/"?f:joinPaths([f,Qn.pathname])),(Kn.replace?ze.replace:ze.push)(Qn,Kn.state,Kn)},[f,ze,ln,Ai,qe])}var OutletContext=reactExports.createContext(null);function useOutlet(qe){let f=reactExports.useContext(RouteContext).outlet;return f&&reactExports.createElement(OutletContext.Provider,{value:qe},f)}function useResolvedPath(qe,{relative:f}={}){let{matches:ze}=reactExports.useContext(RouteContext),{pathname:Ke}=useLocation(),Ai=JSON.stringify(getResolveToMatches(ze));return reactExports.useMemo(()=>resolveTo(qe,JSON.parse(Ai),Ke,f==="path"),[qe,Ai,Ke,f])}function useRoutesImpl(qe,f,ze,Ke){invariant(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:Ai,static:ln}=reactExports.useContext(NavigationContext),{matches:dn}=reactExports.useContext(RouteContext),gn=dn[dn.length-1],Hn=gn?gn.params:{},Kn=gn?gn.pathname:"/",Qn=gn?gn.pathnameBase:"/",ys=gn&&gn.route;{let sa=ys&&ys.path||"";warningOnce(Kn,!ys||sa.endsWith("*")||sa.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${Kn}" (under <Route path="${sa}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${sa}"> to <Route path="${sa==="/"?"*":`${sa}/*`}">.`)}let vs=useLocation(),Cs;Cs=vs;let bs=Cs.pathname||"/",ia=bs;if(Qn!=="/"){let sa=Qn.replace(/^\//,"").split("/");ia="/"+bs.replace(/^\//,"").split("/").slice(sa.length).join("/")}let la=!ln&&ze&&ze.matches&&ze.matches.length>0?ze.matches:matchRoutes(qe,{pathname:ia});return warning(ys||la!=null,`No routes matched location "${Cs.pathname}${Cs.search}${Cs.hash}" `),warning(la==null||la[la.length-1].route.element!==void 0||la[la.length-1].route.Component!==void 0||la[la.length-1].route.lazy!==void 0,`Matched leaf route at location "${Cs.pathname}${Cs.search}${Cs.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),_renderMatches(la&&la.map(sa=>Object.assign({},sa,{params:Object.assign({},Hn,sa.params),pathname:joinPaths([Qn,Ai.encodeLocation?Ai.encodeLocation(sa.pathname).pathname:sa.pathname]),pathnameBase:sa.pathnameBase==="/"?Qn:joinPaths([Qn,Ai.encodeLocation?Ai.encodeLocation(sa.pathnameBase).pathname:sa.pathnameBase])})),dn,ze,Ke)}function DefaultErrorComponent(){let qe=useRouteError(),f=isRouteErrorResponse(qe)?`${qe.status} ${qe.statusText}`:qe instanceof Error?qe.message:JSON.stringify(qe),ze=qe instanceof Error?qe.stack:null,Ke="rgba(200,200,200, 0.5)",Ai={padding:"0.5rem",backgroundColor:Ke},ln={padding:"2px 4px",backgroundColor:Ke},dn=null;return console.error("Error handled by React Router default ErrorBoundary:",qe),dn=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:ln},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:ln},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},f),ze?reactExports.createElement("pre",{style:Ai},ze):null,dn)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(qe){super(qe),this.state={location:qe.location,revalidation:qe.revalidation,error:qe.error}}static getDerivedStateFromError(qe){return{error:qe}}static getDerivedStateFromProps(qe,f){return f.location!==qe.location||f.revalidation!=="idle"&&qe.revalidation==="idle"?{error:qe.error,location:qe.location,revalidation:qe.revalidation}:{error:qe.error!==void 0?qe.error:f.error,location:f.location,revalidation:qe.revalidation||f.revalidation}}componentDidCatch(qe,f){console.error("React Router caught the following error during render",qe,f)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:qe,match:f,children:ze}){let Ke=reactExports.useContext(DataRouterContext);return Ke&&Ke.static&&Ke.staticContext&&(f.route.errorElement||f.route.ErrorBoundary)&&(Ke.staticContext._deepestRenderedBoundaryId=f.route.id),reactExports.createElement(RouteContext.Provider,{value:qe},ze)}function _renderMatches(qe,f=[],ze=null,Ke=null){if(qe==null){if(!ze)return null;if(ze.errors)qe=ze.matches;else if(f.length===0&&!ze.initialized&&ze.matches.length>0)qe=ze.matches;else return null}let Ai=qe,ln=ze==null?void 0:ze.errors;if(ln!=null){let Hn=Ai.findIndex(Kn=>Kn.route.id&&(ln==null?void 0:ln[Kn.route.id])!==void 0);invariant(Hn>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(ln).join(",")}`),Ai=Ai.slice(0,Math.min(Ai.length,Hn+1))}let dn=!1,gn=-1;if(ze)for(let Hn=0;Hn<Ai.length;Hn++){let Kn=Ai[Hn];if((Kn.route.HydrateFallback||Kn.route.hydrateFallbackElement)&&(gn=Hn),Kn.route.id){let{loaderData:Qn,errors:ys}=ze,vs=Kn.route.loader&&!Qn.hasOwnProperty(Kn.route.id)&&(!ys||ys[Kn.route.id]===void 0);if(Kn.route.lazy||vs){dn=!0,gn>=0?Ai=Ai.slice(0,gn+1):Ai=[Ai[0]];break}}}return Ai.reduceRight((Hn,Kn,Qn)=>{let ys,vs=!1,Cs=null,bs=null;ze&&(ys=ln&&Kn.route.id?ln[Kn.route.id]:void 0,Cs=Kn.route.errorElement||defaultErrorElement,dn&&(gn<0&&Qn===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),vs=!0,bs=null):gn===Qn&&(vs=!0,bs=Kn.route.hydrateFallbackElement||null)));let ia=f.concat(Ai.slice(0,Qn+1)),la=()=>{let ra;return ys?ra=Cs:vs?ra=bs:Kn.route.Component?ra=reactExports.createElement(Kn.route.Component,null):Kn.route.element?ra=Kn.route.element:ra=Hn,reactExports.createElement(RenderedRoute,{match:Kn,routeContext:{outlet:Hn,matches:ia,isDataRoute:ze!=null},children:ra})};return ze&&(Kn.route.ErrorBoundary||Kn.route.errorElement||Qn===0)?reactExports.createElement(RenderErrorBoundary,{location:ze.location,revalidation:ze.revalidation,component:Cs,error:ys,children:la(),routeContext:{outlet:null,matches:ia,isDataRoute:!0}}):la()},null)}function getDataRouterConsoleError(qe){return`${qe} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(qe){let f=reactExports.useContext(DataRouterContext);return invariant(f,getDataRouterConsoleError(qe)),f}function useDataRouterState(qe){let f=reactExports.useContext(DataRouterStateContext);return invariant(f,getDataRouterConsoleError(qe)),f}function useRouteContext(qe){let f=reactExports.useContext(RouteContext);return invariant(f,getDataRouterConsoleError(qe)),f}function useCurrentRouteId(qe){let f=useRouteContext(qe),ze=f.matches[f.matches.length-1];return invariant(ze.route.id,`${qe} can only be used on routes that contain a unique "id"`),ze.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){var Ke;let qe=reactExports.useContext(RouteErrorContext),f=useDataRouterState("useRouteError"),ze=useCurrentRouteId("useRouteError");return qe!==void 0?qe:(Ke=f.errors)==null?void 0:Ke[ze]}function useNavigateStable(){let{router:qe}=useDataRouterContext("useNavigate"),f=useCurrentRouteId("useNavigate"),ze=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{ze.current=!0}),reactExports.useCallback(async(Ai,ln={})=>{warning(ze.current,navigateEffectWarning),ze.current&&(typeof Ai=="number"?qe.navigate(Ai):await qe.navigate(Ai,{fromRouteId:f,...ln}))},[qe,f])}var alreadyWarned={};function warningOnce(qe,f,ze){!f&&!alreadyWarned[qe]&&(alreadyWarned[qe]=!0,warning(!1,ze))}var alreadyWarned2={};function warnOnce(qe,f){!qe&&!alreadyWarned2[f]&&(alreadyWarned2[f]=!0,console.warn(f))}function mapRouteProperties(qe){let f={hasErrorBoundary:qe.hasErrorBoundary||qe.ErrorBoundary!=null||qe.errorElement!=null};return qe.Component&&(qe.element&&warning(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(f,{element:reactExports.createElement(qe.Component),Component:void 0})),qe.HydrateFallback&&(qe.hydrateFallbackElement&&warning(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(f,{hydrateFallbackElement:reactExports.createElement(qe.HydrateFallback),HydrateFallback:void 0})),qe.ErrorBoundary&&(qe.errorElement&&warning(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(f,{errorElement:reactExports.createElement(qe.ErrorBoundary),ErrorBoundary:void 0})),f}var hydrationRouteProperties=["HydrateFallback","hydrateFallbackElement"],Deferred=class{constructor(){this.status="pending",this.promise=new Promise((qe,f)=>{this.resolve=ze=>{this.status==="pending"&&(this.status="resolved",qe(ze))},this.reject=ze=>{this.status==="pending"&&(this.status="rejected",f(ze))}})}};function RouterProvider({router:qe,flushSync:f}){let[ze,Ke]=reactExports.useState(qe.state),[Ai,ln]=reactExports.useState(),[dn,gn]=reactExports.useState({isTransitioning:!1}),[Hn,Kn]=reactExports.useState(),[Qn,ys]=reactExports.useState(),[vs,Cs]=reactExports.useState(),bs=reactExports.useRef(new Map),ia=reactExports.useCallback((na,{deletedFetchers:aa,flushSync:oa,viewTransitionOpts:ha})=>{na.fetchers.forEach((va,Sa)=>{va.data!==void 0&&bs.current.set(Sa,va.data)}),aa.forEach(va=>bs.current.delete(va)),warnOnce(oa===!1||f!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let ga=qe.window!=null&&qe.window.document!=null&&typeof qe.window.document.startViewTransition=="function";if(warnOnce(ha==null||ga,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ha||!ga){f&&oa?f(()=>Ke(na)):reactExports.startTransition(()=>Ke(na));return}if(f&&oa){f(()=>{Qn&&(Hn&&Hn.resolve(),Qn.skipTransition()),gn({isTransitioning:!0,flushSync:!0,currentLocation:ha.currentLocation,nextLocation:ha.nextLocation})});let va=qe.window.document.startViewTransition(()=>{f(()=>Ke(na))});va.finished.finally(()=>{f(()=>{Kn(void 0),ys(void 0),ln(void 0),gn({isTransitioning:!1})})}),f(()=>ys(va));return}Qn?(Hn&&Hn.resolve(),Qn.skipTransition(),Cs({state:na,currentLocation:ha.currentLocation,nextLocation:ha.nextLocation})):(ln(na),gn({isTransitioning:!0,flushSync:!1,currentLocation:ha.currentLocation,nextLocation:ha.nextLocation}))},[qe.window,f,Qn,Hn]);reactExports.useLayoutEffect(()=>qe.subscribe(ia),[qe,ia]),reactExports.useEffect(()=>{dn.isTransitioning&&!dn.flushSync&&Kn(new Deferred)},[dn]),reactExports.useEffect(()=>{if(Hn&&Ai&&qe.window){let na=Ai,aa=Hn.promise,oa=qe.window.document.startViewTransition(async()=>{reactExports.startTransition(()=>Ke(na)),await aa});oa.finished.finally(()=>{Kn(void 0),ys(void 0),ln(void 0),gn({isTransitioning:!1})}),ys(oa)}},[Ai,Hn,qe.window]),reactExports.useEffect(()=>{Hn&&Ai&&ze.location.key===Ai.location.key&&Hn.resolve()},[Hn,Qn,ze.location,Ai]),reactExports.useEffect(()=>{!dn.isTransitioning&&vs&&(ln(vs.state),gn({isTransitioning:!0,flushSync:!1,currentLocation:vs.currentLocation,nextLocation:vs.nextLocation}),Cs(void 0))},[dn.isTransitioning,vs]);let la=reactExports.useMemo(()=>({createHref:qe.createHref,encodeLocation:qe.encodeLocation,go:na=>qe.navigate(na),push:(na,aa,oa)=>qe.navigate(na,{state:aa,preventScrollReset:oa==null?void 0:oa.preventScrollReset}),replace:(na,aa,oa)=>qe.navigate(na,{replace:!0,state:aa,preventScrollReset:oa==null?void 0:oa.preventScrollReset})}),[qe]),ra=qe.basename||"/",sa=reactExports.useMemo(()=>({router:qe,navigator:la,static:!1,basename:ra}),[qe,la,ra]);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(DataRouterContext.Provider,{value:sa},reactExports.createElement(DataRouterStateContext.Provider,{value:ze},reactExports.createElement(FetchersContext.Provider,{value:bs.current},reactExports.createElement(ViewTransitionContext.Provider,{value:dn},reactExports.createElement(Router,{basename:ra,location:ze.location,navigationType:ze.historyAction,navigator:la},reactExports.createElement(MemoizedDataRoutes,{routes:qe.routes,future:qe.future,state:ze})))))),null)}var MemoizedDataRoutes=reactExports.memo(DataRoutes);function DataRoutes({routes:qe,future:f,state:ze}){return useRoutesImpl(qe,void 0,ze,f)}function Outlet(qe){return useOutlet(qe.context)}function Router({basename:qe="/",children:f=null,location:ze,navigationType:Ke="POP",navigator:Ai,static:ln=!1}){invariant(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let dn=qe.replace(/^\/*/,"/"),gn=reactExports.useMemo(()=>({basename:dn,navigator:Ai,static:ln,future:{}}),[dn,Ai,ln]);typeof ze=="string"&&(ze=parsePath(ze));let{pathname:Hn="/",search:Kn="",hash:Qn="",state:ys=null,key:vs="default"}=ze,Cs=reactExports.useMemo(()=>{let bs=stripBasename(Hn,dn);return bs==null?null:{location:{pathname:bs,search:Kn,hash:Qn,state:ys,key:vs},navigationType:Ke}},[dn,Hn,Kn,Qn,ys,vs,Ke]);return warning(Cs!=null,`<Router basename="${dn}"> is not able to match the URL "${Hn}${Kn}${Qn}" because it does not start with the basename, so the <Router> won't render anything.`),Cs==null?null:reactExports.createElement(NavigationContext.Provider,{value:gn},reactExports.createElement(LocationContext.Provider,{children:f,value:Cs}))}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(qe){return qe!=null&&typeof qe.tagName=="string"}function isButtonElement(qe){return isHtmlElement(qe)&&qe.tagName.toLowerCase()==="button"}function isFormElement(qe){return isHtmlElement(qe)&&qe.tagName.toLowerCase()==="form"}function isInputElement(qe){return isHtmlElement(qe)&&qe.tagName.toLowerCase()==="input"}function isModifiedEvent(qe){return!!(qe.metaKey||qe.altKey||qe.ctrlKey||qe.shiftKey)}function shouldProcessLinkClick(qe,f){return qe.button===0&&(!f||f==="_self")&&!isModifiedEvent(qe)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(qe){return qe!=null&&!supportedFormEncTypes.has(qe)?(warning(!1,`"${qe}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):qe}function getFormSubmissionInfo(qe,f){let ze,Ke,Ai,ln,dn;if(isFormElement(qe)){let gn=qe.getAttribute("action");Ke=gn?stripBasename(gn,f):null,ze=qe.getAttribute("method")||defaultMethod,Ai=getFormEncType(qe.getAttribute("enctype"))||defaultEncType,ln=new FormData(qe)}else if(isButtonElement(qe)||isInputElement(qe)&&(qe.type==="submit"||qe.type==="image")){let gn=qe.form;if(gn==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let Hn=qe.getAttribute("formaction")||gn.getAttribute("action");if(Ke=Hn?stripBasename(Hn,f):null,ze=qe.getAttribute("formmethod")||gn.getAttribute("method")||defaultMethod,Ai=getFormEncType(qe.getAttribute("formenctype"))||getFormEncType(gn.getAttribute("enctype"))||defaultEncType,ln=new FormData(gn,qe),!isFormDataSubmitterSupported()){let{name:Kn,type:Qn,value:ys}=qe;if(Qn==="image"){let vs=Kn?`${Kn}.`:"";ln.append(`${vs}x`,"0"),ln.append(`${vs}y`,"0")}else Kn&&ln.append(Kn,ys)}}else{if(isHtmlElement(qe))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');ze=defaultMethod,Ke=null,Ai=defaultEncType,dn=qe}return ln&&Ai==="text/plain"&&(dn=ln,ln=void 0),{action:Ke,method:ze.toLowerCase(),encType:Ai,formData:ln,body:dn}}function invariant2(qe,f){if(qe===!1||qe===null||typeof qe>"u")throw new Error(f)}async function loadRouteModule(qe,f){if(qe.id in f)return f[qe.id];try{let ze=await import(qe.module);return f[qe.id]=ze,ze}catch(ze){return console.error(`Error loading route module \`${qe.module}\`, reloading page...`),console.error(ze),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(qe){return qe==null?!1:qe.href==null?qe.rel==="preload"&&typeof qe.imageSrcSet=="string"&&typeof qe.imageSizes=="string":typeof qe.rel=="string"&&typeof qe.href=="string"}async function getKeyedPrefetchLinks(qe,f,ze){let Ke=await Promise.all(qe.map(async Ai=>{let ln=f.routes[Ai.route.id];if(ln){let dn=await loadRouteModule(ln,ze);return dn.links?dn.links():[]}return[]}));return dedupeLinkDescriptors(Ke.flat(1).filter(isHtmlLinkDescriptor).filter(Ai=>Ai.rel==="stylesheet"||Ai.rel==="preload").map(Ai=>Ai.rel==="stylesheet"?{...Ai,rel:"prefetch",as:"style"}:{...Ai,rel:"prefetch"}))}function getNewMatchesForLinks(qe,f,ze,Ke,Ai,ln){let dn=(Hn,Kn)=>ze[Kn]?Hn.route.id!==ze[Kn].route.id:!0,gn=(Hn,Kn)=>{var Qn;return ze[Kn].pathname!==Hn.pathname||((Qn=ze[Kn].route.path)==null?void 0:Qn.endsWith("*"))&&ze[Kn].params["*"]!==Hn.params["*"]};return ln==="assets"?f.filter((Hn,Kn)=>dn(Hn,Kn)||gn(Hn,Kn)):ln==="data"?f.filter((Hn,Kn)=>{var ys;let Qn=Ke.routes[Hn.route.id];if(!Qn||!Qn.hasLoader)return!1;if(dn(Hn,Kn)||gn(Hn,Kn))return!0;if(Hn.route.shouldRevalidate){let vs=Hn.route.shouldRevalidate({currentUrl:new URL(Ai.pathname+Ai.search+Ai.hash,window.origin),currentParams:((ys=ze[0])==null?void 0:ys.params)||{},nextUrl:new URL(qe,window.origin),nextParams:Hn.params,defaultShouldRevalidate:!0});if(typeof vs=="boolean")return vs}return!0}):[]}function getModuleLinkHrefs(qe,f,{includeHydrateFallback:ze}={}){return dedupeHrefs(qe.map(Ke=>{let Ai=f.routes[Ke.route.id];if(!Ai)return[];let ln=[Ai.module];return Ai.clientActionModule&&(ln=ln.concat(Ai.clientActionModule)),Ai.clientLoaderModule&&(ln=ln.concat(Ai.clientLoaderModule)),ze&&Ai.hydrateFallbackModule&&(ln=ln.concat(Ai.hydrateFallbackModule)),Ai.imports&&(ln=ln.concat(Ai.imports)),ln}).flat(1))}function dedupeHrefs(qe){return[...new Set(qe)]}function sortKeys(qe){let f={},ze=Object.keys(qe).sort();for(let Ke of ze)f[Ke]=qe[Ke];return f}function dedupeLinkDescriptors(qe,f){let ze=new Set;return new Set(f),qe.reduce((Ke,Ai)=>{let ln=JSON.stringify(sortKeys(Ai));return ze.has(ln)||(ze.add(ln),Ke.push({key:ln,link:Ai})),Ke},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var NO_BODY_STATUS_CODES=new Set([100,101,204,205]);function singleFetchUrl(qe,f){let ze=typeof qe=="string"?new URL(qe,typeof window>"u"?"server://singlefetch/":window.location.origin):qe;return ze.pathname==="/"?ze.pathname="_root.data":f&&stripBasename(ze.pathname,f)==="/"?ze.pathname=`${f.replace(/\/$/,"")}/_root.data`:ze.pathname=`${ze.pathname.replace(/\/$/,"")}.data`,ze}function useDataRouterContext2(){let qe=reactExports.useContext(DataRouterContext);return invariant2(qe,"You must render this element inside a <DataRouterContext.Provider> element"),qe}function useDataRouterStateContext(){let qe=reactExports.useContext(DataRouterStateContext);return invariant2(qe,"You must render this element inside a <DataRouterStateContext.Provider> element"),qe}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let qe=reactExports.useContext(FrameworkContext);return invariant2(qe,"You must render this element inside a <HydratedRouter> element"),qe}function usePrefetchBehavior(qe,f){let ze=reactExports.useContext(FrameworkContext),[Ke,Ai]=reactExports.useState(!1),[ln,dn]=reactExports.useState(!1),{onFocus:gn,onBlur:Hn,onMouseEnter:Kn,onMouseLeave:Qn,onTouchStart:ys}=f,vs=reactExports.useRef(null);reactExports.useEffect(()=>{if(qe==="render"&&dn(!0),qe==="viewport"){let ia=ra=>{ra.forEach(sa=>{dn(sa.isIntersecting)})},la=new IntersectionObserver(ia,{threshold:.5});return vs.current&&la.observe(vs.current),()=>{la.disconnect()}}},[qe]),reactExports.useEffect(()=>{if(Ke){let ia=setTimeout(()=>{dn(!0)},100);return()=>{clearTimeout(ia)}}},[Ke]);let Cs=()=>{Ai(!0)},bs=()=>{Ai(!1),dn(!1)};return ze?qe!=="intent"?[ln,vs,{}]:[ln,vs,{onFocus:composeEventHandlers(gn,Cs),onBlur:composeEventHandlers(Hn,bs),onMouseEnter:composeEventHandlers(Kn,Cs),onMouseLeave:composeEventHandlers(Qn,bs),onTouchStart:composeEventHandlers(ys,Cs)}]:[!1,vs,{}]}function composeEventHandlers(qe,f){return ze=>{qe&&qe(ze),ze.defaultPrevented||f(ze)}}function PrefetchPageLinks({page:qe,...f}){let{router:ze}=useDataRouterContext2(),Ke=reactExports.useMemo(()=>matchRoutes(ze.routes,qe,ze.basename),[ze.routes,qe,ze.basename]);return Ke?reactExports.createElement(PrefetchPageLinksImpl,{page:qe,matches:Ke,...f}):null}function useKeyedPrefetchLinks(qe){let{manifest:f,routeModules:ze}=useFrameworkContext(),[Ke,Ai]=reactExports.useState([]);return reactExports.useEffect(()=>{let ln=!1;return getKeyedPrefetchLinks(qe,f,ze).then(dn=>{ln||Ai(dn)}),()=>{ln=!0}},[qe,f,ze]),Ke}function PrefetchPageLinksImpl({page:qe,matches:f,...ze}){let Ke=useLocation(),{manifest:Ai,routeModules:ln}=useFrameworkContext(),{basename:dn}=useDataRouterContext2(),{loaderData:gn,matches:Hn}=useDataRouterStateContext(),Kn=reactExports.useMemo(()=>getNewMatchesForLinks(qe,f,Hn,Ai,Ke,"data"),[qe,f,Hn,Ai,Ke]),Qn=reactExports.useMemo(()=>getNewMatchesForLinks(qe,f,Hn,Ai,Ke,"assets"),[qe,f,Hn,Ai,Ke]),ys=reactExports.useMemo(()=>{if(qe===Ke.pathname+Ke.search+Ke.hash)return[];let bs=new Set,ia=!1;if(f.forEach(ra=>{var na;let sa=Ai.routes[ra.route.id];!sa||!sa.hasLoader||(!Kn.some(aa=>aa.route.id===ra.route.id)&&ra.route.id in gn&&((na=ln[ra.route.id])!=null&&na.shouldRevalidate)||sa.hasClientLoader?ia=!0:bs.add(ra.route.id))}),bs.size===0)return[];let la=singleFetchUrl(qe,dn);return ia&&bs.size>0&&la.searchParams.set("_routes",f.filter(ra=>bs.has(ra.route.id)).map(ra=>ra.route.id).join(",")),[la.pathname+la.search]},[dn,gn,Ke,Ai,Kn,f,qe,ln]),vs=reactExports.useMemo(()=>getModuleLinkHrefs(Qn,Ai),[Qn,Ai]),Cs=useKeyedPrefetchLinks(Qn);return reactExports.createElement(reactExports.Fragment,null,ys.map(bs=>reactExports.createElement("link",{key:bs,rel:"prefetch",as:"fetch",href:bs,...ze})),vs.map(bs=>reactExports.createElement("link",{key:bs,rel:"modulepreload",href:bs,...ze})),Cs.map(({key:bs,link:ia})=>reactExports.createElement("link",{key:bs,...ia})))}function mergeRefs(...qe){return f=>{qe.forEach(ze=>{typeof ze=="function"?ze(f):ze!=null&&(ze.current=f)})}}var isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser&&(window.__reactRouterVersion="7.6.0")}catch{}function createBrowserRouter(qe,f){return createRouter({basename:f==null?void 0:f.basename,unstable_getContext:f==null?void 0:f.unstable_getContext,future:f==null?void 0:f.future,history:createBrowserHistory({window:f==null?void 0:f.window}),hydrationData:parseHydrationData(),routes:qe,mapRouteProperties,hydrationRouteProperties,dataStrategy:f==null?void 0:f.dataStrategy,patchRoutesOnNavigation:f==null?void 0:f.patchRoutesOnNavigation,window:f==null?void 0:f.window}).initialize()}function parseHydrationData(){let qe=window==null?void 0:window.__staticRouterHydrationData;return qe&&qe.errors&&(qe={...qe,errors:deserializeErrors(qe.errors)}),qe}function deserializeErrors(qe){if(!qe)return null;let f=Object.entries(qe),ze={};for(let[Ke,Ai]of f)if(Ai&&Ai.__type==="RouteErrorResponse")ze[Ke]=new ErrorResponseImpl(Ai.status,Ai.statusText,Ai.data,Ai.internal===!0);else if(Ai&&Ai.__type==="Error"){if(Ai.__subType){let ln=window[Ai.__subType];if(typeof ln=="function")try{let dn=new ln(Ai.message);dn.stack="",ze[Ke]=dn}catch{}}if(ze[Ke]==null){let ln=new Error(Ai.message);ln.stack="",ze[Ke]=ln}}else ze[Ke]=Ai;return ze}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:f,discover:ze="render",prefetch:Ke="none",relative:Ai,reloadDocument:ln,replace:dn,state:gn,target:Hn,to:Kn,preventScrollReset:Qn,viewTransition:ys,...vs},Cs){let{basename:bs}=reactExports.useContext(NavigationContext),ia=typeof Kn=="string"&&ABSOLUTE_URL_REGEX2.test(Kn),la,ra=!1;if(typeof Kn=="string"&&ia&&(la=Kn,isBrowser))try{let Sa=new URL(window.location.href),tl=Kn.startsWith("//")?new URL(Sa.protocol+Kn):new URL(Kn),Zo=stripBasename(tl.pathname,bs);tl.origin===Sa.origin&&Zo!=null?Kn=Zo+tl.search+tl.hash:ra=!0}catch{warning(!1,`<Link to="${Kn}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let sa=useHref(Kn,{relative:Ai}),[na,aa,oa]=usePrefetchBehavior(Ke,vs),ha=useLinkClickHandler(Kn,{replace:dn,state:gn,target:Hn,preventScrollReset:Qn,relative:Ai,viewTransition:ys});function ga(Sa){f&&f(Sa),Sa.defaultPrevented||ha(Sa)}let va=reactExports.createElement("a",{...vs,...oa,href:la||sa,onClick:ra||ln?f:ga,ref:mergeRefs(Cs,aa),target:Hn,"data-discover":!ia&&ze==="render"?"true":void 0});return na&&!ia?reactExports.createElement(reactExports.Fragment,null,va,reactExports.createElement(PrefetchPageLinks,{page:sa})):va});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":f="page",caseSensitive:ze=!1,className:Ke="",end:Ai=!1,style:ln,to:dn,viewTransition:gn,children:Hn,...Kn},Qn){let ys=useResolvedPath(dn,{relative:Kn.relative}),vs=useLocation(),Cs=reactExports.useContext(DataRouterStateContext),{navigator:bs,basename:ia}=reactExports.useContext(NavigationContext),la=Cs!=null&&useViewTransitionState(ys)&&gn===!0,ra=bs.encodeLocation?bs.encodeLocation(ys).pathname:ys.pathname,sa=vs.pathname,na=Cs&&Cs.navigation&&Cs.navigation.location?Cs.navigation.location.pathname:null;ze||(sa=sa.toLowerCase(),na=na?na.toLowerCase():null,ra=ra.toLowerCase()),na&&ia&&(na=stripBasename(na,ia)||na);const aa=ra!=="/"&&ra.endsWith("/")?ra.length-1:ra.length;let oa=sa===ra||!Ai&&sa.startsWith(ra)&&sa.charAt(aa)==="/",ha=na!=null&&(na===ra||!Ai&&na.startsWith(ra)&&na.charAt(ra.length)==="/"),ga={isActive:oa,isPending:ha,isTransitioning:la},va=oa?f:void 0,Sa;typeof Ke=="function"?Sa=Ke(ga):Sa=[Ke,oa?"active":null,ha?"pending":null,la?"transitioning":null].filter(Boolean).join(" ");let tl=typeof ln=="function"?ln(ga):ln;return reactExports.createElement(Link,{...Kn,"aria-current":va,className:Sa,ref:Qn,style:tl,to:dn,viewTransition:gn},typeof Hn=="function"?Hn(ga):Hn)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:qe="render",fetcherKey:f,navigate:ze,reloadDocument:Ke,replace:Ai,state:ln,method:dn=defaultMethod,action:gn,onSubmit:Hn,relative:Kn,preventScrollReset:Qn,viewTransition:ys,...vs},Cs)=>{let bs=useSubmit(),ia=useFormAction(gn,{relative:Kn}),la=dn.toLowerCase()==="get"?"get":"post",ra=typeof gn=="string"&&ABSOLUTE_URL_REGEX2.test(gn),sa=na=>{if(Hn&&Hn(na),na.defaultPrevented)return;na.preventDefault();let aa=na.nativeEvent.submitter,oa=(aa==null?void 0:aa.getAttribute("formmethod"))||dn;bs(aa||na.currentTarget,{fetcherKey:f,method:oa,navigate:ze,replace:Ai,state:ln,relative:Kn,preventScrollReset:Qn,viewTransition:ys})};return reactExports.createElement("form",{ref:Cs,method:la,action:ia,onSubmit:Ke?Hn:sa,...vs,"data-discover":!ra&&qe==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(qe){return`${qe} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(qe){let f=reactExports.useContext(DataRouterContext);return invariant(f,getDataRouterConsoleError2(qe)),f}function useLinkClickHandler(qe,{target:f,replace:ze,state:Ke,preventScrollReset:Ai,relative:ln,viewTransition:dn}={}){let gn=useNavigate(),Hn=useLocation(),Kn=useResolvedPath(qe,{relative:ln});return reactExports.useCallback(Qn=>{if(shouldProcessLinkClick(Qn,f)){Qn.preventDefault();let ys=ze!==void 0?ze:createPath(Hn)===createPath(Kn);gn(qe,{replace:ys,state:Ke,preventScrollReset:Ai,relative:ln,viewTransition:dn})}},[Hn,gn,Kn,ze,Ke,f,qe,Ai,ln,dn])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:qe}=useDataRouterContext3("useSubmit"),{basename:f}=reactExports.useContext(NavigationContext),ze=useRouteId();return reactExports.useCallback(async(Ke,Ai={})=>{let{action:ln,method:dn,encType:gn,formData:Hn,body:Kn}=getFormSubmissionInfo(Ke,f);if(Ai.navigate===!1){let Qn=Ai.fetcherKey||getUniqueFetcherId();await qe.fetch(Qn,ze,Ai.action||ln,{preventScrollReset:Ai.preventScrollReset,formData:Hn,body:Kn,formMethod:Ai.method||dn,formEncType:Ai.encType||gn,flushSync:Ai.flushSync})}else await qe.navigate(Ai.action||ln,{preventScrollReset:Ai.preventScrollReset,formData:Hn,body:Kn,formMethod:Ai.method||dn,formEncType:Ai.encType||gn,replace:Ai.replace,state:Ai.state,fromRouteId:ze,flushSync:Ai.flushSync,viewTransition:Ai.viewTransition})},[qe,f,ze])}function useFormAction(qe,{relative:f}={}){let{basename:ze}=reactExports.useContext(NavigationContext),Ke=reactExports.useContext(RouteContext);invariant(Ke,"useFormAction must be used inside a RouteContext");let[Ai]=Ke.matches.slice(-1),ln={...useResolvedPath(qe||".",{relative:f})},dn=useLocation();if(qe==null){ln.search=dn.search;let gn=new URLSearchParams(ln.search),Hn=gn.getAll("index");if(Hn.some(Qn=>Qn==="")){gn.delete("index"),Hn.filter(ys=>ys).forEach(ys=>gn.append("index",ys));let Qn=gn.toString();ln.search=Qn?`?${Qn}`:""}}return(!qe||qe===".")&&Ai.route.index&&(ln.search=ln.search?ln.search.replace(/^\?/,"?index&"):"?index"),ze!=="/"&&(ln.pathname=ln.pathname==="/"?ze:joinPaths([ze,ln.pathname])),createPath(ln)}function useViewTransitionState(qe,f={}){let ze=reactExports.useContext(ViewTransitionContext);invariant(ze!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:Ke}=useDataRouterContext3("useViewTransitionState"),Ai=useResolvedPath(qe,{relative:f.relative});if(!ze.isTransitioning)return!1;let ln=stripBasename(ze.currentLocation.pathname,Ke)||ze.currentLocation.pathname,dn=stripBasename(ze.nextLocation.pathname,Ke)||ze.nextLocation.pathname;return matchPath(Ai.pathname,dn)!=null||matchPath(Ai.pathname,ln)!=null}[...NO_BODY_STATUS_CODES];function CheckAnswerButton({handleCheckAnswerButtonClick:qe}){return jsxRuntimeExports.jsx("div",{className:"fixed right-20 top-30",children:jsxRuntimeExports.jsx("button",{onClick:qe,className:"rounded-2xl bg-yellow-300 back p-4 cursor-pointer text-2xl! transition-all duration-200 hover:scale-105 shadow-lg",style:{fontFamily:"BMJUA"},children:""})})}const MATH_QUIZ_LIST=[{id:1,question:"2 + 2 = ",answer:"4"},{id:2,question:"23 - 11 = ",answer:"12"},{id:3,question:"13 * 3 = ",answer:"39"}],ENG_QUIZ_LIST=[{id:1,parts:["have","i","a pen"],answer:"i have a pen"},{id:2,parts:["friend","she","my","is"],answer:"she is my friend"},{id:3,parts:["eat","i","chicken","want to"],answer:"i want to eat chicken"}],IDOL_QUIZ_LIST=[{id:1,front:["","","",""],back:["","","",""],answer:{:"",:"",:"",:""}},{id:2,front:["","","",""],back:["","","",""],answer:{:"",:"",:"",:""}},{id:3,front:["","","",""],back:["","","","BTS"],answer:{:"",:"",:"",:"BTS"}}],correctImage="/OJT-quiz/assets/correct-CFYrYeMs.png",inCorrectImage="/OJT-quiz/assets/incorrect-Ch4aWeqQ.png",gameOverImage="/OJT-quiz/assets/gameover-BDsMFVlJ.png",gameClearImage="/OJT-quiz/assets/gameclear-D1Bsix7P.png",TOTAL_STEPS=3,TOTAL_CHANCES=3,SUBJECTS=["","",""],MATH_TITLE="1 - ",INIT_ANSWER="",MODAL_IMAGE_URL={correct:correctImage,incorrect:inCorrectImage,gameOver:gameOverImage,gameClear:gameClearImage},COLORS={background:"#f9f9fb",border:"#94a3b8",frontFill:"#fef9ff",backFill:"#f0f9ff",selectedFrontFill:"#fbcfe8",selectedBackFill:"#bae6fd",text:"#1e293b",line:"#3b82f6",shadow:{color:"rgba(0, 0, 0, 0.15)",offsetX:3,offsetY:3,blur:5}};function t(qe,f,ze){return(f=function(Ke){var Ai=function(ln,dn){if(typeof ln!="object"||!ln)return ln;var gn=ln[Symbol.toPrimitive];if(gn!==void 0){var Hn=gn.call(ln,dn);if(typeof Hn!="object")return Hn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(dn==="string"?String:Number)(ln)}(Ke,"string");return typeof Ai=="symbol"?Ai:Ai+""}(f))in qe?Object.defineProperty(qe,f,{value:ze,enumerable:!0,configurable:!0,writable:!0}):qe[f]=ze,qe}function e(qe,f){var ze=Object.keys(qe);if(Object.getOwnPropertySymbols){var Ke=Object.getOwnPropertySymbols(qe);f&&(Ke=Ke.filter(function(Ai){return Object.getOwnPropertyDescriptor(qe,Ai).enumerable})),ze.push.apply(ze,Ke)}return ze}function s(qe){for(var f=1;f<arguments.length;f++){var ze=arguments[f]!=null?arguments[f]:{};f%2?e(Object(ze),!0).forEach(function(Ke){t(qe,Ke,ze[Ke])}):Object.getOwnPropertyDescriptors?Object.defineProperties(qe,Object.getOwnPropertyDescriptors(ze)):e(Object(ze)).forEach(function(Ke){Object.defineProperty(qe,Ke,Object.getOwnPropertyDescriptor(ze,Ke))})}return qe}function i(qe,f){if(qe==null)return{};var ze,Ke,Ai=function(dn,gn){if(dn==null)return{};var Hn={};for(var Kn in dn)if({}.hasOwnProperty.call(dn,Kn)){if(gn.indexOf(Kn)>=0)continue;Hn[Kn]=dn[Kn]}return Hn}(qe,f);if(Object.getOwnPropertySymbols){var ln=Object.getOwnPropertySymbols(qe);for(Ke=0;Ke<ln.length;Ke++)ze=ln[Ke],f.indexOf(ze)>=0||{}.propertyIsEnumerable.call(qe,ze)&&(Ai[ze]=qe[ze])}return Ai}function r(qe,f){return f||(f=qe.slice(0)),Object.freeze(Object.defineProperties(qe,{raw:{value:Object.freeze(f)}}))}class n{constructor(){t(this,"browserShadowBlurConstant",1),t(this,"DPI",96),t(this,"devicePixelRatio",typeof window<"u"?window.devicePixelRatio:1),t(this,"perfLimitSizeTotal",2097152),t(this,"maxCacheSideLimit",4096),t(this,"minCacheSideLimit",256),t(this,"disableStyleCopyPaste",!1),t(this,"enableGLFiltering",!0),t(this,"textureSize",4096),t(this,"forceGLPutImageData",!1),t(this,"cachesBoundsOfCurve",!1),t(this,"fontPaths",{}),t(this,"NUM_FRACTION_DIGITS",4)}}const o=new class extends n{constructor(qe){super(),this.configure(qe)}configure(){let qe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,qe)}addFonts(){let qe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=s(s({},this.fontPaths),qe)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(qe=>{delete this.fontPaths[qe]})}clearFonts(){this.fontPaths={}}restoreDefaults(qe){const f=new n,ze=(qe==null?void 0:qe.reduce((Ke,Ai)=>(Ke[Ai]=f[Ai],Ke),{}))||f;this.configure(ze)}},a=function(qe){for(var f=arguments.length,ze=new Array(f>1?f-1:0),Ke=1;Ke<f;Ke++)ze[Ke-1]=arguments[Ke];return console[qe]("fabric",...ze)};let h$1=class extends Error{constructor(f,ze){super("fabric: ".concat(f),ze)}};class c extends h$1{constructor(f){super("".concat(f," 'options.signal' is in 'aborted' state"))}}class l{}class u extends l{testPrecision(f,ze){const Ke="precision ".concat(ze,` float;
void main(){}`),Ai=f.createShader(f.FRAGMENT_SHADER);return!!Ai&&(f.shaderSource(Ai,Ke),f.compileShader(Ai),!!f.getShaderParameter(Ai,f.COMPILE_STATUS))}queryWebGL(f){const ze=f.getContext("webgl");ze&&(this.maxTextureSize=ze.getParameter(ze.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(Ke=>this.testPrecision(ze,Ke)),ze.getExtension("WEBGL_lose_context").loseContext(),a("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(f){return!!this.maxTextureSize&&this.maxTextureSize>=f}}const d={};let g;const p=()=>g||(g={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new u,dispose(){},copyPasteData:d}),m=()=>p().document,v$1=()=>p().window,y=()=>{var qe;return Math.max((qe=o.devicePixelRatio)!==null&&qe!==void 0?qe:v$1().devicePixelRatio,1)},_=new class{constructor(){t(this,"charWidthsCache",{}),t(this,"boundsOfCurveCache",{})}getFontCache(qe){let{fontFamily:f,fontStyle:ze,fontWeight:Ke}=qe;f=f.toLowerCase(),this.charWidthsCache[f]||(this.charWidthsCache[f]={});const Ai=this.charWidthsCache[f],ln="".concat(ze.toLowerCase(),"_").concat((Ke+"").toLowerCase());return Ai[ln]||(Ai[ln]={}),Ai[ln]}clearFontCache(qe){(qe=(qe||"").toLowerCase())?this.charWidthsCache[qe]&&delete this.charWidthsCache[qe]:this.charWidthsCache={}}limitDimsByArea(qe){const{perfLimitSizeTotal:f}=o,ze=Math.sqrt(f*qe);return[Math.floor(ze),Math.floor(f/ze)]}},x="6.6.5";function C(){}const b=Math.PI/2,w$1=2*Math.PI,S=Math.PI/180,T=Object.freeze([1,0,0,1,0,0]),O=16,k=.4477152502,D="center",M="left",P="top",E="bottom",A="right",j="none",F=/\r?\n/,L="moving",R="scaling",I="rotating",B="rotate",X="skewing",Y="resizing",W="modifyPoly",V="modifyPath",z="changed",G="scale",H="scaleX",N="scaleY",U="skewX",q="skewY",K="fill",J="stroke",Q="modified",Z="json",$="svg",tt=new class{constructor(){this[Z]=new Map,this[$]=new Map}has(qe){return this[Z].has(qe)}getClass(qe){const f=this[Z].get(qe);if(!f)throw new h$1("No class registered for ".concat(qe));return f}setClass(qe,f){f?this[Z].set(f,qe):(this[Z].set(qe.type,qe),this[Z].set(qe.type.toLowerCase(),qe))}getSVGClass(qe){return this[$].get(qe)}setSVGClass(qe,f){this[$].set(f??qe.type.toLowerCase(),qe)}},et=new class extends Array{remove(qe){const f=this.indexOf(qe);f>-1&&this.splice(f,1)}cancelAll(){const qe=this.splice(0);return qe.forEach(f=>f.abort()),qe}cancelByCanvas(qe){if(!qe)return[];const f=this.filter(ze=>{var Ke;return ze.target===qe||typeof ze.target=="object"&&((Ke=ze.target)===null||Ke===void 0?void 0:Ke.canvas)===qe});return f.forEach(ze=>ze.abort()),f}cancelByTarget(qe){if(!qe)return[];const f=this.filter(ze=>ze.target===qe);return f.forEach(ze=>ze.abort()),f}};class st{constructor(){t(this,"__eventListeners",{})}on(f,ze){if(this.__eventListeners||(this.__eventListeners={}),typeof f=="object")return Object.entries(f).forEach(Ke=>{let[Ai,ln]=Ke;this.on(Ai,ln)}),()=>this.off(f);if(ze){const Ke=f;return this.__eventListeners[Ke]||(this.__eventListeners[Ke]=[]),this.__eventListeners[Ke].push(ze),()=>this.off(Ke,ze)}return()=>!1}once(f,ze){if(typeof f=="object"){const Ke=[];return Object.entries(f).forEach(Ai=>{let[ln,dn]=Ai;Ke.push(this.once(ln,dn))}),()=>Ke.forEach(Ai=>Ai())}if(ze){const Ke=this.on(f,function(){for(var Ai=arguments.length,ln=new Array(Ai),dn=0;dn<Ai;dn++)ln[dn]=arguments[dn];ze.call(this,...ln),Ke()});return Ke}return()=>!1}_removeEventListener(f,ze){if(this.__eventListeners[f])if(ze){const Ke=this.__eventListeners[f],Ai=Ke.indexOf(ze);Ai>-1&&Ke.splice(Ai,1)}else this.__eventListeners[f]=[]}off(f,ze){if(this.__eventListeners)if(f===void 0)for(const Ke in this.__eventListeners)this._removeEventListener(Ke);else typeof f=="object"?Object.entries(f).forEach(Ke=>{let[Ai,ln]=Ke;this._removeEventListener(Ai,ln)}):this._removeEventListener(f,ze)}fire(f,ze){var Ke;if(!this.__eventListeners)return;const Ai=(Ke=this.__eventListeners[f])===null||Ke===void 0?void 0:Ke.concat();if(Ai)for(let ln=0;ln<Ai.length;ln++)Ai[ln].call(this,ze||{})}}const it=(qe,f)=>{const ze=qe.indexOf(f);return ze!==-1&&qe.splice(ze,1),qe},rt=qe=>{if(qe===0)return 1;switch(Math.abs(qe)/b){case 1:case 3:return 0;case 2:return-1}return Math.cos(qe)},nt=qe=>{if(qe===0)return 0;const f=qe/b,ze=Math.sign(qe);switch(f){case 1:return ze;case 2:return 0;case 3:return-ze}return Math.sin(qe)};class ot{constructor(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof f=="object"?(this.x=f.x,this.y=f.y):(this.x=f,this.y=ze)}add(f){return new ot(this.x+f.x,this.y+f.y)}addEquals(f){return this.x+=f.x,this.y+=f.y,this}scalarAdd(f){return new ot(this.x+f,this.y+f)}scalarAddEquals(f){return this.x+=f,this.y+=f,this}subtract(f){return new ot(this.x-f.x,this.y-f.y)}subtractEquals(f){return this.x-=f.x,this.y-=f.y,this}scalarSubtract(f){return new ot(this.x-f,this.y-f)}scalarSubtractEquals(f){return this.x-=f,this.y-=f,this}multiply(f){return new ot(this.x*f.x,this.y*f.y)}scalarMultiply(f){return new ot(this.x*f,this.y*f)}scalarMultiplyEquals(f){return this.x*=f,this.y*=f,this}divide(f){return new ot(this.x/f.x,this.y/f.y)}scalarDivide(f){return new ot(this.x/f,this.y/f)}scalarDivideEquals(f){return this.x/=f,this.y/=f,this}eq(f){return this.x===f.x&&this.y===f.y}lt(f){return this.x<f.x&&this.y<f.y}lte(f){return this.x<=f.x&&this.y<=f.y}gt(f){return this.x>f.x&&this.y>f.y}gte(f){return this.x>=f.x&&this.y>=f.y}lerp(f){let ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return ze=Math.max(Math.min(1,ze),0),new ot(this.x+(f.x-this.x)*ze,this.y+(f.y-this.y)*ze)}distanceFrom(f){const ze=this.x-f.x,Ke=this.y-f.y;return Math.sqrt(ze*ze+Ke*Ke)}midPointFrom(f){return this.lerp(f)}min(f){return new ot(Math.min(this.x,f.x),Math.min(this.y,f.y))}max(f){return new ot(Math.max(this.x,f.x),Math.max(this.y,f.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(f,ze){return this.x=f,this.y=ze,this}setX(f){return this.x=f,this}setY(f){return this.y=f,this}setFromPoint(f){return this.x=f.x,this.y=f.y,this}swap(f){const ze=this.x,Ke=this.y;this.x=f.x,this.y=f.y,f.x=ze,f.y=Ke}clone(){return new ot(this.x,this.y)}rotate(f){let ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:at;const Ke=nt(f),Ai=rt(f),ln=this.subtract(ze);return new ot(ln.x*Ai-ln.y*Ke,ln.x*Ke+ln.y*Ai).add(ze)}transform(f){let ze=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new ot(f[0]*this.x+f[2]*this.y+(ze?0:f[4]),f[1]*this.x+f[3]*this.y+(ze?0:f[5]))}}const at=new ot(0,0),ht=qe=>!!qe&&Array.isArray(qe._objects);function ct(qe){class f extends qe{constructor(){super(...arguments),t(this,"_objects",[])}_onObjectAdded(Ke){}_onObjectRemoved(Ke){}_onStackOrderChanged(Ke){}add(){for(var Ke=arguments.length,Ai=new Array(Ke),ln=0;ln<Ke;ln++)Ai[ln]=arguments[ln];const dn=this._objects.push(...Ai);return Ai.forEach(gn=>this._onObjectAdded(gn)),dn}insertAt(Ke){for(var Ai=arguments.length,ln=new Array(Ai>1?Ai-1:0),dn=1;dn<Ai;dn++)ln[dn-1]=arguments[dn];return this._objects.splice(Ke,0,...ln),ln.forEach(gn=>this._onObjectAdded(gn)),this._objects.length}remove(){const Ke=this._objects,Ai=[];for(var ln=arguments.length,dn=new Array(ln),gn=0;gn<ln;gn++)dn[gn]=arguments[gn];return dn.forEach(Hn=>{const Kn=Ke.indexOf(Hn);Kn!==-1&&(Ke.splice(Kn,1),Ai.push(Hn),this._onObjectRemoved(Hn))}),Ai}forEachObject(Ke){this.getObjects().forEach((Ai,ln,dn)=>Ke(Ai,ln,dn))}getObjects(){for(var Ke=arguments.length,Ai=new Array(Ke),ln=0;ln<Ke;ln++)Ai[ln]=arguments[ln];return Ai.length===0?[...this._objects]:this._objects.filter(dn=>dn.isType(...Ai))}item(Ke){return this._objects[Ke]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(Ke,Ai){return!!this._objects.includes(Ke)||!!Ai&&this._objects.some(ln=>ln instanceof f&&ln.contains(Ke,!0))}complexity(){return this._objects.reduce((Ke,Ai)=>Ke+=Ai.complexity?Ai.complexity():0,0)}sendObjectToBack(Ke){return!(!Ke||Ke===this._objects[0])&&(it(this._objects,Ke),this._objects.unshift(Ke),this._onStackOrderChanged(Ke),!0)}bringObjectToFront(Ke){return!(!Ke||Ke===this._objects[this._objects.length-1])&&(it(this._objects,Ke),this._objects.push(Ke),this._onStackOrderChanged(Ke),!0)}sendObjectBackwards(Ke,Ai){if(!Ke)return!1;const ln=this._objects.indexOf(Ke);if(ln!==0){const dn=this.findNewLowerIndex(Ke,ln,Ai);return it(this._objects,Ke),this._objects.splice(dn,0,Ke),this._onStackOrderChanged(Ke),!0}return!1}bringObjectForward(Ke,Ai){if(!Ke)return!1;const ln=this._objects.indexOf(Ke);if(ln!==this._objects.length-1){const dn=this.findNewUpperIndex(Ke,ln,Ai);return it(this._objects,Ke),this._objects.splice(dn,0,Ke),this._onStackOrderChanged(Ke),!0}return!1}moveObjectTo(Ke,Ai){return Ke!==this._objects[Ai]&&(it(this._objects,Ke),this._objects.splice(Ai,0,Ke),this._onStackOrderChanged(Ke),!0)}findNewLowerIndex(Ke,Ai,ln){let dn;if(ln){dn=Ai;for(let gn=Ai-1;gn>=0;--gn)if(Ke.isOverlapping(this._objects[gn])){dn=gn;break}}else dn=Ai-1;return dn}findNewUpperIndex(Ke,Ai,ln){let dn;if(ln){dn=Ai;for(let gn=Ai+1;gn<this._objects.length;++gn)if(Ke.isOverlapping(this._objects[gn])){dn=gn;break}}else dn=Ai+1;return dn}collectObjects(Ke){let{left:Ai,top:ln,width:dn,height:gn}=Ke,{includeIntersecting:Hn=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const Kn=[],Qn=new ot(Ai,ln),ys=Qn.add(new ot(dn,gn));for(let vs=this._objects.length-1;vs>=0;vs--){const Cs=this._objects[vs];Cs.selectable&&Cs.visible&&(Hn&&Cs.intersectsWithRect(Qn,ys)||Cs.isContainedWithinRect(Qn,ys)||Hn&&Cs.containsPoint(Qn)||Hn&&Cs.containsPoint(ys))&&Kn.push(Cs)}return Kn}}return f}class lt extends st{_setOptions(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(const ze in f)this.set(ze,f[ze])}_setObject(f){for(const ze in f)this._set(ze,f[ze])}set(f,ze){return typeof f=="object"?this._setObject(f):this._set(f,ze),this}_set(f,ze){this[f]=ze}toggle(f){const ze=this.get(f);return typeof ze=="boolean"&&this.set(f,!ze),this}get(f){return this[f]}}function ut(qe){return v$1().requestAnimationFrame(qe)}function dt(qe){return v$1().cancelAnimationFrame(qe)}let gt=0;const ft=()=>gt++,pt=()=>{const qe=m().createElement("canvas");if(!qe||qe.getContext===void 0)throw new h$1("Failed to create `canvas` element");return qe},mt=()=>m().createElement("img"),vt=qe=>{const f=pt();return f.width=qe.width,f.height=qe.height,f},yt=(qe,f,ze)=>qe.toDataURL("image/".concat(f),ze),_t=(qe,f,ze)=>new Promise((Ke,Ai)=>{qe.toBlob(Ke,"image/".concat(f),ze)}),xt=qe=>qe*S,Ct=qe=>qe/S,bt=qe=>qe.every((f,ze)=>f===T[ze]),wt=(qe,f,ze)=>new ot(qe).transform(f,ze),St=qe=>{const f=1/(qe[0]*qe[3]-qe[1]*qe[2]),ze=[f*qe[3],-f*qe[1],-f*qe[2],f*qe[0],0,0],{x:Ke,y:Ai}=new ot(qe[4],qe[5]).transform(ze,!0);return ze[4]=-Ke,ze[5]=-Ai,ze},Tt=(qe,f,ze)=>[qe[0]*f[0]+qe[2]*f[1],qe[1]*f[0]+qe[3]*f[1],qe[0]*f[2]+qe[2]*f[3],qe[1]*f[2]+qe[3]*f[3],ze?0:qe[0]*f[4]+qe[2]*f[5]+qe[4],ze?0:qe[1]*f[4]+qe[3]*f[5]+qe[5]],Ot=(qe,f)=>qe.reduceRight((ze,Ke)=>Ke&&ze?Tt(Ke,ze,f):Ke||ze,void 0)||T.concat(),kt=qe=>{let[f,ze]=qe;return Math.atan2(ze,f)},Dt=qe=>{const f=kt(qe),ze=Math.pow(qe[0],2)+Math.pow(qe[1],2),Ke=Math.sqrt(ze),Ai=(qe[0]*qe[3]-qe[2]*qe[1])/Ke,ln=Math.atan2(qe[0]*qe[2]+qe[1]*qe[3],ze);return{angle:Ct(f),scaleX:Ke,scaleY:Ai,skewX:Ct(ln),skewY:0,translateX:qe[4]||0,translateY:qe[5]||0}},Mt=function(qe){return[1,0,0,1,qe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function Pt(){let{angle:qe=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:f=0,y:ze=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const Ke=xt(qe),Ai=rt(Ke),ln=nt(Ke);return[Ai,ln,-ln,Ai,f?f-(Ai*f-ln*ze):0,ze?ze-(ln*f+Ai*ze):0]}const Et=function(qe){return[qe,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:qe,0,0]},At=qe=>Math.tan(xt(qe)),jt=qe=>[1,0,At(qe),1,0,0],Ft=qe=>[1,At(qe),0,1,0,0],Lt=qe=>{let{scaleX:f=1,scaleY:ze=1,flipX:Ke=!1,flipY:Ai=!1,skewX:ln=0,skewY:dn=0}=qe,gn=Et(Ke?-f:f,Ai?-ze:ze);return ln&&(gn=Tt(gn,jt(ln),!0)),dn&&(gn=Tt(gn,Ft(dn),!0)),gn},Rt=qe=>{const{translateX:f=0,translateY:ze=0,angle:Ke=0}=qe;let Ai=Mt(f,ze);Ke&&(Ai=Tt(Ai,Pt({angle:Ke})));const ln=Lt(qe);return bt(ln)||(Ai=Tt(Ai,ln)),Ai},It=function(qe){let{signal:f,crossOrigin:ze=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(Ke,Ai){if(f&&f.aborted)return Ai(new c("loadImage"));const ln=mt();let dn;f&&(dn=function(Hn){ln.src="",Ai(Hn)},f.addEventListener("abort",dn,{once:!0}));const gn=function(){ln.onload=ln.onerror=null,dn&&(f==null||f.removeEventListener("abort",dn)),Ke(ln)};qe?(ln.onload=gn,ln.onerror=function(){dn&&(f==null||f.removeEventListener("abort",dn)),Ai(new h$1("Error loading ".concat(ln.src)))},ze&&(ln.crossOrigin=ze),ln.src=qe):gn()})},Bt=function(qe){let{signal:f,reviver:ze=C}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((Ke,Ai)=>{const ln=[];f&&f.addEventListener("abort",Ai,{once:!0}),Promise.all(qe.map(dn=>tt.getClass(dn.type).fromObject(dn,{signal:f}).then(gn=>(ze(dn,gn),ln.push(gn),gn)))).then(Ke).catch(dn=>{ln.forEach(gn=>{gn.dispose&&gn.dispose()}),Ai(dn)}).finally(()=>{f&&f.removeEventListener("abort",Ai)})})},Xt=function(qe){let{signal:f}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((ze,Ke)=>{const Ai=[];f&&f.addEventListener("abort",Ke,{once:!0});const ln=Object.values(qe).map(gn=>gn&&gn.type&&tt.has(gn.type)?Bt([gn],{signal:f}).then(Hn=>{let[Kn]=Hn;return Ai.push(Kn),Kn}):gn),dn=Object.keys(qe);Promise.all(ln).then(gn=>gn.reduce((Hn,Kn,Qn)=>(Hn[dn[Qn]]=Kn,Hn),{})).then(ze).catch(gn=>{Ai.forEach(Hn=>{Hn.dispose&&Hn.dispose()}),Ke(gn)}).finally(()=>{f&&f.removeEventListener("abort",Ke)})})},Yt=function(qe){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((f,ze)=>(ze in qe&&(f[ze]=qe[ze]),f),{})},Wt=(qe,f)=>Object.keys(qe).reduce((ze,Ke)=>(f(qe[Ke],Ke,qe)&&(ze[Ke]=qe[Ke]),ze),{}),Vt=(qe,f)=>parseFloat(Number(qe).toFixed(f)),zt=qe=>"matrix("+qe.map(f=>Vt(f,o.NUM_FRACTION_DIGITS)).join(" ")+")",Gt=qe=>!!qe&&qe.toLive!==void 0,Ht=qe=>!!qe&&typeof qe.toObject=="function",Nt=qe=>!!qe&&qe.offsetX!==void 0&&"source"in qe,Ut=qe=>!!qe&&"multiSelectionStacking"in qe;function qt(qe){const f=qe&&Kt(qe);let ze=0,Ke=0;if(!qe||!f)return{left:ze,top:Ke};let Ai=qe;const ln=f.documentElement,dn=f.body||{scrollLeft:0,scrollTop:0};for(;Ai&&(Ai.parentNode||Ai.host)&&(Ai=Ai.parentNode||Ai.host,Ai===f?(ze=dn.scrollLeft||ln.scrollLeft||0,Ke=dn.scrollTop||ln.scrollTop||0):(ze+=Ai.scrollLeft||0,Ke+=Ai.scrollTop||0),Ai.nodeType!==1||Ai.style.position!=="fixed"););return{left:ze,top:Ke}}const Kt=qe=>qe.ownerDocument||null,Jt=qe=>{var f;return((f=qe.ownerDocument)===null||f===void 0?void 0:f.defaultView)||null},Qt=function(qe,f,ze){let{width:Ke,height:Ai}=ze,ln=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;qe.width=Ke,qe.height=Ai,ln>1&&(qe.setAttribute("width",(Ke*ln).toString()),qe.setAttribute("height",(Ai*ln).toString()),f.scale(ln,ln))},Zt=(qe,f)=>{let{width:ze,height:Ke}=f;ze&&(qe.style.width=typeof ze=="number"?"".concat(ze,"px"):ze),Ke&&(qe.style.height=typeof Ke=="number"?"".concat(Ke,"px"):Ke)};function $t(qe){return qe.onselectstart!==void 0&&(qe.onselectstart=()=>!1),qe.style.userSelect=j,qe}class te{constructor(f){t(this,"_originalCanvasStyle",void 0),t(this,"lower",void 0);const ze=this.createLowerCanvas(f);this.lower={el:ze,ctx:ze.getContext("2d")}}createLowerCanvas(f){const ze=(Ke=f)&&Ke.getContext!==void 0?f:f&&m().getElementById(f)||pt();var Ke;if(ze.hasAttribute("data-fabric"))throw new h$1("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=ze.style.cssText,ze.setAttribute("data-fabric","main"),ze.classList.add("lower-canvas"),ze}cleanupDOM(f){let{width:ze,height:Ke}=f;const{el:Ai}=this.lower;Ai.classList.remove("lower-canvas"),Ai.removeAttribute("data-fabric"),Ai.setAttribute("width","".concat(ze)),Ai.setAttribute("height","".concat(Ke)),Ai.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(f,ze){const{el:Ke,ctx:Ai}=this.lower;Qt(Ke,Ai,f,ze)}setCSSDimensions(f){Zt(this.lower.el,f)}calcOffset(){return function(f){var ze;const Ke=f&&Kt(f),Ai={left:0,top:0};if(!Ke)return Ai;const ln=((ze=Jt(f))===null||ze===void 0?void 0:ze.getComputedStyle(f,null))||{};Ai.left+=parseInt(ln.borderLeftWidth,10)||0,Ai.top+=parseInt(ln.borderTopWidth,10)||0,Ai.left+=parseInt(ln.paddingLeft,10)||0,Ai.top+=parseInt(ln.paddingTop,10)||0;let dn={left:0,top:0};const gn=Ke.documentElement;f.getBoundingClientRect!==void 0&&(dn=f.getBoundingClientRect());const Hn=qt(f);return{left:dn.left+Hn.left-(gn.clientLeft||0)+Ai.left,top:dn.top+Hn.top-(gn.clientTop||0)+Ai.top}}(this.lower.el)}dispose(){p().dispose(this.lower.el),delete this.lower}}const ee={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...T]};class se extends ct(lt){get lowerCanvasEl(){var f;return(f=this.elements.lower)===null||f===void 0?void 0:f.el}get contextContainer(){var f;return(f=this.elements.lower)===null||f===void 0?void 0:f.ctx}static getDefaults(){return se.ownDefaults}constructor(f){let ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(ze),this.initElements(f),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(f){this.elements=new te(f)}add(){const f=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),f}insertAt(f){for(var ze=arguments.length,Ke=new Array(ze>1?ze-1:0),Ai=1;Ai<ze;Ai++)Ke[Ai-1]=arguments[Ai];const ln=super.insertAt(f,...Ke);return Ke.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),ln}remove(){const f=super.remove(...arguments);return f.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),f}_onObjectAdded(f){f.canvas&&f.canvas!==this&&(a("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),f.canvas.remove(f)),f._set("canvas",this),f.setCoords(),this.fire("object:added",{target:f}),f.fire("added",{target:this})}_onObjectRemoved(f){f._set("canvas",void 0),this.fire("object:removed",{target:f}),f.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?y():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(f,ze){return this.setDimensions({width:f},ze)}setHeight(f,ze){return this.setDimensions({height:f},ze)}_setDimensionsImpl(f){let{cssOnly:ze=!1,backstoreOnly:Ke=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ze){const Ai=s({width:this.width,height:this.height},f);this.elements.setDimensions(Ai,this.getRetinaScaling()),this.hasLostContext=!0,this.width=Ai.width,this.height=Ai.height}Ke||this.elements.setCSSDimensions(f),this.calcOffset()}setDimensions(f,ze){this._setDimensionsImpl(f,ze),ze&&ze.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(f){this.viewportTransform=f,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(f,ze){const Ke=f,Ai=[...this.viewportTransform],ln=wt(f,St(Ai));Ai[0]=ze,Ai[3]=ze;const dn=wt(ln,Ai);Ai[4]+=Ke.x-dn.x,Ai[5]+=Ke.y-dn.y,this.setViewportTransform(Ai)}setZoom(f){this.zoomToPoint(new ot(0,0),f)}absolutePan(f){const ze=[...this.viewportTransform];return ze[4]=-f.x,ze[5]=-f.y,this.setViewportTransform(ze)}relativePan(f){return this.absolutePan(new ot(-f.x-this.viewportTransform[4],-f.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(f){f.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=ut(()=>this.renderAndReset()))}calcViewportBoundaries(){const f=this.width,ze=this.height,Ke=St(this.viewportTransform),Ai=wt({x:0,y:0},Ke),ln=wt({x:f,y:ze},Ke),dn=Ai.min(ln),gn=Ai.max(ln);return this.vptCoords={tl:dn,tr:new ot(gn.x,dn.y),bl:new ot(dn.x,gn.y),br:gn}}cancelRequestedRender(){this.nextRenderHandle&&(dt(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(f){}renderCanvas(f,ze){if(this.destroyed)return;const Ke=this.viewportTransform,Ai=this.clipPath;this.calcViewportBoundaries(),this.clearContext(f),f.imageSmoothingEnabled=this.imageSmoothingEnabled,f.patternQuality="best",this.fire("before:render",{ctx:f}),this._renderBackground(f),f.save(),f.transform(Ke[0],Ke[1],Ke[2],Ke[3],Ke[4],Ke[5]),this._renderObjects(f,ze),f.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(f),Ai&&(Ai._set("canvas",this),Ai.shouldCache(),Ai._transformDone=!0,Ai.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(f,Ai)),this._renderOverlay(f),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(f),this.fire("after:render",{ctx:f}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(f,ze){const Ke=this.viewportTransform;f.save(),f.transform(...Ke),f.globalCompositeOperation="destination-in",ze.transform(f),f.scale(1/ze.zoomX,1/ze.zoomY),f.drawImage(ze._cacheCanvas,-ze.cacheTranslationX,-ze.cacheTranslationY),f.restore()}_renderObjects(f,ze){for(let Ke=0,Ai=ze.length;Ke<Ai;++Ke)ze[Ke]&&ze[Ke].render(f)}_renderBackgroundOrOverlay(f,ze){const Ke=this["".concat(ze,"Color")],Ai=this["".concat(ze,"Image")],ln=this.viewportTransform,dn=this["".concat(ze,"Vpt")];if(!Ke&&!Ai)return;const gn=Gt(Ke);if(Ke){if(f.save(),f.beginPath(),f.moveTo(0,0),f.lineTo(this.width,0),f.lineTo(this.width,this.height),f.lineTo(0,this.height),f.closePath(),f.fillStyle=gn?Ke.toLive(f):Ke,dn&&f.transform(...ln),gn){f.transform(1,0,0,1,Ke.offsetX||0,Ke.offsetY||0);const Hn=Ke.gradientTransform||Ke.patternTransform;Hn&&f.transform(...Hn)}f.fill(),f.restore()}if(Ai){f.save();const{skipOffscreen:Hn}=this;this.skipOffscreen=dn,dn&&f.transform(...ln),Ai.render(f),this.skipOffscreen=Hn,f.restore()}}_renderBackground(f){this._renderBackgroundOrOverlay(f,"background")}_renderOverlay(f){this._renderBackgroundOrOverlay(f,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new ot(this.width/2,this.height/2)}centerObjectH(f){return this._centerObject(f,new ot(this.getCenterPoint().x,f.getCenterPoint().y))}centerObjectV(f){return this._centerObject(f,new ot(f.getCenterPoint().x,this.getCenterPoint().y))}centerObject(f){return this._centerObject(f,this.getCenterPoint())}viewportCenterObject(f){return this._centerObject(f,this.getVpCenter())}viewportCenterObjectH(f){return this._centerObject(f,new ot(this.getVpCenter().x,f.getCenterPoint().y))}viewportCenterObjectV(f){return this._centerObject(f,new ot(f.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return wt(this.getCenterPoint(),St(this.viewportTransform))}_centerObject(f,ze){f.setXY(ze,D,D),f.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(f){return this.toDatalessObject(f)}toObject(f){return this._toObjectMethod("toObject",f)}toJSON(){return this.toObject()}toDatalessObject(f){return this._toObjectMethod("toDatalessObject",f)}_toObjectMethod(f,ze){const Ke=this.clipPath,Ai=Ke&&!Ke.excludeFromExport?this._toObject(Ke,f,ze):null;return s(s(s({version:x},Yt(this,ze)),{},{objects:this._objects.filter(ln=>!ln.excludeFromExport).map(ln=>this._toObject(ln,f,ze))},this.__serializeBgOverlay(f,ze)),Ai?{clipPath:Ai}:null)}_toObject(f,ze,Ke){let Ai;this.includeDefaultValues||(Ai=f.includeDefaultValues,f.includeDefaultValues=!1);const ln=f[ze](Ke);return this.includeDefaultValues||(f.includeDefaultValues=!!Ai),ln}__serializeBgOverlay(f,ze){const Ke={},Ai=this.backgroundImage,ln=this.overlayImage,dn=this.backgroundColor,gn=this.overlayColor;return Gt(dn)?dn.excludeFromExport||(Ke.background=dn.toObject(ze)):dn&&(Ke.background=dn),Gt(gn)?gn.excludeFromExport||(Ke.overlay=gn.toObject(ze)):gn&&(Ke.overlay=gn),Ai&&!Ai.excludeFromExport&&(Ke.backgroundImage=this._toObject(Ai,f,ze)),ln&&!ln.excludeFromExport&&(Ke.overlayImage=this._toObject(ln,f,ze)),Ke}toSVG(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ze=arguments.length>1?arguments[1]:void 0;f.reviver=ze;const Ke=[];return this._setSVGPreamble(Ke,f),this._setSVGHeader(Ke,f),this.clipPath&&Ke.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(Ke,"background"),this._setSVGBgOverlayImage(Ke,"backgroundImage",ze),this._setSVGObjects(Ke,ze),this.clipPath&&Ke.push(`</g>
`),this._setSVGBgOverlayColor(Ke,"overlay"),this._setSVGBgOverlayImage(Ke,"overlayImage",ze),Ke.push("</svg>"),Ke.join("")}_setSVGPreamble(f,ze){ze.suppressPreamble||f.push('<?xml version="1.0" encoding="',ze.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(f,ze){const Ke=ze.width||"".concat(this.width),Ai=ze.height||"".concat(this.height),ln=o.NUM_FRACTION_DIGITS,dn=ze.viewBox;let gn;if(dn)gn='viewBox="'.concat(dn.x," ").concat(dn.y," ").concat(dn.width," ").concat(dn.height,'" ');else if(this.svgViewportTransformation){const Hn=this.viewportTransform;gn='viewBox="'.concat(Vt(-Hn[4]/Hn[0],ln)," ").concat(Vt(-Hn[5]/Hn[3],ln)," ").concat(Vt(this.width/Hn[0],ln)," ").concat(Vt(this.height/Hn[3],ln),'" ')}else gn='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');f.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',Ke,'" ','height="',Ai,'" ',gn,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",x,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(ze),`</defs>
`)}createSVGClipPathMarkup(f){const ze=this.clipPath;return ze?(ze.clipPathId="CLIPPATH_".concat(ft()),'<clipPath id="'.concat(ze.clipPathId,`" >
`).concat(ze.toClipPathSVG(f.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map(f=>{const ze=this["".concat(f,"Color")];if(Gt(ze)){const Ke=this["".concat(f,"Vpt")],Ai=this.viewportTransform,ln={isType:()=>!1,width:this.width/(Ke?Ai[0]:1),height:this.height/(Ke?Ai[3]:1)};return ze.toSVG(ln,{additionalTransform:Ke?zt(Ai):""})}}).join("")}createSVGFontFacesMarkup(){const f=[],ze={},Ke=o.fontPaths;this._objects.forEach(function ln(dn){f.push(dn),ht(dn)&&dn._objects.forEach(ln)}),f.forEach(ln=>{if(!(dn=ln)||typeof dn._renderText!="function")return;var dn;const{styles:gn,fontFamily:Hn}=ln;!ze[Hn]&&Ke[Hn]&&(ze[Hn]=!0,gn&&Object.values(gn).forEach(Kn=>{Object.values(Kn).forEach(Qn=>{let{fontFamily:ys=""}=Qn;!ze[ys]&&Ke[ys]&&(ze[ys]=!0)})}))});const Ai=Object.keys(ze).map(ln=>`		@font-face {
			font-family: '`.concat(ln,`';
			src: url('`).concat(Ke[ln],`');
		}
`)).join("");return Ai?`	<style type="text/css"><![CDATA[
`.concat(Ai,`]]></style>
`):""}_setSVGObjects(f,ze){this.forEachObject(Ke=>{Ke.excludeFromExport||this._setSVGObject(f,Ke,ze)})}_setSVGObject(f,ze,Ke){f.push(ze.toSVG(Ke))}_setSVGBgOverlayImage(f,ze,Ke){const Ai=this[ze];Ai&&!Ai.excludeFromExport&&Ai.toSVG&&f.push(Ai.toSVG(Ke))}_setSVGBgOverlayColor(f,ze){const Ke=this["".concat(ze,"Color")];if(Ke)if(Gt(Ke)){const Ai=Ke.repeat||"",ln=this.width,dn=this.height,gn=this["".concat(ze,"Vpt")]?zt(St(this.viewportTransform)):"";f.push('<rect transform="'.concat(gn," translate(").concat(ln/2,",").concat(dn/2,')" x="').concat(Ke.offsetX-ln/2,'" y="').concat(Ke.offsetY-dn/2,'" width="').concat(Ai!=="repeat-y"&&Ai!=="no-repeat"||!Nt(Ke)?ln:Ke.source.width,'" height="').concat(Ai!=="repeat-x"&&Ai!=="no-repeat"||!Nt(Ke)?dn:Ke.source.height,'" fill="url(#SVGID_').concat(Ke.id,`)"></rect>
`))}else f.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',Ke,'"',`></rect>
`)}loadFromJSON(f,ze){let{signal:Ke}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!f)return Promise.reject(new h$1("`json` is undefined"));const Ai=typeof f=="string"?JSON.parse(f):f,{objects:ln=[],backgroundImage:dn,background:gn,overlayImage:Hn,overlay:Kn,clipPath:Qn}=Ai,ys=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([Bt(ln,{reviver:ze,signal:Ke}),Xt({backgroundImage:dn,backgroundColor:gn,overlayImage:Hn,overlayColor:Kn,clipPath:Qn},{signal:Ke})]).then(vs=>{let[Cs,bs]=vs;return this.clear(),this.add(...Cs),this.set(Ai),this.set(bs),this.renderOnAddRemove=ys,this})}clone(f){const ze=this.toObject(f);return this.cloneWithoutData().loadFromJSON(ze)}cloneWithoutData(){const f=vt(this);return new this.constructor(f)}toDataURL(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:ze="png",quality:Ke=1,multiplier:Ai=1,enableRetinaScaling:ln=!1}=f,dn=Ai*(ln?this.getRetinaScaling():1);return yt(this.toCanvasElement(dn,f),ze,Ke)}toBlob(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:ze="png",quality:Ke=1,multiplier:Ai=1,enableRetinaScaling:ln=!1}=f,dn=Ai*(ln?this.getRetinaScaling():1);return _t(this.toCanvasElement(dn,f),ze,Ke)}toCanvasElement(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:ze,height:Ke,left:Ai,top:ln,filter:dn}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const gn=(ze||this.width)*f,Hn=(Ke||this.height)*f,Kn=this.getZoom(),Qn=this.width,ys=this.height,vs=this.skipControlsDrawing,Cs=Kn*f,bs=this.viewportTransform,ia=[Cs,0,0,Cs,(bs[4]-(Ai||0))*f,(bs[5]-(ln||0))*f],la=this.enableRetinaScaling,ra=vt({width:gn,height:Hn}),sa=dn?this._objects.filter(na=>dn(na)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=ia,this.width=gn,this.height=Hn,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(ra.getContext("2d"),sa),this.viewportTransform=bs,this.width=Qn,this.height=ys,this.calcViewportBoundaries(),this.enableRetinaScaling=la,this.skipControlsDrawing=vs,ra}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),et.cancelByCanvas(this),this.disposed=!0,new Promise((f,ze)=>{const Ke=()=>{this.destroy(),f(!0)};Ke.kill=ze,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?f(!1):this.nextRenderHandle?this.__cleanupTask=Ke:Ke()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(f=>f.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}t(se,"ownDefaults",ee);const ie=["touchstart","touchmove","touchend"],re=qe=>{const f=qt(qe.target),ze=function(Ke){const Ai=Ke.changedTouches;return Ai&&Ai[0]?Ai[0]:Ke}(qe);return new ot(ze.clientX+f.left,ze.clientY+f.top)},ne=qe=>ie.includes(qe.type)||qe.pointerType==="touch",oe=qe=>{qe.preventDefault(),qe.stopPropagation()},ae=qe=>{let f=0,ze=0,Ke=0,Ai=0;for(let ln=0,dn=qe.length;ln<dn;ln++){const{x:gn,y:Hn}=qe[ln];(gn>Ke||!ln)&&(Ke=gn),(gn<f||!ln)&&(f=gn),(Hn>Ai||!ln)&&(Ai=Hn),(Hn<ze||!ln)&&(ze=Hn)}return{left:f,top:ze,width:Ke-f,height:Ai-ze}},he=["translateX","translateY","scaleX","scaleY"],ce=(qe,f)=>le(qe,Tt(f,qe.calcOwnMatrix())),le=(qe,f)=>{const ze=Dt(f),{translateX:Ke,translateY:Ai,scaleX:ln,scaleY:dn}=ze,gn=i(ze,he),Hn=new ot(Ke,Ai);qe.flipX=!1,qe.flipY=!1,Object.assign(qe,gn),qe.set({scaleX:ln,scaleY:dn}),qe.setPositionByOrigin(Hn,D,D)},ue=qe=>{qe.scaleX=1,qe.scaleY=1,qe.skewX=0,qe.skewY=0,qe.flipX=!1,qe.flipY=!1,qe.rotate(0)},de=qe=>({scaleX:qe.scaleX,scaleY:qe.scaleY,skewX:qe.skewX,skewY:qe.skewY,angle:qe.angle,left:qe.left,flipX:qe.flipX,flipY:qe.flipY,top:qe.top}),ge=(qe,f,ze)=>{const Ke=qe/2,Ai=f/2,ln=[new ot(-Ke,-Ai),new ot(Ke,-Ai),new ot(-Ke,Ai),new ot(Ke,Ai)].map(gn=>gn.transform(ze)),dn=ae(ln);return new ot(dn.width,dn.height)},fe=function(){let qe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T;return Tt(St(arguments.length>1&&arguments[1]!==void 0?arguments[1]:T),qe)},pe=function(qe){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T,ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T;return qe.transform(fe(f,ze))},me=function(qe){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T,ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T;return qe.transform(fe(f,ze),!0)},ve=(qe,f,ze)=>{const Ke=fe(f,ze);return le(qe,Tt(Ke,qe.calcOwnMatrix())),Ke},ye=(qe,f)=>{var ze;const{transform:{target:Ke}}=f;(ze=Ke.canvas)===null||ze===void 0||ze.fire("object:".concat(qe),s(s({},f),{},{target:Ke})),Ke.fire(qe,f)},_e={left:-.5,top:-.5,center:0,bottom:.5,right:.5},xe=qe=>typeof qe=="string"?_e[qe]:qe-.5,Ce="not-allowed";function be(qe){return xe(qe.originX)===xe(D)&&xe(qe.originY)===xe(D)}function we(qe){return .5-xe(qe)}const Se=(qe,f)=>qe[f],Te=(qe,f,ze,Ke)=>({e:qe,transform:f,pointer:new ot(ze,Ke)});function Oe(qe,f){const ze=qe.getTotalAngle()+Ct(Math.atan2(f.y,f.x))+360;return Math.round(ze%360/45)}function ke(qe,f,ze,Ke,Ai){var ln;let{target:dn,corner:gn}=qe;const Hn=dn.controls[gn],Kn=((ln=dn.canvas)===null||ln===void 0?void 0:ln.getZoom())||1,Qn=dn.padding/Kn,ys=function(vs,Cs,bs,ia){const la=vs.getRelativeCenterPoint(),ra=bs!==void 0&&ia!==void 0?vs.translateToGivenOrigin(la,D,D,bs,ia):new ot(vs.left,vs.top);return(vs.angle?Cs.rotate(-xt(vs.angle),la):Cs).subtract(ra)}(dn,new ot(Ke,Ai),f,ze);return ys.x>=Qn&&(ys.x-=Qn),ys.x<=-Qn&&(ys.x+=Qn),ys.y>=Qn&&(ys.y-=Qn),ys.y<=Qn&&(ys.y+=Qn),ys.x-=Hn.offsetX,ys.y-=Hn.offsetY,ys}const De=(qe,f,ze,Ke)=>{const{target:Ai,offsetX:ln,offsetY:dn}=f,gn=ze-ln,Hn=Ke-dn,Kn=!Se(Ai,"lockMovementX")&&Ai.left!==gn,Qn=!Se(Ai,"lockMovementY")&&Ai.top!==Hn;return Kn&&Ai.set(M,gn),Qn&&Ai.set(P,Hn),(Kn||Qn)&&ye(L,Te(qe,f,ze,Ke)),Kn||Qn},Me={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},Pe=(qe,f,ze)=>(ze<0&&(ze+=1),ze>1&&(ze-=1),ze<1/6?qe+6*(f-qe)*ze:ze<.5?f:ze<2/3?qe+(f-qe)*(2/3-ze)*6:qe),Ee=(qe,f,ze,Ke)=>{qe/=255,f/=255,ze/=255;const Ai=Math.max(qe,f,ze),ln=Math.min(qe,f,ze);let dn,gn;const Hn=(Ai+ln)/2;if(Ai===ln)dn=gn=0;else{const Kn=Ai-ln;switch(gn=Hn>.5?Kn/(2-Ai-ln):Kn/(Ai+ln),Ai){case qe:dn=(f-ze)/Kn+(f<ze?6:0);break;case f:dn=(ze-qe)/Kn+2;break;case ze:dn=(qe-f)/Kn+4}dn/=6}return[Math.round(360*dn),Math.round(100*gn),Math.round(100*Hn),Ke]},Ae=function(){let qe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(qe)/(qe.endsWith("%")?100:1)},je=qe=>Math.min(Math.round(qe),255).toString(16).toUpperCase().padStart(2,"0"),Fe=qe=>{let[f,ze,Ke,Ai=1]=qe;const ln=Math.round(.3*f+.59*ze+.11*Ke);return[ln,ln,ln,Ai]};class Le{constructor(f){if(t(this,"isUnrecognised",!1),f)if(f instanceof Le)this.setSource([...f._source]);else if(Array.isArray(f)){const[ze,Ke,Ai,ln=1]=f;this.setSource([ze,Ke,Ai,ln])}else this.setSource(this._tryParsingColor(f));else this.setSource([0,0,0,1])}_tryParsingColor(f){return(f=f.toLowerCase())in Me&&(f=Me[f]),f==="transparent"?[255,255,255,0]:Le.sourceFromHex(f)||Le.sourceFromRgb(f)||Le.sourceFromHsl(f)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(f){this._source=f}toRgb(){const[f,ze,Ke]=this.getSource();return"rgb(".concat(f,",").concat(ze,",").concat(Ke,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[f,ze,Ke]=Ee(...this.getSource());return"hsl(".concat(f,",").concat(ze,"%,").concat(Ke,"%)")}toHsla(){const[f,ze,Ke,Ai]=Ee(...this.getSource());return"hsla(".concat(f,",").concat(ze,"%,").concat(Ke,"%,").concat(Ai,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[f,ze,Ke,Ai]=this.getSource();return"".concat(je(f)).concat(je(ze)).concat(je(Ke)).concat(je(Math.round(255*Ai)))}getAlpha(){return this.getSource()[3]}setAlpha(f){return this._source[3]=f,this}toGrayscale(){return this.setSource(Fe(this.getSource())),this}toBlackWhite(f){const[ze,,,Ke]=Fe(this.getSource()),Ai=ze<(f||127)?0:255;return this.setSource([Ai,Ai,Ai,Ke]),this}overlayWith(f){f instanceof Le||(f=new Le(f));const ze=this.getSource(),Ke=f.getSource(),[Ai,ln,dn]=ze.map((gn,Hn)=>Math.round(.5*gn+.5*Ke[Hn]));return this.setSource([Ai,ln,dn,ze[3]]),this}static fromRgb(f){return Le.fromRgba(f)}static fromRgba(f){return new Le(Le.sourceFromRgb(f))}static sourceFromRgb(f){const ze=f.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(ze){const[Ke,Ai,ln]=ze.slice(1,4).map(dn=>{const gn=parseFloat(dn);return dn.endsWith("%")?Math.round(2.55*gn):gn});return[Ke,Ai,ln,Ae(ze[4])]}}static fromHsl(f){return Le.fromHsla(f)}static fromHsla(f){return new Le(Le.sourceFromHsl(f))}static sourceFromHsl(f){const ze=f.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!ze)return;const Ke=(Le.parseAngletoDegrees(ze[1])%360+360)%360/360,Ai=parseFloat(ze[2])/100,ln=parseFloat(ze[3])/100;let dn,gn,Hn;if(Ai===0)dn=gn=Hn=ln;else{const Kn=ln<=.5?ln*(Ai+1):ln+Ai-ln*Ai,Qn=2*ln-Kn;dn=Pe(Qn,Kn,Ke+1/3),gn=Pe(Qn,Kn,Ke),Hn=Pe(Qn,Kn,Ke-1/3)}return[Math.round(255*dn),Math.round(255*gn),Math.round(255*Hn),Ae(ze[4])]}static fromHex(f){return new Le(Le.sourceFromHex(f))}static sourceFromHex(f){if(f.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const ze=f.slice(f.indexOf("#")+1);let Ke;Ke=ze.length<=4?ze.split("").map(Hn=>Hn+Hn):ze.match(/.{2}/g);const[Ai,ln,dn,gn=255]=Ke.map(Hn=>parseInt(Hn,16));return[Ai,ln,dn,gn/255]}}static parseAngletoDegrees(f){const ze=f.toLowerCase(),Ke=parseFloat(ze);return ze.includes("rad")?Ct(Ke):ze.includes("turn")?360*Ke:Ke}}const Re=function(qe){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O;const ze=/\D{0,2}$/.exec(qe),Ke=parseFloat(qe),Ai=o.DPI;switch(ze==null?void 0:ze[0]){case"mm":return Ke*Ai/25.4;case"cm":return Ke*Ai/2.54;case"in":return Ke*Ai;case"pt":return Ke*Ai/72;case"pc":return Ke*Ai/72*12;case"em":return Ke*f;default:return Ke}},Ie=qe=>{const[f,ze]=qe.trim().split(" "),[Ke,Ai]=(ln=f)&&ln!==j?[ln.slice(1,4),ln.slice(5,8)]:ln===j?[ln,ln]:["Mid","Mid"];var ln;return{meetOrSlice:ze||"meet",alignX:Ke,alignY:Ai}},Be=function(qe,f){let ze,Ke,Ai=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(f)if(f.toLive)ze="url(#SVGID_".concat(f.id,")");else{const ln=new Le(f),dn=ln.getAlpha();ze=ln.toRgb(),dn!==1&&(Ke=dn.toString())}else ze="none";return Ai?"".concat(qe,": ").concat(ze,"; ").concat(Ke?"".concat(qe,"-opacity: ").concat(Ke,"; "):""):"".concat(qe,'="').concat(ze,'" ').concat(Ke?"".concat(qe,'-opacity="').concat(Ke,'" '):"")};class Xe{getSvgStyles(f){const ze=this.fillRule?this.fillRule:"nonzero",Ke=this.strokeWidth?this.strokeWidth:"0",Ai=this.strokeDashArray?this.strokeDashArray.join(" "):j,ln=this.strokeDashOffset?this.strokeDashOffset:"0",dn=this.strokeLineCap?this.strokeLineCap:"butt",gn=this.strokeLineJoin?this.strokeLineJoin:"miter",Hn=this.strokeMiterLimit?this.strokeMiterLimit:"4",Kn=this.opacity!==void 0?this.opacity:"1",Qn=this.visible?"":" visibility: hidden;",ys=f?"":this.getSvgFilter(),vs=Be(K,this.fill);return[Be(J,this.stroke),"stroke-width: ",Ke,"; ","stroke-dasharray: ",Ai,"; ","stroke-linecap: ",dn,"; ","stroke-dashoffset: ",ln,"; ","stroke-linejoin: ",gn,"; ","stroke-miterlimit: ",Hn,"; ",vs,"fill-rule: ",ze,"; ","opacity: ",Kn,";",ys,Qn].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(f){let ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const Ke=f?this.calcTransformMatrix():this.calcOwnMatrix(),Ai='transform="'.concat(zt(Ke));return"".concat(Ai).concat(ze,'" ')}_toSVG(f){return[""]}toSVG(f){return this._createBaseSVGMarkup(this._toSVG(f),{reviver:f})}toClipPathSVG(f){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(f),{reviver:f})}_createBaseClipPathSVGMarkup(f){let{reviver:ze,additionalTransform:Ke=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const Ai=[this.getSvgTransform(!0,Ke),this.getSvgCommons()].join(""),ln=f.indexOf("COMMON_PARTS");return f[ln]=Ai,ze?ze(f.join("")):f.join("")}_createBaseSVGMarkup(f){let{noStyle:ze,reviver:Ke,withShadow:Ai,additionalTransform:ln}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const dn=ze?"":'style="'.concat(this.getSvgStyles(),'" '),gn=Ai?'style="'.concat(this.getSvgFilter(),'" '):"",Hn=this.clipPath,Kn=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",Qn=Hn&&Hn.absolutePositioned,ys=this.stroke,vs=this.fill,Cs=this.shadow,bs=[],ia=f.indexOf("COMMON_PARTS");let la;Hn&&(Hn.clipPathId="CLIPPATH_".concat(ft()),la='<clipPath id="'.concat(Hn.clipPathId,`" >
`).concat(Hn.toClipPathSVG(Ke),`</clipPath>
`)),Qn&&bs.push("<g ",gn,this.getSvgCommons(),` >
`),bs.push("<g ",this.getSvgTransform(!1),Qn?"":gn+this.getSvgCommons(),` >
`);const ra=[dn,Kn,ze?"":this.addPaintOrder()," ",ln?'transform="'.concat(ln,'" '):""].join("");return f[ia]=ra,Gt(vs)&&bs.push(vs.toSVG(this)),Gt(ys)&&bs.push(ys.toSVG(this)),Cs&&bs.push(Cs.toSVG(this)),Hn&&bs.push(la),bs.push(f.join("")),bs.push(`</g>
`),Qn&&bs.push(`</g>
`),Ke?Ke(bs.join("")):bs.join("")}addPaintOrder(){return this.paintFirst!==K?' paint-order="'.concat(this.paintFirst,'" '):""}}function Ye(qe){return new RegExp("^("+qe.join("|")+")\\b","i")}var We;const Ve=String.raw(We||(We=r(["(?:[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?)"],["(?:[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?)"]))),Ge=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+Ve+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+Ve+"))?\\s+(.*)"),He={cx:M,x:M,r:"radius",cy:P,y:P,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},Ne="font-size",Ue="clip-path";Ye(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]);Ye(["symbol","image","marker","pattern","view","svg"]);const Je=Ye(["symbol","g","a","svg","clipPath","defs"]),Ze=new ot(1,0),$e=new ot,ts=(qe,f)=>qe.rotate(f),es=(qe,f)=>new ot(f).subtract(qe),ss=qe=>qe.distanceFrom($e),is=(qe,f)=>Math.atan2(as(qe,f),hs(qe,f)),rs=qe=>is(Ze,qe),ns=qe=>qe.eq($e)?qe:qe.scalarDivide(ss(qe)),os=function(qe){let f=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return ns(new ot(-qe.y,qe.x).scalarMultiply(f?1:-1))},as=(qe,f)=>qe.x*f.y-qe.y*f.x,hs=(qe,f)=>qe.x*f.x+qe.y*f.y,cs=(qe,f,ze)=>{if(qe.eq(f)||qe.eq(ze))return!0;const Ke=as(f,ze),Ai=as(f,qe),ln=as(ze,qe);return Ke>=0?Ai>=0&&ln<=0:!(Ai<=0&&ln>=0)},ls="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",us=new RegExp("(?:\\s|^)"+ls+ls+"("+Ve+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class ds{constructor(f){const ze=typeof f=="string"?ds.parseShadow(f):f;Object.assign(this,ds.ownDefaults,ze),this.id=ft()}static parseShadow(f){const ze=f.trim(),[,Ke=0,Ai=0,ln=0]=(us.exec(ze)||[]).map(dn=>parseFloat(dn)||0);return{color:(ze.replace(us,"")||"rgb(0,0,0)").trim(),offsetX:Ke,offsetY:Ai,blur:ln}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(f){const ze=ts(new ot(this.offsetX,this.offsetY),xt(-f.angle)),Ke=new Le(this.color);let Ai=40,ln=40;return f.width&&f.height&&(Ai=100*Vt((Math.abs(ze.x)+this.blur)/f.width,o.NUM_FRACTION_DIGITS)+20,ln=100*Vt((Math.abs(ze.y)+this.blur)/f.height,o.NUM_FRACTION_DIGITS)+20),f.flipX&&(ze.x*=-1),f.flipY&&(ze.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(ln,'%" height="').concat(100+2*ln,'%" x="-').concat(Ai,'%" width="').concat(100+2*Ai,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(Vt(this.blur?this.blur/2:0,o.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(Vt(ze.x,o.NUM_FRACTION_DIGITS),'" dy="').concat(Vt(ze.y,o.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(Ke.toRgb(),'" flood-opacity="').concat(Ke.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){const f={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},ze=ds.ownDefaults;return this.includeDefaultValues?f:Wt(f,(Ke,Ai)=>Ke!==ze[Ai])}static async fromObject(f){return new this(f)}}t(ds,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),t(ds,"type","shadow"),tt.setClass(ds,"shadow");const gs=(qe,f,ze)=>Math.max(qe,Math.min(f,ze)),fs=[P,M,H,N,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",U,q],ps=[K,J,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],ms={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:M,originY:P,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:K,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},_s=(qe,f,ze,Ke)=>-ze*Math.cos(qe/Ke*b)+ze+f,ws=()=>!1;class Ss{constructor(f){let{startValue:ze,byValue:Ke,duration:Ai=500,delay:ln=0,easing:dn=_s,onStart:gn=C,onChange:Hn=C,onComplete:Kn=C,abort:Qn=ws,target:ys}=f;t(this,"_state","pending"),t(this,"durationProgress",0),t(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=Ai,this.delay=ln,this.easing=dn,this._onStart=gn,this._onChange=Hn,this._onComplete=Kn,this._abort=Qn,this.target=ys,this.startValue=ze,this.byValue=Ke,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){const f=ze=>{this._state==="pending"&&(this.startTime=ze||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>ut(f),this.delay):ut(f)}tick(f){const ze=(f||+new Date)-this.startTime,Ke=Math.min(ze,this.duration);this.durationProgress=Ke/this.duration;const{value:Ai,valueProgress:ln}=this.calculate(Ke);this.value=Object.freeze(Ai),this.valueProgress=ln,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):ze>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),ut(this.tick)))}register(){et.push(this)}unregister(){et.remove(this)}abort(){this._state="aborted",this.unregister()}}const Ts=["startValue","endValue"];class Os extends Ss{constructor(f){let{startValue:ze=0,endValue:Ke=100}=f;super(s(s({},i(f,Ts)),{},{startValue:ze,byValue:Ke-ze}))}calculate(f){const ze=this.easing(f,this.startValue,this.byValue,this.duration);return{value:ze,valueProgress:Math.abs((ze-this.startValue)/this.byValue)}}}const ks=["startValue","endValue"];class Ds extends Ss{constructor(f){let{startValue:ze=[0],endValue:Ke=[100]}=f;super(s(s({},i(f,ks)),{},{startValue:ze,byValue:Ke.map((Ai,ln)=>Ai-ze[ln])}))}calculate(f){const ze=this.startValue.map((Ke,Ai)=>this.easing(f,Ke,this.byValue[Ai],this.duration,Ai));return{value:ze,valueProgress:Math.abs((ze[0]-this.startValue[0])/this.byValue[0])}}}const Ms=["startValue","endValue","easing","onChange","onComplete","abort"],Ps=(qe,f,ze,Ke)=>f+ze*(1-Math.cos(qe/Ke*b)),Es=qe=>qe&&((f,ze,Ke)=>qe(new Le(f).toRgba(),ze,Ke));class As extends Ss{constructor(f){let{startValue:ze,endValue:Ke,easing:Ai=Ps,onChange:ln,onComplete:dn,abort:gn}=f,Hn=i(f,Ms);const Kn=new Le(ze).getSource(),Qn=new Le(Ke).getSource();super(s(s({},Hn),{},{startValue:Kn,byValue:Qn.map((ys,vs)=>ys-Kn[vs]),easing:Ai,onChange:Es(ln),onComplete:Es(dn),abort:Es(gn)}))}calculate(f){const[ze,Ke,Ai,ln]=this.startValue.map((gn,Hn)=>this.easing(f,gn,this.byValue[Hn],this.duration,Hn)),dn=[...[ze,Ke,Ai].map(Math.round),gs(0,ln,1)];return{value:dn,valueProgress:dn.map((gn,Hn)=>this.byValue[Hn]!==0?Math.abs((gn-this.startValue[Hn])/this.byValue[Hn]):0).find(gn=>gn!==0)||0}}}function js(qe){const f=(ze=>Array.isArray(ze.startValue)||Array.isArray(ze.endValue))(qe)?new Ds(qe):new Os(qe);return f.start(),f}function Fs(qe){const f=new As(qe);return f.start(),f}class Ls{constructor(f){this.status=f,this.points=[]}includes(f){return this.points.some(ze=>ze.eq(f))}append(){for(var f=arguments.length,ze=new Array(f),Ke=0;Ke<f;Ke++)ze[Ke]=arguments[Ke];return this.points=this.points.concat(ze.filter(Ai=>!this.includes(Ai))),this}static isPointContained(f,ze,Ke){let Ai=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(ze.eq(Ke))return f.eq(ze);if(ze.x===Ke.x)return f.x===ze.x&&(Ai||f.y>=Math.min(ze.y,Ke.y)&&f.y<=Math.max(ze.y,Ke.y));if(ze.y===Ke.y)return f.y===ze.y&&(Ai||f.x>=Math.min(ze.x,Ke.x)&&f.x<=Math.max(ze.x,Ke.x));{const ln=es(ze,Ke),dn=es(ze,f).divide(ln);return Ai?Math.abs(dn.x)===Math.abs(dn.y):dn.x===dn.y&&dn.x>=0&&dn.x<=1}}static isPointInPolygon(f,ze){const Ke=new ot(f).setX(Math.min(f.x-1,...ze.map(ln=>ln.x)));let Ai=0;for(let ln=0;ln<ze.length;ln++){const dn=this.intersectSegmentSegment(ze[ln],ze[(ln+1)%ze.length],f,Ke);if(dn.includes(f))return!0;Ai+=+(dn.status==="Intersection")}return Ai%2==1}static intersectLineLine(f,ze,Ke,Ai){let ln=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],dn=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];const gn=ze.x-f.x,Hn=ze.y-f.y,Kn=Ai.x-Ke.x,Qn=Ai.y-Ke.y,ys=f.x-Ke.x,vs=f.y-Ke.y,Cs=Kn*vs-Qn*ys,bs=gn*vs-Hn*ys,ia=Qn*gn-Kn*Hn;if(ia!==0){const la=Cs/ia,ra=bs/ia;return(ln||0<=la&&la<=1)&&(dn||0<=ra&&ra<=1)?new Ls("Intersection").append(new ot(f.x+la*gn,f.y+la*Hn)):new Ls}if(Cs===0||bs===0){const la=ln||dn||Ls.isPointContained(f,Ke,Ai)||Ls.isPointContained(ze,Ke,Ai)||Ls.isPointContained(Ke,f,ze)||Ls.isPointContained(Ai,f,ze);return new Ls(la?"Coincident":void 0)}return new Ls("Parallel")}static intersectSegmentLine(f,ze,Ke,Ai){return Ls.intersectLineLine(f,ze,Ke,Ai,!1,!0)}static intersectSegmentSegment(f,ze,Ke,Ai){return Ls.intersectLineLine(f,ze,Ke,Ai,!1,!1)}static intersectLinePolygon(f,ze,Ke){let Ai=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const ln=new Ls,dn=Ke.length;for(let gn,Hn,Kn,Qn=0;Qn<dn;Qn++){if(gn=Ke[Qn],Hn=Ke[(Qn+1)%dn],Kn=Ls.intersectLineLine(f,ze,gn,Hn,Ai,!1),Kn.status==="Coincident")return Kn;ln.append(...Kn.points)}return ln.points.length>0&&(ln.status="Intersection"),ln}static intersectSegmentPolygon(f,ze,Ke){return Ls.intersectLinePolygon(f,ze,Ke,!1)}static intersectPolygonPolygon(f,ze){const Ke=new Ls,Ai=f.length,ln=[];for(let dn=0;dn<Ai;dn++){const gn=f[dn],Hn=f[(dn+1)%Ai],Kn=Ls.intersectSegmentPolygon(gn,Hn,ze);Kn.status==="Coincident"?(ln.push(Kn),Ke.append(gn,Hn)):Ke.append(...Kn.points)}return ln.length>0&&ln.length===f.length?new Ls("Coincident"):(Ke.points.length>0&&(Ke.status="Intersection"),Ke)}static intersectPolygonRectangle(f,ze,Ke){const Ai=ze.min(Ke),ln=ze.max(Ke),dn=new ot(ln.x,Ai.y),gn=new ot(Ai.x,ln.y);return Ls.intersectPolygonPolygon(f,[Ai,dn,ln,gn])}}class Rs extends lt{getX(){return this.getXY().x}setX(f){this.setXY(this.getXY().setX(f))}getY(){return this.getXY().y}setY(f){this.setXY(this.getXY().setY(f))}getRelativeX(){return this.left}setRelativeX(f){this.left=f}getRelativeY(){return this.top}setRelativeY(f){this.top=f}getXY(){const f=this.getRelativeXY();return this.group?wt(f,this.group.calcTransformMatrix()):f}setXY(f,ze,Ke){this.group&&(f=wt(f,St(this.group.calcTransformMatrix()))),this.setRelativeXY(f,ze,Ke)}getRelativeXY(){return new ot(this.left,this.top)}setRelativeXY(f){let ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,Ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(f,ze,Ke)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:f,tr:ze,br:Ke,bl:Ai}=this.aCoords||(this.aCoords=this.calcACoords()),ln=[f,ze,Ke,Ai];if(this.group){const dn=this.group.calcTransformMatrix();return ln.map(gn=>wt(gn,dn))}return ln}intersectsWithRect(f,ze){return Ls.intersectPolygonRectangle(this.getCoords(),f,ze).status==="Intersection"}intersectsWithObject(f){const ze=Ls.intersectPolygonPolygon(this.getCoords(),f.getCoords());return ze.status==="Intersection"||ze.status==="Coincident"||f.isContainedWithinObject(this)||this.isContainedWithinObject(f)}isContainedWithinObject(f){return this.getCoords().every(ze=>f.containsPoint(ze))}isContainedWithinRect(f,ze){const{left:Ke,top:Ai,width:ln,height:dn}=this.getBoundingRect();return Ke>=f.x&&Ke+ln<=ze.x&&Ai>=f.y&&Ai+dn<=ze.y}isOverlapping(f){return this.intersectsWithObject(f)||this.isContainedWithinObject(f)||f.isContainedWithinObject(this)}containsPoint(f){return Ls.isPointInPolygon(f,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:f,br:ze}=this.canvas.vptCoords;return!!this.getCoords().some(Ke=>Ke.x<=ze.x&&Ke.x>=f.x&&Ke.y<=ze.y&&Ke.y>=f.y)||!!this.intersectsWithRect(f,ze)||this.containsPoint(f.midPointFrom(ze))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:f,br:ze}=this.canvas.vptCoords;return this.intersectsWithRect(f,ze)?!0:this.getCoords().every(Ke=>(Ke.x>=ze.x||Ke.x<=f.x)&&(Ke.y>=ze.y||Ke.y<=f.y))&&this.containsPoint(f.midPointFrom(ze))}getBoundingRect(){return ae(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(f){this._set(H,f),this._set(N,f),this.setCoords()}scaleToWidth(f){const ze=this.getBoundingRect().width/this.getScaledWidth();return this.scale(f/this.width/ze)}scaleToHeight(f){const ze=this.getBoundingRect().height/this.getScaledHeight();return this.scale(f/this.height/ze)}getCanvasRetinaScaling(){var f;return((f=this.canvas)===null||f===void 0?void 0:f.getRetinaScaling())||1}getTotalAngle(){return this.group?Ct(kt(this.calcTransformMatrix())):this.angle}getViewportTransform(){var f;return((f=this.canvas)===null||f===void 0?void 0:f.viewportTransform)||T.concat()}calcACoords(){const f=Pt({angle:this.angle}),{x:ze,y:Ke}=this.getRelativeCenterPoint(),Ai=Mt(ze,Ke),ln=Tt(Ai,f),dn=this._getTransformedDimensions(),gn=dn.x/2,Hn=dn.y/2;return{tl:wt({x:-gn,y:-Hn},ln),tr:wt({x:gn,y:-Hn},ln),bl:wt({x:-gn,y:Hn},ln),br:wt({x:gn,y:Hn},ln)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let f=arguments.length>0&&arguments[0]!==void 0&&arguments[0],ze=[];return!f&&this.group&&(ze=this.group.transformMatrixKey(f)),ze.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,xe(this.originX),xe(this.originY)),ze}calcTransformMatrix(){let f=arguments.length>0&&arguments[0]!==void 0&&arguments[0],ze=this.calcOwnMatrix();if(f||!this.group)return ze;const Ke=this.transformMatrixKey(f),Ai=this.matrixCache;return Ai&&Ai.key.every((ln,dn)=>ln===Ke[dn])?Ai.value:(this.group&&(ze=Tt(this.group.calcTransformMatrix(!1),ze)),this.matrixCache={key:Ke,value:ze},ze)}calcOwnMatrix(){const f=this.transformMatrixKey(!0),ze=this.ownMatrixCache;if(ze&&ze.key===f)return ze.value;const Ke=this.getRelativeCenterPoint(),Ai={angle:this.angle,translateX:Ke.x,translateY:Ke.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},ln=Rt(Ai);return this.ownMatrixCache={key:f,value:ln},ln}_getNonTransformedDimensions(){return new ot(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(f){return this._getTransformedDimensions(f).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const ze=s({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},f),Ke=ze.strokeWidth;let Ai=Ke,ln=0;this.strokeUniform&&(Ai=0,ln=Ke);const dn=ze.width+Ai,gn=ze.height+Ai;let Hn;return Hn=ze.skewX===0&&ze.skewY===0?new ot(dn*ze.scaleX,gn*ze.scaleY):ge(dn,gn,Lt(ze)),Hn.scalarAdd(ln)}translateToGivenOrigin(f,ze,Ke,Ai,ln){let dn=f.x,gn=f.y;const Hn=xe(Ai)-xe(ze),Kn=xe(ln)-xe(Ke);if(Hn||Kn){const Qn=this._getTransformedDimensions();dn+=Hn*Qn.x,gn+=Kn*Qn.y}return new ot(dn,gn)}translateToCenterPoint(f,ze,Ke){if(ze===D&&Ke===D)return f;const Ai=this.translateToGivenOrigin(f,ze,Ke,D,D);return this.angle?Ai.rotate(xt(this.angle),f):Ai}translateToOriginPoint(f,ze,Ke){const Ai=this.translateToGivenOrigin(f,D,D,ze,Ke);return this.angle?Ai.rotate(xt(this.angle),f):Ai}getCenterPoint(){const f=this.getRelativeCenterPoint();return this.group?wt(f,this.group.calcTransformMatrix()):f}getRelativeCenterPoint(){return this.translateToCenterPoint(new ot(this.left,this.top),this.originX,this.originY)}getPointByOrigin(f,ze){return this.translateToOriginPoint(this.getRelativeCenterPoint(),f,ze)}setPositionByOrigin(f,ze,Ke){const Ai=this.translateToCenterPoint(f,ze,Ke),ln=this.translateToOriginPoint(Ai,this.originX,this.originY);this.set({left:ln.x,top:ln.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),M,P)}}const Is=["type"],Bs=["extraParam"];let Xs=class Lp extends Rs{static getDefaults(){return Lp.ownDefaults}get type(){const f=this.constructor.type;return f==="FabricObject"?"object":f.toLowerCase()}set type(f){a("warn","Setting type has no effect",f)}constructor(f){super(),t(this,"_cacheContext",null),Object.assign(this,Lp.ownDefaults),this.setOptions(f)}_createCacheCanvas(){this._cacheCanvas=pt(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(f){const ze=f.width,Ke=f.height,Ai=o.maxCacheSideLimit,ln=o.minCacheSideLimit;if(ze<=Ai&&Ke<=Ai&&ze*Ke<=o.perfLimitSizeTotal)return ze<ln&&(f.width=ln),Ke<ln&&(f.height=ln),f;const dn=ze/Ke,[gn,Hn]=_.limitDimsByArea(dn),Kn=gs(ln,gn,Ai),Qn=gs(ln,Hn,Ai);return ze>Kn&&(f.zoomX/=ze/Kn,f.width=Kn,f.capped=!0),Ke>Qn&&(f.zoomY/=Ke/Qn,f.height=Qn,f.capped=!0),f}_getCacheCanvasDimensions(){const f=this.getTotalObjectScaling(),ze=this._getTransformedDimensions({skewX:0,skewY:0}),Ke=ze.x*f.x/this.scaleX,Ai=ze.y*f.y/this.scaleY;return{width:Math.ceil(Ke+2),height:Math.ceil(Ai+2),zoomX:f.x,zoomY:f.y,x:Ke,y:Ai}}_updateCacheCanvas(){const f=this._cacheCanvas,ze=this._cacheContext,{width:Ke,height:Ai,zoomX:ln,zoomY:dn,x:gn,y:Hn}=this._limitCacheSize(this._getCacheCanvasDimensions()),Kn=Ke!==f.width||Ai!==f.height,Qn=this.zoomX!==ln||this.zoomY!==dn;if(!f||!ze)return!1;if(Kn||Qn){Ke!==f.width||Ai!==f.height?(f.width=Ke,f.height=Ai):(ze.setTransform(1,0,0,1,0,0),ze.clearRect(0,0,f.width,f.height));const ys=gn/2,vs=Hn/2;return this.cacheTranslationX=Math.round(f.width/2-ys)+ys,this.cacheTranslationY=Math.round(f.height/2-vs)+vs,ze.translate(this.cacheTranslationX,this.cacheTranslationY),ze.scale(ln,dn),this.zoomX=ln,this.zoomY=dn,!0}return!1}setOptions(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(f)}transform(f){const ze=this.group&&!this.group._transformDone||this.group&&this.canvas&&f===this.canvas.contextTop,Ke=this.calcTransformMatrix(!ze);f.transform(Ke[0],Ke[1],Ke[2],Ke[3],Ke[4],Ke[5])}getObjectScaling(){if(!this.group)return new ot(Math.abs(this.scaleX),Math.abs(this.scaleY));const f=Dt(this.calcTransformMatrix());return new ot(Math.abs(f.scaleX),Math.abs(f.scaleY))}getTotalObjectScaling(){const f=this.getObjectScaling();if(this.canvas){const ze=this.canvas.getZoom(),Ke=this.getCanvasRetinaScaling();return f.scalarMultiply(ze*Ke)}return f}getObjectOpacity(){let f=this.opacity;return this.group&&(f*=this.group.getObjectOpacity()),f}_constrainScale(f){return Math.abs(f)<this.minScaleLimit?f<0?-this.minScaleLimit:this.minScaleLimit:f===0?1e-4:f}_set(f,ze){f!==H&&f!==N||(ze=this._constrainScale(ze)),f===H&&ze<0?(this.flipX=!this.flipX,ze*=-1):f==="scaleY"&&ze<0?(this.flipY=!this.flipY,ze*=-1):f!=="shadow"||!ze||ze instanceof ds||(ze=new ds(ze));const Ke=this[f]!==ze;return this[f]=ze,Ke&&this.constructor.cacheProperties.includes(f)&&(this.dirty=!0),this.parent&&(this.dirty||Ke&&this.constructor.stateProperties.includes(f))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(f){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(f.save(),this._setupCompositeOperation(f),this.drawSelectionBackground(f),this.transform(f),this._setOpacity(f),this._setShadow(f),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(f)):(this._removeCacheCanvas(),this.drawObject(f,!1,{}),this.dirty=!1),f.restore())}drawSelectionBackground(f){}renderCache(f){if(f=f||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){const{zoomX:ze,zoomY:Ke,cacheTranslationX:Ai,cacheTranslationY:ln}=this,{width:dn,height:gn}=this._cacheCanvas;this.drawObject(this._cacheContext,f.forClipping,{zoomX:ze,zoomY:Ke,cacheTranslationX:Ai,cacheTranslationY:ln,width:dn,height:gn,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===J&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(f,ze,Ke){f.save(),ze.inverted?f.globalCompositeOperation="destination-out":f.globalCompositeOperation="destination-in",f.setTransform(1,0,0,1,0,0),f.drawImage(Ke,0,0),f.restore()}drawObject(f,ze,Ke){const Ai=this.fill,ln=this.stroke;ze?(this.fill="black",this.stroke="",this._setClippingProperties(f)):this._renderBackground(f),this._render(f),this._drawClipPath(f,this.clipPath,Ke),this.fill=Ai,this.stroke=ln}createClipPathLayer(f,ze){const Ke=vt(ze),Ai=Ke.getContext("2d");if(Ai.translate(ze.cacheTranslationX,ze.cacheTranslationY),Ai.scale(ze.zoomX,ze.zoomY),f._cacheCanvas=Ke,ze.parentClipPaths.forEach(ln=>{ln.transform(Ai)}),ze.parentClipPaths.push(f),f.absolutePositioned){const ln=St(this.calcTransformMatrix());Ai.transform(ln[0],ln[1],ln[2],ln[3],ln[4],ln[5])}return f.transform(Ai),f.drawObject(Ai,!0,ze),Ke}_drawClipPath(f,ze,Ke){if(!ze)return;ze._transformDone=!0;const Ai=this.createClipPathLayer(ze,Ke);this.drawClipPathOnCache(f,ze,Ai)}drawCacheOnCanvas(f){f.scale(1/this.zoomX,1/this.zoomY),f.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let f=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;const ze=this._cacheCanvas,Ke=this._cacheContext;return!(!ze||!Ke||f||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(ze&&Ke&&!f&&(Ke.save(),Ke.setTransform(1,0,0,1,0,0),Ke.clearRect(0,0,ze.width,ze.height),Ke.restore()),!0)}_renderBackground(f){if(!this.backgroundColor)return;const ze=this._getNonTransformedDimensions();f.fillStyle=this.backgroundColor,f.fillRect(-ze.x/2,-ze.y/2,ze.x,ze.y),this._removeShadow(f)}_setOpacity(f){this.group&&!this.group._transformDone?f.globalAlpha=this.getObjectOpacity():f.globalAlpha*=this.opacity}_setStrokeStyles(f,ze){const Ke=ze.stroke;Ke&&(f.lineWidth=ze.strokeWidth,f.lineCap=ze.strokeLineCap,f.lineDashOffset=ze.strokeDashOffset,f.lineJoin=ze.strokeLineJoin,f.miterLimit=ze.strokeMiterLimit,Gt(Ke)?Ke.gradientUnits==="percentage"||Ke.gradientTransform||Ke.patternTransform?this._applyPatternForTransformedGradient(f,Ke):(f.strokeStyle=Ke.toLive(f),this._applyPatternGradientTransform(f,Ke)):f.strokeStyle=ze.stroke)}_setFillStyles(f,ze){let{fill:Ke}=ze;Ke&&(Gt(Ke)?(f.fillStyle=Ke.toLive(f),this._applyPatternGradientTransform(f,Ke)):f.fillStyle=Ke)}_setClippingProperties(f){f.globalAlpha=1,f.strokeStyle="transparent",f.fillStyle="#000000"}_setLineDash(f,ze){ze&&ze.length!==0&&f.setLineDash(ze)}_setShadow(f){if(!this.shadow)return;const ze=this.shadow,Ke=this.canvas,Ai=this.getCanvasRetinaScaling(),[ln,,,dn]=(Ke==null?void 0:Ke.viewportTransform)||T,gn=ln*Ai,Hn=dn*Ai,Kn=ze.nonScaling?new ot(1,1):this.getObjectScaling();f.shadowColor=ze.color,f.shadowBlur=ze.blur*o.browserShadowBlurConstant*(gn+Hn)*(Kn.x+Kn.y)/4,f.shadowOffsetX=ze.offsetX*gn*Kn.x,f.shadowOffsetY=ze.offsetY*Hn*Kn.y}_removeShadow(f){this.shadow&&(f.shadowColor="",f.shadowBlur=f.shadowOffsetX=f.shadowOffsetY=0)}_applyPatternGradientTransform(f,ze){if(!Gt(ze))return{offsetX:0,offsetY:0};const Ke=ze.gradientTransform||ze.patternTransform,Ai=-this.width/2+ze.offsetX||0,ln=-this.height/2+ze.offsetY||0;return ze.gradientUnits==="percentage"?f.transform(this.width,0,0,this.height,Ai,ln):f.transform(1,0,0,1,Ai,ln),Ke&&f.transform(Ke[0],Ke[1],Ke[2],Ke[3],Ke[4],Ke[5]),{offsetX:Ai,offsetY:ln}}_renderPaintInOrder(f){this.paintFirst===J?(this._renderStroke(f),this._renderFill(f)):(this._renderFill(f),this._renderStroke(f))}_render(f){}_renderFill(f){this.fill&&(f.save(),this._setFillStyles(f,this),this.fillRule==="evenodd"?f.fill("evenodd"):f.fill(),f.restore())}_renderStroke(f){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(f),f.save(),this.strokeUniform){const ze=this.getObjectScaling();f.scale(1/ze.x,1/ze.y)}this._setLineDash(f,this.strokeDashArray),this._setStrokeStyles(f,this),f.stroke(),f.restore()}}_applyPatternForTransformedGradient(f,ze){var Ke;const Ai=this._limitCacheSize(this._getCacheCanvasDimensions()),ln=this.getCanvasRetinaScaling(),dn=Ai.x/this.scaleX/ln,gn=Ai.y/this.scaleY/ln,Hn=vt({width:Math.ceil(dn),height:Math.ceil(gn)}),Kn=Hn.getContext("2d");Kn&&(Kn.beginPath(),Kn.moveTo(0,0),Kn.lineTo(dn,0),Kn.lineTo(dn,gn),Kn.lineTo(0,gn),Kn.closePath(),Kn.translate(dn/2,gn/2),Kn.scale(Ai.zoomX/this.scaleX/ln,Ai.zoomY/this.scaleY/ln),this._applyPatternGradientTransform(Kn,ze),Kn.fillStyle=ze.toLive(f),Kn.fill(),f.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),f.scale(ln*this.scaleX/Ai.zoomX,ln*this.scaleY/Ai.zoomY),f.strokeStyle=(Ke=Kn.createPattern(Hn,"no-repeat"))!==null&&Ke!==void 0?Ke:"")}_findCenterFromElement(){return new ot(this.left+this.width/2,this.top+this.height/2)}clone(f){const ze=this.toObject(f);return this.constructor.fromObject(ze)}cloneAsImage(f){const ze=this.toCanvasElement(f);return new(tt.getClass("image"))(ze)}toCanvasElement(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const ze=de(this),Ke=this.group,Ai=this.shadow,ln=Math.abs,dn=f.enableRetinaScaling?y():1,gn=(f.multiplier||1)*dn,Hn=f.canvasProvider||(sa=>new se(sa,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,f.withoutTransform&&ue(this),f.withoutShadow&&(this.shadow=null),f.viewportTransform&&ve(this,this.getViewportTransform()),this.setCoords();const Kn=pt(),Qn=this.getBoundingRect(),ys=this.shadow,vs=new ot;if(ys){const sa=ys.blur,na=ys.nonScaling?new ot(1,1):this.getObjectScaling();vs.x=2*Math.round(ln(ys.offsetX)+sa)*ln(na.x),vs.y=2*Math.round(ln(ys.offsetY)+sa)*ln(na.y)}const Cs=Qn.width+vs.x,bs=Qn.height+vs.y;Kn.width=Math.ceil(Cs),Kn.height=Math.ceil(bs);const ia=Hn(Kn);f.format==="jpeg"&&(ia.backgroundColor="#fff"),this.setPositionByOrigin(new ot(ia.width/2,ia.height/2),D,D);const la=this.canvas;ia._objects=[this],this.set("canvas",ia),this.setCoords();const ra=ia.toCanvasElement(gn||1,f);return this.set("canvas",la),this.shadow=Ai,Ke&&(this.group=Ke),this.set(ze),this.setCoords(),ia._objects=[],ia.destroy(),ra}toDataURL(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return yt(this.toCanvasElement(f),f.format||"png",f.quality||1)}toBlob(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return _t(this.toCanvasElement(f),f.format||"png",f.quality||1)}isType(){for(var f=arguments.length,ze=new Array(f),Ke=0;Ke<f;Ke++)ze[Ke]=arguments[Ke];return ze.includes(this.constructor.type)||ze.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(f){const{centeredRotation:ze,originX:Ke,originY:Ai}=this;if(ze){const{x:ln,y:dn}=this.getRelativeCenterPoint();this.originX=D,this.originY=D,this.left=ln,this.top=dn}if(this.set("angle",f),ze){const{x:ln,y:dn}=this.translateToOriginPoint(this.getRelativeCenterPoint(),Ke,Ai);this.left=ln,this.top=dn,this.originX=Ke,this.originY=Ai}}setOnGroup(){}_setupCompositeOperation(f){this.globalCompositeOperation&&(f.globalCompositeOperation=this.globalCompositeOperation)}dispose(){et.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&p().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(f,ze){return Object.entries(f).reduce((Ke,Ai)=>{let[ln,dn]=Ai;return Ke[ln]=this._animate(ln,dn,ze),Ke},{})}_animate(f,ze){let Ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const Ai=f.split("."),ln=this.constructor.colorProperties.includes(Ai[Ai.length-1]),{abort:dn,startValue:gn,onChange:Hn,onComplete:Kn}=Ke,Qn=s(s({},Ke),{},{target:this,startValue:gn??Ai.reduce((ys,vs)=>ys[vs],this),endValue:ze,abort:dn==null?void 0:dn.bind(this),onChange:(ys,vs,Cs)=>{Ai.reduce((bs,ia,la)=>(la===Ai.length-1&&(bs[ia]=ys),bs[ia]),this),Hn&&Hn(ys,vs,Cs)},onComplete:(ys,vs,Cs)=>{this.setCoords(),Kn&&Kn(ys,vs,Cs)}});return ln?Fs(Qn):js(Qn)}isDescendantOf(f){const{parent:ze,group:Ke}=this;return ze===f||Ke===f||!!ze&&ze.isDescendantOf(f)||!!Ke&&Ke!==ze&&Ke.isDescendantOf(f)}getAncestors(){const f=[];let ze=this;do ze=ze.parent,ze&&f.push(ze);while(ze);return f}findCommonAncestors(f){if(this===f)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const ze=this.getAncestors(),Ke=f.getAncestors();if(ze.length===0&&Ke.length>0&&this===Ke[Ke.length-1])return{fork:[],otherFork:[f,...Ke.slice(0,Ke.length-1)],common:[this]};for(let Ai,ln=0;ln<ze.length;ln++){if(Ai=ze[ln],Ai===f)return{fork:[this,...ze.slice(0,ln)],otherFork:[],common:ze.slice(ln)};for(let dn=0;dn<Ke.length;dn++){if(this===Ke[dn])return{fork:[],otherFork:[f,...Ke.slice(0,dn)],common:[this,...ze]};if(Ai===Ke[dn])return{fork:[this,...ze.slice(0,ln)],otherFork:[f,...Ke.slice(0,dn)],common:ze.slice(ln)}}}return{fork:[this,...ze],otherFork:[f,...Ke],common:[]}}hasCommonAncestors(f){const ze=this.findCommonAncestors(f);return ze&&!!ze.common.length}isInFrontOf(f){if(this===f)return;const ze=this.findCommonAncestors(f);if(ze.fork.includes(f))return!0;if(ze.otherFork.includes(this))return!1;const Ke=ze.common[0]||this.canvas;if(!Ke)return;const Ai=ze.fork.pop(),ln=ze.otherFork.pop(),dn=Ke._objects.indexOf(Ai),gn=Ke._objects.indexOf(ln);return dn>-1&&dn>gn}toObject(){const f=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(Lp.customProperties,this.constructor.customProperties||[]);let ze;const Ke=o.NUM_FRACTION_DIGITS,{clipPath:Ai,fill:ln,stroke:dn,shadow:gn,strokeDashArray:Hn,left:Kn,top:Qn,originX:ys,originY:vs,width:Cs,height:bs,strokeWidth:ia,strokeLineCap:la,strokeDashOffset:ra,strokeLineJoin:sa,strokeUniform:na,strokeMiterLimit:aa,scaleX:oa,scaleY:ha,angle:ga,flipX:va,flipY:Sa,opacity:tl,visible:Zo,backgroundColor:Ta,fillRule:Qa,paintFirst:$a,globalCompositeOperation:Ma,skewX:ua,skewY:ya}=this;Ai&&!Ai.excludeFromExport&&(ze=Ai.toObject(f.concat("inverted","absolutePositioned")));const ca=pa=>Vt(pa,Ke),da=s(s({},Yt(this,f)),{},{type:this.constructor.type,version:x,originX:ys,originY:vs,left:ca(Kn),top:ca(Qn),width:ca(Cs),height:ca(bs),fill:Ht(ln)?ln.toObject():ln,stroke:Ht(dn)?dn.toObject():dn,strokeWidth:ca(ia),strokeDashArray:Hn&&Hn.concat(),strokeLineCap:la,strokeDashOffset:ra,strokeLineJoin:sa,strokeUniform:na,strokeMiterLimit:ca(aa),scaleX:ca(oa),scaleY:ca(ha),angle:ca(ga),flipX:va,flipY:Sa,opacity:ca(tl),shadow:gn&&gn.toObject(),visible:Zo,backgroundColor:Ta,fillRule:Qa,paintFirst:$a,globalCompositeOperation:Ma,skewX:ca(ua),skewY:ca(ya)},ze?{clipPath:ze}:null);return this.includeDefaultValues?da:this._removeDefaultValues(da)}toDatalessObject(f){return this.toObject(f)}_removeDefaultValues(f){const ze=this.constructor.getDefaults(),Ke=Object.keys(ze).length>0?ze:Object.getPrototypeOf(this);return Wt(f,(Ai,ln)=>{if(ln===M||ln===P||ln==="type")return!0;const dn=Ke[ln];return Ai!==dn&&!(Array.isArray(Ai)&&Array.isArray(dn)&&Ai.length===0&&dn.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(f){let ze=i(f,Is),Ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:Ai}=Ke,ln=i(Ke,Bs);return Xt(ze,ln).then(dn=>Ai?(delete dn[Ai],new this(ze[Ai],dn)):new this(dn))}static fromObject(f,ze){return this._fromObject(f,ze)}};t(Xs,"stateProperties",fs),t(Xs,"cacheProperties",ps),t(Xs,"ownDefaults",ms),t(Xs,"type","FabricObject"),t(Xs,"colorProperties",[K,J,"backgroundColor"]),t(Xs,"customProperties",[]),tt.setClass(Xs),tt.setClass(Xs,"object");const Ys=(qe,f,ze)=>(Ke,Ai,ln,dn)=>{const gn=f(Ke,Ai,ln,dn);return gn&&ye(qe,s(s({},Te(Ke,Ai,ln,dn)),ze)),gn};function Ws(qe){return(f,ze,Ke,Ai)=>{const{target:ln,originX:dn,originY:gn}=ze,Hn=ln.getRelativeCenterPoint(),Kn=ln.translateToOriginPoint(Hn,dn,gn),Qn=qe(f,ze,Ke,Ai);return ln.setPositionByOrigin(Kn,ze.originX,ze.originY),Qn}}const Vs=Ys(Y,Ws((qe,f,ze,Ke)=>{const Ai=ke(f,f.originX,f.originY,ze,Ke);if(xe(f.originX)===xe(D)||xe(f.originX)===xe(A)&&Ai.x<0||xe(f.originX)===xe(M)&&Ai.x>0){const{target:ln}=f,dn=ln.strokeWidth/(ln.strokeUniform?ln.scaleX:1),gn=be(f)?2:1,Hn=ln.width,Kn=Math.abs(Ai.x*gn/ln.scaleX)-dn;return ln.set("width",Math.max(Kn,1)),Hn!==ln.width}return!1}));function zs(qe,f,ze,Ke,Ai){Ke=Ke||{};const ln=this.sizeX||Ke.cornerSize||Ai.cornerSize,dn=this.sizeY||Ke.cornerSize||Ai.cornerSize,gn=Ke.transparentCorners!==void 0?Ke.transparentCorners:Ai.transparentCorners,Hn=gn?J:K,Kn=!gn&&(Ke.cornerStrokeColor||Ai.cornerStrokeColor);let Qn,ys=f,vs=ze;qe.save(),qe.fillStyle=Ke.cornerColor||Ai.cornerColor||"",qe.strokeStyle=Ke.cornerStrokeColor||Ai.cornerStrokeColor||"",ln>dn?(Qn=ln,qe.scale(1,dn/ln),vs=ze*ln/dn):dn>ln?(Qn=dn,qe.scale(ln/dn,1),ys=f*dn/ln):Qn=ln,qe.beginPath(),qe.arc(ys,vs,Qn/2,0,w$1,!1),qe[Hn](),Kn&&qe.stroke(),qe.restore()}function Gs(qe,f,ze,Ke,Ai){Ke=Ke||{};const ln=this.sizeX||Ke.cornerSize||Ai.cornerSize,dn=this.sizeY||Ke.cornerSize||Ai.cornerSize,gn=Ke.transparentCorners!==void 0?Ke.transparentCorners:Ai.transparentCorners,Hn=gn?J:K,Kn=!gn&&(Ke.cornerStrokeColor||Ai.cornerStrokeColor),Qn=ln/2,ys=dn/2;qe.save(),qe.fillStyle=Ke.cornerColor||Ai.cornerColor||"",qe.strokeStyle=Ke.cornerStrokeColor||Ai.cornerStrokeColor||"",qe.translate(f,ze);const vs=Ai.getTotalAngle();qe.rotate(xt(vs)),qe["".concat(Hn,"Rect")](-Qn,-ys,ln,dn),Kn&&qe.strokeRect(-Qn,-ys,ln,dn),qe.restore()}class Hs{constructor(f){t(this,"visible",!0),t(this,"actionName",G),t(this,"angle",0),t(this,"x",0),t(this,"y",0),t(this,"offsetX",0),t(this,"offsetY",0),t(this,"sizeX",0),t(this,"sizeY",0),t(this,"touchSizeX",0),t(this,"touchSizeY",0),t(this,"cursorStyle","crosshair"),t(this,"withConnection",!1),Object.assign(this,f)}shouldActivate(f,ze,Ke,Ai){var ln;let{tl:dn,tr:gn,br:Hn,bl:Kn}=Ai;return((ln=ze.canvas)===null||ln===void 0?void 0:ln.getActiveObject())===ze&&ze.isControlVisible(f)&&Ls.isPointInPolygon(Ke,[dn,gn,Hn,Kn])}getActionHandler(f,ze,Ke){return this.actionHandler}getMouseDownHandler(f,ze,Ke){return this.mouseDownHandler}getMouseUpHandler(f,ze,Ke){return this.mouseUpHandler}cursorStyleHandler(f,ze,Ke){return ze.cursorStyle}getActionName(f,ze,Ke){return ze.actionName}getVisibility(f,ze){var Ke,Ai;return(Ke=(Ai=f._controlsVisibility)===null||Ai===void 0?void 0:Ai[ze])!==null&&Ke!==void 0?Ke:this.visible}setVisibility(f,ze,Ke){this.visible=f}positionHandler(f,ze,Ke,Ai){return new ot(this.x*f.x+this.offsetX,this.y*f.y+this.offsetY).transform(ze)}calcCornerCoords(f,ze,Ke,Ai,ln,dn){const gn=Ot([Mt(Ke,Ai),Pt({angle:f}),Et((ln?this.touchSizeX:this.sizeX)||ze,(ln?this.touchSizeY:this.sizeY)||ze)]);return{tl:new ot(-.5,-.5).transform(gn),tr:new ot(.5,-.5).transform(gn),br:new ot(.5,.5).transform(gn),bl:new ot(-.5,.5).transform(gn)}}render(f,ze,Ke,Ai,ln){((Ai=Ai||{}).cornerStyle||ln.cornerStyle)==="circle"?zs.call(this,f,ze,Ke,Ai,ln):Gs.call(this,f,ze,Ke,Ai,ln)}}const Ns=(qe,f,ze)=>ze.lockRotation?Ce:f.cursorStyle,Us=Ys(I,Ws((qe,f,ze,Ke)=>{let{target:Ai,ex:ln,ey:dn,theta:gn,originX:Hn,originY:Kn}=f;const Qn=Ai.translateToOriginPoint(Ai.getRelativeCenterPoint(),Hn,Kn);if(Se(Ai,"lockRotation"))return!1;const ys=Math.atan2(dn-Qn.y,ln-Qn.x),vs=Math.atan2(Ke-Qn.y,ze-Qn.x);let Cs=Ct(vs-ys+gn);if(Ai.snapAngle&&Ai.snapAngle>0){const ia=Ai.snapAngle,la=Ai.snapThreshold||ia,ra=Math.ceil(Cs/ia)*ia,sa=Math.floor(Cs/ia)*ia;Math.abs(Cs-sa)<la?Cs=sa:Math.abs(Cs-ra)<la&&(Cs=ra)}Cs<0&&(Cs=360+Cs),Cs%=360;const bs=Ai.angle!==Cs;return Ai.angle=Cs,bs}));function qs(qe,f){const ze=f.canvas,Ke=qe[ze.uniScaleKey];return ze.uniformScaling&&!Ke||!ze.uniformScaling&&Ke}function Ks(qe,f,ze){const Ke=Se(qe,"lockScalingX"),Ai=Se(qe,"lockScalingY");if(Ke&&Ai||!f&&(Ke||Ai)&&ze||Ke&&f==="x"||Ai&&f==="y")return!0;const{width:ln,height:dn,strokeWidth:gn}=qe;return ln===0&&gn===0&&f!=="y"||dn===0&&gn===0&&f!=="x"}const Js=["e","se","s","sw","w","nw","n","ne","e"],Qs=(qe,f,ze)=>{const Ke=qs(qe,ze);if(Ks(ze,f.x!==0&&f.y===0?"x":f.x===0&&f.y!==0?"y":"",Ke))return Ce;const Ai=Oe(ze,f);return"".concat(Js[Ai],"-resize")};function Zs(qe,f,ze,Ke){let Ai=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const ln=f.target,dn=Ai.by,gn=qs(qe,ln);let Hn,Kn,Qn,ys,vs,Cs;if(Ks(ln,dn,gn))return!1;if(f.gestureScale)Kn=f.scaleX*f.gestureScale,Qn=f.scaleY*f.gestureScale;else{if(Hn=ke(f,f.originX,f.originY,ze,Ke),vs=dn!=="y"?Math.sign(Hn.x||f.signX||1):1,Cs=dn!=="x"?Math.sign(Hn.y||f.signY||1):1,f.signX||(f.signX=vs),f.signY||(f.signY=Cs),Se(ln,"lockScalingFlip")&&(f.signX!==vs||f.signY!==Cs))return!1;if(ys=ln._getTransformedDimensions(),gn&&!dn){const la=Math.abs(Hn.x)+Math.abs(Hn.y),{original:ra}=f,sa=la/(Math.abs(ys.x*ra.scaleX/ln.scaleX)+Math.abs(ys.y*ra.scaleY/ln.scaleY));Kn=ra.scaleX*sa,Qn=ra.scaleY*sa}else Kn=Math.abs(Hn.x*ln.scaleX/ys.x),Qn=Math.abs(Hn.y*ln.scaleY/ys.y);be(f)&&(Kn*=2,Qn*=2),f.signX!==vs&&dn!=="y"&&(f.originX=we(f.originX),Kn*=-1,f.signX=vs),f.signY!==Cs&&dn!=="x"&&(f.originY=we(f.originY),Qn*=-1,f.signY=Cs)}const bs=ln.scaleX,ia=ln.scaleY;return dn?(dn==="x"&&ln.set(H,Kn),dn==="y"&&ln.set(N,Qn)):(!Se(ln,"lockScalingX")&&ln.set(H,Kn),!Se(ln,"lockScalingY")&&ln.set(N,Qn)),bs!==ln.scaleX||ia!==ln.scaleY}const $s=Ys(R,Ws((qe,f,ze,Ke)=>Zs(qe,f,ze,Ke))),ti=Ys(R,Ws((qe,f,ze,Ke)=>Zs(qe,f,ze,Ke,{by:"x"}))),ei=Ys(R,Ws((qe,f,ze,Ke)=>Zs(qe,f,ze,Ke,{by:"y"}))),si=["target","ex","ey","skewingSide"],ii={x:{counterAxis:"y",scale:H,skew:U,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:N,skew:q,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},ri=["ns","nesw","ew","nwse"],ni=(qe,f,ze)=>{if(f.x!==0&&Se(ze,"lockSkewingY")||f.y!==0&&Se(ze,"lockSkewingX"))return Ce;const Ke=Oe(ze,f)%4;return"".concat(ri[Ke],"-resize")};function oi(qe,f,ze,Ke,Ai){const{target:ln}=ze,{counterAxis:dn,origin:gn,lockSkewing:Hn,skew:Kn,flip:Qn}=ii[qe];if(Se(ln,Hn))return!1;const{origin:ys,flip:vs}=ii[dn],Cs=xe(ze[ys])*(ln[vs]?-1:1),bs=-Math.sign(Cs)*(ln[Qn]?-1:1),ia=.5*-((ln[Kn]===0&&ke(ze,D,D,Ke,Ai)[qe]>0||ln[Kn]>0?1:-1)*bs)+.5;return Ys(X,Ws((ra,sa,na,aa)=>function(oa,ha,ga){let{target:va,ex:Sa,ey:tl,skewingSide:Zo}=ha,Ta=i(ha,si);const{skew:Qa}=ii[oa],$a=ga.subtract(new ot(Sa,tl)).divide(new ot(va.scaleX,va.scaleY))[oa],Ma=va[Qa],ua=Ta[Qa],ya=Math.tan(xt(ua)),ca=oa==="y"?va._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:va._getTransformedDimensions({scaleX:1,scaleY:1}).y,da=2*$a*Zo/Math.max(ca,1)+ya,pa=Ct(Math.atan(da));va.set(Qa,pa);const xa=Ma!==va[Qa];if(xa&&oa==="y"){const{skewX:Oa,scaleX:Ja}=va,rl=va._getTransformedDimensions({skewY:Ma}),hl=va._getTransformedDimensions(),al=Oa!==0?rl.x/hl.x:1;al!==1&&va.set(H,al*Ja)}return xa}(qe,sa,new ot(na,aa))))(f,s(s({},ze),{},{[gn]:ia,skewingSide:bs}),Ke,Ai)}const ai=(qe,f,ze,Ke)=>oi("x",qe,f,ze,Ke),hi=(qe,f,ze,Ke)=>oi("y",qe,f,ze,Ke);function ci(qe,f){return qe[f.canvas.altActionKey]}const li=(qe,f,ze)=>{const Ke=ci(qe,ze);return f.x===0?Ke?U:N:f.y===0?Ke?q:H:""},ui=(qe,f,ze)=>ci(qe,ze)?ni(0,f,ze):Qs(qe,f,ze),di=(qe,f,ze,Ke)=>ci(qe,f.target)?hi(qe,f,ze,Ke):ti(qe,f,ze,Ke),gi=(qe,f,ze,Ke)=>ci(qe,f.target)?ai(qe,f,ze,Ke):ei(qe,f,ze,Ke),fi=()=>({ml:new Hs({x:-.5,y:0,cursorStyleHandler:ui,actionHandler:di,getActionName:li}),mr:new Hs({x:.5,y:0,cursorStyleHandler:ui,actionHandler:di,getActionName:li}),mb:new Hs({x:0,y:.5,cursorStyleHandler:ui,actionHandler:gi,getActionName:li}),mt:new Hs({x:0,y:-.5,cursorStyleHandler:ui,actionHandler:gi,getActionName:li}),tl:new Hs({x:-.5,y:-.5,cursorStyleHandler:Qs,actionHandler:$s}),tr:new Hs({x:.5,y:-.5,cursorStyleHandler:Qs,actionHandler:$s}),bl:new Hs({x:-.5,y:.5,cursorStyleHandler:Qs,actionHandler:$s}),br:new Hs({x:.5,y:.5,cursorStyleHandler:Qs,actionHandler:$s}),mtr:new Hs({x:0,y:-.5,actionHandler:Us,cursorStyleHandler:Ns,offsetY:-40,withConnection:!0,actionName:B})}),pi=()=>({mr:new Hs({x:.5,y:0,actionHandler:Vs,cursorStyleHandler:ui,actionName:Y}),ml:new Hs({x:-.5,y:0,actionHandler:Vs,cursorStyleHandler:ui,actionName:Y})}),mi=()=>s(s({},fi()),pi());class vi extends Xs{static getDefaults(){return s(s({},super.getDefaults()),vi.ownDefaults)}constructor(f){super(),Object.assign(this,this.constructor.createControls(),vi.ownDefaults),this.setOptions(f)}static createControls(){return{controls:fi()}}_updateCacheCanvas(){const f=this.canvas;if(this.noScaleCache&&f&&f._currentTransform){const ze=f._currentTransform,Ke=ze.target,Ai=ze.action;if(this===Ke&&Ai&&Ai.startsWith(G))return!1}return super._updateCacheCanvas()}getActiveControl(){const f=this.__corner;return f?{key:f,control:this.controls[f],coord:this.oCoords[f]}:void 0}findControl(f){let ze=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const Ke=Object.entries(this.oCoords);for(let Ai=Ke.length-1;Ai>=0;Ai--){const[ln,dn]=Ke[Ai],gn=this.controls[ln];if(gn.shouldActivate(ln,this,f,ze?dn.touchCorner:dn.corner))return this.__corner=ln,{key:ln,control:gn,coord:this.oCoords[ln]}}}calcOCoords(){const f=this.getViewportTransform(),ze=this.getCenterPoint(),Ke=Mt(ze.x,ze.y),Ai=Pt({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),ln=Tt(Ke,Ai),dn=Tt(f,ln),gn=Tt(dn,[1/f[0],0,0,1/f[3],0,0]),Hn=this.group?Dt(this.calcTransformMatrix()):void 0;Hn&&(Hn.scaleX=Math.abs(Hn.scaleX),Hn.scaleY=Math.abs(Hn.scaleY));const Kn=this._calculateCurrentDimensions(Hn),Qn={};return this.forEachControl((ys,vs)=>{const Cs=ys.positionHandler(Kn,gn,this,ys);Qn[vs]=Object.assign(Cs,this._calcCornerCoords(ys,Cs))}),Qn}_calcCornerCoords(f,ze){const Ke=this.getTotalAngle();return{corner:f.calcCornerCoords(Ke,this.cornerSize,ze.x,ze.y,!1,this),touchCorner:f.calcCornerCoords(Ke,this.touchCornerSize,ze.x,ze.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(f){for(const ze in this.controls)f(this.controls[ze],ze,this)}drawSelectionBackground(f){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;f.save();const ze=this.getRelativeCenterPoint(),Ke=this._calculateCurrentDimensions(),Ai=this.getViewportTransform();f.translate(ze.x,ze.y),f.scale(1/Ai[0],1/Ai[3]),f.rotate(xt(this.angle)),f.fillStyle=this.selectionBackgroundColor,f.fillRect(-Ke.x/2,-Ke.y/2,Ke.x,Ke.y),f.restore()}strokeBorders(f,ze){f.strokeRect(-ze.x/2,-ze.y/2,ze.x,ze.y)}_drawBorders(f,ze){let Ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const Ai=s({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},Ke);f.save(),f.strokeStyle=Ai.borderColor,this._setLineDash(f,Ai.borderDashArray),this.strokeBorders(f,ze),Ai.hasControls&&this.drawControlsConnectingLines(f,ze),f.restore()}_renderControls(f){let ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{hasBorders:Ke,hasControls:Ai}=this,ln=s({hasBorders:Ke,hasControls:Ai},ze),dn=this.getViewportTransform(),gn=ln.hasBorders,Hn=ln.hasControls,Kn=Tt(dn,this.calcTransformMatrix()),Qn=Dt(Kn);f.save(),f.translate(Qn.translateX,Qn.translateY),f.lineWidth=this.borderScaleFactor,this.group===this.parent&&(f.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(Qn.angle-=180),f.rotate(xt(this.group?Qn.angle:this.angle)),gn&&this.drawBorders(f,Qn,ze),Hn&&this.drawControls(f,ze),f.restore()}drawBorders(f,ze,Ke){let Ai;if(Ke&&Ke.forActiveSelection||this.group){const ln=ge(this.width,this.height,Lt(ze)),dn=this.isStrokeAccountedForInDimensions()?at:(this.strokeUniform?new ot().scalarAdd(this.canvas?this.canvas.getZoom():1):new ot(ze.scaleX,ze.scaleY)).scalarMultiply(this.strokeWidth);Ai=ln.add(dn).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else Ai=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(f,Ai,Ke)}drawControlsConnectingLines(f,ze){let Ke=!1;f.beginPath(),this.forEachControl((Ai,ln)=>{Ai.withConnection&&Ai.getVisibility(this,ln)&&(Ke=!0,f.moveTo(Ai.x*ze.x,Ai.y*ze.y),f.lineTo(Ai.x*ze.x+Ai.offsetX,Ai.y*ze.y+Ai.offsetY))}),Ke&&f.stroke()}drawControls(f){let ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f.save();const Ke=this.getCanvasRetinaScaling(),{cornerStrokeColor:Ai,cornerDashArray:ln,cornerColor:dn}=this,gn=s({cornerStrokeColor:Ai,cornerDashArray:ln,cornerColor:dn},ze);f.setTransform(Ke,0,0,Ke,0,0),f.strokeStyle=f.fillStyle=gn.cornerColor,this.transparentCorners||(f.strokeStyle=gn.cornerStrokeColor),this._setLineDash(f,gn.cornerDashArray),this.forEachControl((Hn,Kn)=>{if(Hn.getVisibility(this,Kn)){const Qn=this.oCoords[Kn];Hn.render(f,Qn.x,Qn.y,gn,this)}}),f.restore()}isControlVisible(f){return this.controls[f]&&this.controls[f].getVisibility(this,f)}setControlVisible(f,ze){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[f]=ze}setControlsVisibility(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(f).forEach(ze=>{let[Ke,Ai]=ze;return this.setControlVisible(Ke,Ai)})}clearContextTop(f){if(!this.canvas)return;const ze=this.canvas.contextTop;if(!ze)return;const Ke=this.canvas.viewportTransform;ze.save(),ze.transform(Ke[0],Ke[1],Ke[2],Ke[3],Ke[4],Ke[5]),this.transform(ze);const Ai=this.width+4,ln=this.height+4;return ze.clearRect(-Ai/2,-ln/2,Ai,ln),f||ze.restore(),ze}onDeselect(f){return!1}onSelect(f){return!1}shouldStartDragging(f){return!1}onDragStart(f){return!1}canDrop(f){return!1}renderDragSourceEffect(f){}renderDropTargetEffect(f){}}function yi(qe,f){return f.forEach(ze=>{Object.getOwnPropertyNames(ze.prototype).forEach(Ke=>{Ke!=="constructor"&&Object.defineProperty(qe.prototype,Ke,Object.getOwnPropertyDescriptor(ze.prototype,Ke)||Object.create(null))})}),qe}t(vi,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class _i extends vi{}yi(_i,[Xe]),tt.setClass(_i),tt.setClass(_i,"object");const xi=(qe,f,ze,Ke)=>{const Ai=2*(Ke=Math.round(Ke))+1,{data:ln}=qe.getImageData(f-Ke,ze-Ke,Ai,Ai);for(let dn=3;dn<ln.length;dn+=4)if(ln[dn]>0)return!1;return!0};class Ci{constructor(f){this.options=f,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new ot(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new ot(1/this.options.scaleX,1/this.options.scaleY):new ot(1,1)}createSideVector(f,ze){const Ke=es(f,ze);return this.options.strokeUniform?Ke.multiply(this.scale):Ke}projectOrthogonally(f,ze,Ke){return this.applySkew(f.add(this.calcOrthogonalProjection(f,ze,Ke)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(f){const ze=new ot(f);return ze.y+=ze.x*Math.tan(xt(this.options.skewY)),ze.x+=ze.y*Math.tan(xt(this.options.skewX)),ze}scaleUnitVector(f,ze){return f.multiply(this.strokeUniformScalar).scalarMultiply(ze)}}const bi=new ot;class wi extends Ci{static getOrthogonalRotationFactor(f,ze){const Ke=ze?is(f,ze):rs(f);return Math.abs(Ke)<b?-1:1}constructor(f,ze,Ke,Ai){super(Ai),t(this,"AB",void 0),t(this,"AC",void 0),t(this,"alpha",void 0),t(this,"bisector",void 0),this.A=new ot(f),this.B=new ot(ze),this.C=new ot(Ke),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=is(this.AB,this.AC),this.bisector=ns(ts(this.AB.eq(bi)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(f,ze){let Ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const Ai=this.createSideVector(f,ze),ln=os(Ai),dn=wi.getOrthogonalRotationFactor(ln,this.bisector);return this.scaleUnitVector(ln,Ke*dn)}projectBevel(){const f=[];return(this.alpha%w$1==0?[this.B]:[this.B,this.C]).forEach(ze=>{f.push(this.projectOrthogonally(this.A,ze)),f.push(this.projectOrthogonally(this.A,ze,-this.strokeProjectionMagnitude))}),f}projectMiter(){const f=[],ze=Math.abs(this.alpha),Ke=1/Math.sin(ze/2),Ai=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*Ke),ln=this.options.strokeUniform?ss(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return ss(Ai)/this.strokeProjectionMagnitude<=ln&&f.push(this.applySkew(this.A.add(Ai))),f.push(...this.projectBevel()),f}projectRoundNoSkew(f,ze){const Ke=[],Ai=new ot(wi.getOrthogonalRotationFactor(this.bisector),wi.getOrthogonalRotationFactor(new ot(this.bisector.y,this.bisector.x)));return[new ot(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(Ai),new ot(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(Ai)].forEach(ln=>{cs(ln,f,ze)&&Ke.push(this.A.add(ln))}),Ke}projectRoundWithSkew(f,ze){const Ke=[],{skewX:Ai,skewY:ln,scaleX:dn,scaleY:gn,strokeUniform:Hn}=this.options,Kn=new ot(Math.tan(xt(Ai)),Math.tan(xt(ln))),Qn=this.strokeProjectionMagnitude,ys=Hn?Qn/gn/Math.sqrt(1/gn**2+1/dn**2*Kn.y**2):Qn/Math.sqrt(1+Kn.y**2),vs=new ot(Math.sqrt(Math.max(Qn**2-ys**2,0)),ys),Cs=Hn?Qn/Math.sqrt(1+Kn.x**2*(1/gn)**2/(1/dn+1/dn*Kn.x*Kn.y)**2):Qn/Math.sqrt(1+Kn.x**2/(1+Kn.x*Kn.y)**2),bs=new ot(Cs,Math.sqrt(Math.max(Qn**2-Cs**2,0)));return[bs,bs.scalarMultiply(-1),vs,vs.scalarMultiply(-1)].map(ia=>this.applySkew(Hn?ia.multiply(this.strokeUniformScalar):ia)).forEach(ia=>{cs(ia,f,ze)&&Ke.push(this.applySkew(this.A).add(ia))}),Ke}projectRound(){const f=[];f.push(...this.projectBevel());const ze=this.alpha%w$1==0,Ke=this.applySkew(this.A),Ai=f[ze?0:2].subtract(Ke),ln=f[ze?1:0].subtract(Ke),dn=ze?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),gn=as(Ai,dn)>0,Hn=gn?Ai:ln,Kn=gn?ln:Ai;return this.isSkewed()?f.push(...this.projectRoundWithSkew(Hn,Kn)):f.push(...this.projectRoundNoSkew(Hn,Kn)),f}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(f=>({originPoint:this.A,projectedPoint:f,angle:this.alpha,bisector:this.bisector}))}}class Si extends Ci{constructor(f,ze,Ke){super(Ke),this.A=new ot(f),this.T=new ot(ze)}calcOrthogonalProjection(f,ze){let Ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const Ai=this.createSideVector(f,ze);return this.scaleUnitVector(os(Ai),Ke)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const f=[];if(!this.isSkewed()&&this.A.eq(this.T)){const ze=new ot(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);f.push(this.applySkew(this.A.add(ze)),this.applySkew(this.A.subtract(ze)))}else f.push(...new wi(this.A,this.T,this.T,this.options).projectRound());return f}projectSquare(){const f=[];if(this.A.eq(this.T)){const ze=new ot(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);f.push(this.A.add(ze),this.A.subtract(ze))}else{const ze=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),Ke=this.scaleUnitVector(ns(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),Ai=this.A.add(Ke);f.push(Ai.add(ze),Ai.subtract(ze))}return f.map(ze=>this.applySkew(ze))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(f=>({originPoint:this.A,projectedPoint:f}))}}const Ti=function(qe,f){let ze=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const Ke=[];if(qe.length===0)return Ke;const Ai=qe.reduce((ln,dn)=>(ln[ln.length-1].eq(dn)||ln.push(new ot(dn)),ln),[new ot(qe[0])]);if(Ai.length===1)ze=!0;else if(!ze){const ln=Ai[0],dn=((gn,Hn)=>{for(let Kn=gn.length-1;Kn>=0;Kn--)if(Hn(gn[Kn],Kn,gn))return Kn;return-1})(Ai,gn=>!gn.eq(ln));Ai.splice(dn+1)}return Ai.forEach((ln,dn,gn)=>{let Hn,Kn;dn===0?(Kn=gn[1],Hn=ze?ln:gn[gn.length-1]):dn===gn.length-1?(Hn=gn[dn-1],Kn=ze?ln:gn[0]):(Hn=gn[dn-1],Kn=gn[dn+1]),ze&&gn.length===1?Ke.push(...new Si(ln,ln,f).project()):!ze||dn!==0&&dn!==gn.length-1?Ke.push(...new wi(ln,Hn,Kn,f).project()):Ke.push(...new Si(ln,dn===0?Kn:Hn,f).project())}),Ke},Oi=qe=>{const f={};return Object.keys(qe).forEach(ze=>{f[ze]={},Object.keys(qe[ze]).forEach(Ke=>{f[ze][Ke]=s({},qe[ze][Ke])})}),f},ki=qe=>qe.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;");let Di;const Mi=qe=>{if(Di||Di||(Di="Intl"in v$1()&&"Segmenter"in Intl&&new Intl.Segmenter(void 0,{granularity:"grapheme"})),Di){const f=Di.segment(qe);return Array.from(f).map(ze=>{let{segment:Ke}=ze;return Ke})}return Pi(qe)},Pi=qe=>{const f=[];for(let ze,Ke=0;Ke<qe.length;Ke++)(ze=Ei(qe,Ke))!==!1&&f.push(ze);return f},Ei=(qe,f)=>{const ze=qe.charCodeAt(f);if(isNaN(ze))return"";if(ze<55296||ze>57343)return qe.charAt(f);if(55296<=ze&&ze<=56319){if(qe.length<=f+1)throw"High surrogate without following low surrogate";const Ai=qe.charCodeAt(f+1);if(56320>Ai||Ai>57343)throw"High surrogate without following low surrogate";return qe.charAt(f)+qe.charAt(f+1)}if(f===0)throw"Low surrogate without preceding high surrogate";const Ke=qe.charCodeAt(f-1);if(55296>Ke||Ke>56319)throw"Low surrogate without preceding high surrogate";return!1},ji=function(qe,f){let ze=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return qe.fill!==f.fill||qe.stroke!==f.stroke||qe.strokeWidth!==f.strokeWidth||qe.fontSize!==f.fontSize||qe.fontFamily!==f.fontFamily||qe.fontWeight!==f.fontWeight||qe.fontStyle!==f.fontStyle||qe.textBackgroundColor!==f.textBackgroundColor||qe.deltaY!==f.deltaY||ze&&(qe.overline!==f.overline||qe.underline!==f.underline||qe.linethrough!==f.linethrough)},Fi=(qe,f)=>{const ze=f.split(`
`),Ke=[];let Ai=-1,ln={};qe=Oi(qe);for(let dn=0;dn<ze.length;dn++){const gn=Mi(ze[dn]);if(qe[dn])for(let Hn=0;Hn<gn.length;Hn++){Ai++;const Kn=qe[dn][Hn];Kn&&Object.keys(Kn).length>0&&(ji(ln,Kn,!0)?Ke.push({start:Ai,end:Ai+1,style:Kn}):Ke[Ke.length-1].end++),ln=Kn||{}}else Ai+=gn.length,ln={}}return Ke},Li=(qe,f)=>{if(!Array.isArray(qe))return Oi(qe);const ze=f.split(F),Ke={};let Ai=-1,ln=0;for(let dn=0;dn<ze.length;dn++){const gn=Mi(ze[dn]);for(let Hn=0;Hn<gn.length;Hn++)Ai++,qe[ln]&&qe[ln].start<=Ai&&Ai<qe[ln].end&&(Ke[dn]=Ke[dn]||{},Ke[dn][Hn]=s({},qe[ln].style),Ai===qe[ln].end-1&&ln++)}return Ke},Ri=["display","transform",K,"fill-opacity","fill-rule","opacity",J,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function Ii(qe,f){const ze=qe.nodeName,Ke=qe.getAttribute("class"),Ai=qe.getAttribute("id"),ln="(?![a-zA-Z\\-]+)";let dn;if(dn=new RegExp("^"+ze,"i"),f=f.replace(dn,""),Ai&&f.length&&(dn=new RegExp("#"+Ai+ln,"i"),f=f.replace(dn,"")),Ke&&f.length){const gn=Ke.split(" ");for(let Hn=gn.length;Hn--;)dn=new RegExp("\\."+gn[Hn]+ln,"i"),f=f.replace(dn,"")}return f.length===0}function Bi(qe,f){let ze=!0;const Ke=Ii(qe,f.pop());return Ke&&f.length&&(ze=function(Ai,ln){let dn,gn=!0;for(;Ai.parentElement&&Ai.parentElement.nodeType===1&&ln.length;)gn&&(dn=ln.pop()),gn=Ii(Ai=Ai.parentElement,dn);return ln.length===0}(qe,f)),Ke&&ze&&f.length===0}const Xi=qe=>{var f;return(f=He[qe])!==null&&f!==void 0?f:qe},Yi=new RegExp("(".concat(Ve,")"),"gi"),Wi=qe=>qe.replace(Yi," $1 ").replace(/,/gi," ").replace(/\s+/gi," ");var Vi,zi,Gi,Hi,Ni,Ui,qi;const Ki="(".concat(Ve,")"),Ji=String.raw(Vi||(Vi=r(["(skewX)(",")"],["(skewX)\\(","\\)"])),Ki),Qi=String.raw(zi||(zi=r(["(skewY)(",")"],["(skewY)\\(","\\)"])),Ki),Zi=String.raw(Gi||(Gi=r(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),Ki,Ki,Ki),$i=String.raw(Hi||(Hi=r(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),Ki,Ki),tr=String.raw(Ni||(Ni=r(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),Ki,Ki),er=String.raw(Ui||(Ui=r(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),Ki,Ki,Ki,Ki,Ki,Ki),sr="(?:".concat(er,"|").concat(tr,"|").concat(Zi,"|").concat($i,"|").concat(Ji,"|").concat(Qi,")"),ir="(?:".concat(sr,"*)"),rr=String.raw(qi||(qi=r(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),ir),nr=new RegExp(rr),or=new RegExp(sr),ar=new RegExp(sr,"g");function hr(qe){const f=[];if(!(qe=Wi(qe).replace(/\s*([()])\s*/gi,"$1"))||qe&&!nr.test(qe))return[...T];for(const ze of qe.matchAll(ar)){const Ke=or.exec(ze[0]);if(!Ke)continue;let Ai=T;const ln=Ke.filter(bs=>!!bs),[,dn,...gn]=ln,[Hn,Kn,Qn,ys,vs,Cs]=gn.map(bs=>parseFloat(bs));switch(dn){case"translate":Ai=Mt(Hn,Kn);break;case B:Ai=Pt({angle:Hn},{x:Kn,y:Qn});break;case G:Ai=Et(Hn,Kn);break;case U:Ai=jt(Hn);break;case q:Ai=Ft(Hn);break;case"matrix":Ai=[Hn,Kn,Qn,ys,vs,Cs]}f.push(Ai)}return Ot(f)}function cr(qe,f,ze,Ke){const Ai=Array.isArray(f);let ln,dn=f;if(qe!==K&&qe!==J||f!==j){if(qe==="strokeUniform")return f==="non-scaling-stroke";if(qe==="strokeDashArray")dn=f===j?null:f.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(qe==="transformMatrix")dn=ze&&ze.transformMatrix?Tt(ze.transformMatrix,hr(f)):hr(f);else if(qe==="visible")dn=f!==j&&f!=="hidden",ze&&ze.visible===!1&&(dn=!1);else if(qe==="opacity")dn=parseFloat(f),ze&&ze.opacity!==void 0&&(dn*=ze.opacity);else if(qe==="textAnchor")dn=f==="start"?M:f==="end"?A:D;else if(qe==="charSpacing")ln=Re(f,Ke)/Ke*1e3;else if(qe==="paintFirst"){const gn=f.indexOf(K),Hn=f.indexOf(J);dn=K,(gn>-1&&Hn>-1&&Hn<gn||gn===-1&&Hn>-1)&&(dn=J)}else{if(qe==="href"||qe==="xlink:href"||qe==="font"||qe==="id")return f;if(qe==="imageSmoothing")return f==="optimizeQuality";ln=Ai?f.map(Re):Re(f,Ke)}}else dn="";return!Ai&&isNaN(ln)?dn:ln}function lr(qe,f){const ze=qe.match(Ge);if(!ze)return;const Ke=ze[1],Ai=ze[3],ln=ze[4],dn=ze[5],gn=ze[6];Ke&&(f.fontStyle=Ke),Ai&&(f.fontWeight=isNaN(parseFloat(Ai))?Ai:parseFloat(Ai)),ln&&(f.fontSize=Re(ln)),gn&&(f.fontFamily=gn),dn&&(f.lineHeight=dn==="normal"?1:dn)}function ur(qe,f){qe.replace(/;\s*$/,"").split(";").forEach(ze=>{if(!ze)return;const[Ke,Ai]=ze.split(":");f[Ke.trim().toLowerCase()]=Ai.trim()})}function dr(qe){const f={},ze=qe.getAttribute("style");return ze&&(typeof ze=="string"?ur(ze,f):function(Ke,Ai){Object.entries(Ke).forEach(ln=>{let[dn,gn]=ln;gn!==void 0&&(Ai[dn.toLowerCase()]=gn)})}(ze,f)),f}const gr={stroke:"strokeOpacity",fill:"fillOpacity"};function fr$1(qe,f,ze){if(!qe)return{};let Ke,Ai={},ln=O;qe.parentNode&&Je.test(qe.parentNode.nodeName)&&(Ai=fr$1(qe.parentElement,f,ze),Ai.fontSize&&(Ke=ln=Re(Ai.fontSize)));const dn=s(s(s({},f.reduce((Kn,Qn)=>{const ys=qe.getAttribute(Qn);return ys&&(Kn[Qn]=ys),Kn},{})),function(Kn){let Qn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ys={};for(const vs in Qn)Bi(Kn,vs.split(" "))&&(ys=s(s({},ys),Qn[vs]));return ys}(qe,ze)),dr(qe));dn[Ue]&&qe.setAttribute(Ue,dn[Ue]),dn[Ne]&&(Ke=Re(dn[Ne],ln),dn[Ne]="".concat(Ke));const gn={};for(const Kn in dn){const Qn=Xi(Kn),ys=cr(Qn,dn[Kn],Ai,Ke);gn[Qn]=ys}gn&&gn.font&&lr(gn.font,gn);const Hn=s(s({},Ai),gn);return Je.test(qe.nodeName)?Hn:function(Kn){const Qn=_i.getDefaults();return Object.entries(gr).forEach(ys=>{let[vs,Cs]=ys;if(Kn[Cs]===void 0||Kn[vs]==="")return;if(Kn[vs]===void 0){if(!Qn[vs])return;Kn[vs]=Qn[vs]}if(Kn[vs].indexOf("url(")===0)return;const bs=new Le(Kn[vs]);Kn[vs]=bs.setAlpha(Vt(bs.getAlpha()*Kn[Cs],2)).toRgba()}),Kn}(Hn)}const pr=["left","top","width","height","visible"],mr=["rx","ry"];class vr extends _i{static getDefaults(){return s(s({},super.getDefaults()),vr.ownDefaults)}constructor(f){super(),Object.assign(this,vr.ownDefaults),this.setOptions(f),this._initRxRy()}_initRxRy(){const{rx:f,ry:ze}=this;f&&!ze?this.ry=f:ze&&!f&&(this.rx=ze)}_render(f){const{width:ze,height:Ke}=this,Ai=-ze/2,ln=-Ke/2,dn=this.rx?Math.min(this.rx,ze/2):0,gn=this.ry?Math.min(this.ry,Ke/2):0,Hn=dn!==0||gn!==0;f.beginPath(),f.moveTo(Ai+dn,ln),f.lineTo(Ai+ze-dn,ln),Hn&&f.bezierCurveTo(Ai+ze-k*dn,ln,Ai+ze,ln+k*gn,Ai+ze,ln+gn),f.lineTo(Ai+ze,ln+Ke-gn),Hn&&f.bezierCurveTo(Ai+ze,ln+Ke-k*gn,Ai+ze-k*dn,ln+Ke,Ai+ze-dn,ln+Ke),f.lineTo(Ai+dn,ln+Ke),Hn&&f.bezierCurveTo(Ai+k*dn,ln+Ke,Ai,ln+Ke-k*gn,Ai,ln+Ke-gn),f.lineTo(Ai,ln+gn),Hn&&f.bezierCurveTo(Ai,ln+k*gn,Ai+k*dn,ln,Ai+dn,ln),f.closePath(),this._renderPaintInOrder(f)}toObject(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...mr,...f])}_toSVG(){const{width:f,height:ze,rx:Ke,ry:Ai}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-f/2,'" y="').concat(-ze/2,'" rx="').concat(Ke,'" ry="').concat(Ai,'" width="').concat(f,'" height="').concat(ze,`" />
`)]}static async fromElement(f,ze,Ke){const Ai=fr$1(f,this.ATTRIBUTE_NAMES,Ke),{left:ln=0,top:dn=0,width:gn=0,height:Hn=0,visible:Kn=!0}=Ai,Qn=i(Ai,pr);return new this(s(s(s({},ze),Qn),{},{left:ln,top:dn,width:gn,height:Hn,visible:!!(Kn&&gn&&Hn)}))}}t(vr,"type","Rect"),t(vr,"cacheProperties",[...ps,...mr]),t(vr,"ownDefaults",{rx:0,ry:0}),t(vr,"ATTRIBUTE_NAMES",[...Ri,"x","y","rx","ry","width","height"]),tt.setClass(vr),tt.setSVGClass(vr);const yr="initialization",_r="added",xr="removed",Cr="imperative",br=(qe,f)=>{const{strokeUniform:ze,strokeWidth:Ke,width:Ai,height:ln,group:dn}=f,gn=dn&&dn!==qe?fe(dn.calcTransformMatrix(),qe.calcTransformMatrix()):null,Hn=gn?f.getRelativeCenterPoint().transform(gn):f.getRelativeCenterPoint(),Kn=!f.isStrokeAccountedForInDimensions(),Qn=ze&&Kn?me(new ot(Ke,Ke),void 0,qe.calcTransformMatrix()):at,ys=!ze&&Kn?Ke:0,vs=ge(Ai+ys,ln+ys,Ot([gn,f.calcOwnMatrix()],!0)).add(Qn).scalarDivide(2);return[Hn.subtract(vs),Hn.add(vs)]};class wr{calcLayoutResult(f,ze){if(this.shouldPerformLayout(f))return this.calcBoundingBox(ze,f)}shouldPerformLayout(f){let{type:ze,prevStrategy:Ke,strategy:Ai}=f;return ze===yr||ze===Cr||!!Ke&&Ai!==Ke}shouldLayoutClipPath(f){let{type:ze,target:{clipPath:Ke}}=f;return ze!==yr&&Ke&&!Ke.absolutePositioned}getInitialSize(f,ze){return ze.size}calcBoundingBox(f,ze){const{type:Ke,target:Ai}=ze;if(Ke===Cr&&ze.overrides)return ze.overrides;if(f.length===0)return;const{left:ln,top:dn,width:gn,height:Hn}=ae(f.map(ys=>br(Ai,ys)).reduce((ys,vs)=>ys.concat(vs),[])),Kn=new ot(gn,Hn),Qn=new ot(ln,dn).add(Kn.scalarDivide(2));if(Ke===yr){const ys=this.getInitialSize(ze,{size:Kn,center:Qn});return{center:Qn,relativeCorrection:new ot(0,0),size:ys}}return{center:Qn.transform(Ai.calcOwnMatrix()),size:Kn}}}t(wr,"type","strategy");class Sr extends wr{shouldPerformLayout(f){return!0}}t(Sr,"type","fit-content"),tt.setClass(Sr);const Tr=["strategy"],Or=["target","strategy","bubbles","prevStrategy"],kr="layoutManager";class Dr{constructor(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Sr;t(this,"strategy",void 0),this.strategy=f,this._subscriptions=new Map}performLayout(f){const ze=s(s({bubbles:!0,strategy:this.strategy},f),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(ze);const Ke=this.getLayoutResult(ze);Ke&&this.commitLayout(ze,Ke),this.onAfterLayout(ze,Ke),this._prevLayoutStrategy=ze.strategy}attachHandlers(f,ze){const{target:Ke}=ze;return[Q,L,Y,I,R,X,z,W,V].map(Ai=>f.on(Ai,ln=>this.performLayout(Ai===Q?{type:"object_modified",trigger:Ai,e:ln,target:Ke}:{type:"object_modifying",trigger:Ai,e:ln,target:Ke})))}subscribe(f,ze){this.unsubscribe(f,ze);const Ke=this.attachHandlers(f,ze);this._subscriptions.set(f,Ke)}unsubscribe(f,ze){(this._subscriptions.get(f)||[]).forEach(Ke=>Ke()),this._subscriptions.delete(f)}unsubscribeTargets(f){f.targets.forEach(ze=>this.unsubscribe(ze,f))}subscribeTargets(f){f.targets.forEach(ze=>this.subscribe(ze,f))}onBeforeLayout(f){const{target:ze,type:Ke}=f,{canvas:Ai}=ze;if(Ke===yr||Ke===_r?this.subscribeTargets(f):Ke===xr&&this.unsubscribeTargets(f),ze.fire("layout:before",{context:f}),Ai&&Ai.fire("object:layout:before",{target:ze,context:f}),Ke===Cr&&f.deep){const ln=i(f,Tr);ze.forEachObject(dn=>dn.layoutManager&&dn.layoutManager.performLayout(s(s({},ln),{},{bubbles:!1,target:dn})))}}getLayoutResult(f){const{target:ze,strategy:Ke,type:Ai}=f,ln=Ke.calcLayoutResult(f,ze.getObjects());if(!ln)return;const dn=Ai===yr?new ot:ze.getRelativeCenterPoint(),{center:gn,correction:Hn=new ot,relativeCorrection:Kn=new ot}=ln,Qn=dn.subtract(gn).add(Hn).transform(Ai===yr?T:St(ze.calcOwnMatrix()),!0).add(Kn);return{result:ln,prevCenter:dn,nextCenter:gn,offset:Qn}}commitLayout(f,ze){const{target:Ke}=f,{result:{size:Ai},nextCenter:ln}=ze;var dn,gn;Ke.set({width:Ai.x,height:Ai.y}),this.layoutObjects(f,ze),f.type===yr?Ke.set({left:(dn=f.x)!==null&&dn!==void 0?dn:ln.x+Ai.x*xe(Ke.originX),top:(gn=f.y)!==null&&gn!==void 0?gn:ln.y+Ai.y*xe(Ke.originY)}):(Ke.setPositionByOrigin(ln,D,D),Ke.setCoords(),Ke.set("dirty",!0))}layoutObjects(f,ze){const{target:Ke}=f;Ke.forEachObject(Ai=>{Ai.group===Ke&&this.layoutObject(f,ze,Ai)}),f.strategy.shouldLayoutClipPath(f)&&this.layoutObject(f,ze,Ke.clipPath)}layoutObject(f,ze,Ke){let{offset:Ai}=ze;Ke.set({left:Ke.left+Ai.x,top:Ke.top+Ai.y})}onAfterLayout(f,ze){const{target:Ke,strategy:Ai,bubbles:ln,prevStrategy:dn}=f,gn=i(f,Or),{canvas:Hn}=Ke;Ke.fire("layout:after",{context:f,result:ze}),Hn&&Hn.fire("object:layout:after",{context:f,result:ze,target:Ke});const Kn=Ke.parent;ln&&Kn!=null&&Kn.layoutManager&&((gn.path||(gn.path=[])).push(Ke),Kn.layoutManager.performLayout(s(s({},gn),{},{target:Kn}))),Ke.set("dirty",!0)}dispose(){const{_subscriptions:f}=this;f.forEach(ze=>ze.forEach(Ke=>Ke())),f.clear()}toObject(){return{type:kr,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}tt.setClass(Dr,kr);const Mr=["type","objects","layoutManager"];class Pr extends Dr{performLayout(){}}class Er extends ct(_i){static getDefaults(){return s(s({},super.getDefaults()),Er.ownDefaults)}constructor(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),t(this,"_activeObjects",[]),t(this,"__objectSelectionTracker",void 0),t(this,"__objectSelectionDisposer",void 0),Object.assign(this,Er.ownDefaults),this.setOptions(ze),this.groupInit(f,ze)}groupInit(f,ze){var Ke;this._objects=[...f],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(Ai=>{this.enterGroup(Ai,!1)}),this.layoutManager=(Ke=ze.layoutManager)!==null&&Ke!==void 0?Ke:new Dr,this.layoutManager.performLayout({type:yr,target:this,targets:[...f],x:ze.left,y:ze.top})}canEnterGroup(f){return f===this||this.isDescendantOf(f)?(a("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(f)===-1||(a("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(f){return f.filter((ze,Ke,Ai)=>this.canEnterGroup(ze)&&Ai.indexOf(ze)===Ke)}add(){for(var f=arguments.length,ze=new Array(f),Ke=0;Ke<f;Ke++)ze[Ke]=arguments[Ke];const Ai=this._filterObjectsBeforeEnteringGroup(ze),ln=super.add(...Ai);return this._onAfterObjectsChange(_r,Ai),ln}insertAt(f){for(var ze=arguments.length,Ke=new Array(ze>1?ze-1:0),Ai=1;Ai<ze;Ai++)Ke[Ai-1]=arguments[Ai];const ln=this._filterObjectsBeforeEnteringGroup(Ke),dn=super.insertAt(f,...ln);return this._onAfterObjectsChange(_r,ln),dn}remove(){const f=super.remove(...arguments);return this._onAfterObjectsChange(xr,f),f}_onObjectAdded(f){this.enterGroup(f,!0),this.fire("object:added",{target:f}),f.fire("added",{target:this})}_onObjectRemoved(f,ze){this.exitGroup(f,ze),this.fire("object:removed",{target:f}),f.fire("removed",{target:this})}_onAfterObjectsChange(f,ze){this.layoutManager.performLayout({type:f,targets:ze,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(f,ze){const Ke=this[f];return super._set(f,ze),f==="canvas"&&Ke!==ze&&(this._objects||[]).forEach(Ai=>{Ai._set(f,ze)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(f,ze){let{target:Ke}=ze;const Ai=this._activeObjects;if(f)Ai.push(Ke),this._set("dirty",!0);else if(Ai.length>0){const ln=Ai.indexOf(Ke);ln>-1&&(Ai.splice(ln,1),this._set("dirty",!0))}}_watchObject(f,ze){f&&this._watchObject(!1,ze),f?(ze.on("selected",this.__objectSelectionTracker),ze.on("deselected",this.__objectSelectionDisposer)):(ze.off("selected",this.__objectSelectionTracker),ze.off("deselected",this.__objectSelectionDisposer))}enterGroup(f,ze){f.group&&f.group.remove(f),f._set("parent",this),this._enterGroup(f,ze)}_enterGroup(f,ze){ze&&le(f,Tt(St(this.calcTransformMatrix()),f.calcTransformMatrix())),this._shouldSetNestedCoords()&&f.setCoords(),f._set("group",this),f._set("canvas",this.canvas),this._watchObject(!0,f);const Ke=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();Ke&&(Ke===f||f.isDescendantOf(Ke))&&this._activeObjects.push(f)}exitGroup(f,ze){this._exitGroup(f,ze),f._set("parent",void 0),f._set("canvas",void 0)}_exitGroup(f,ze){f._set("group",void 0),ze||(le(f,Tt(this.calcTransformMatrix(),f.calcTransformMatrix())),f.setCoords()),this._watchObject(!1,f);const Ke=this._activeObjects.length>0?this._activeObjects.indexOf(f):-1;Ke>-1&&this._activeObjects.splice(Ke,1)}shouldCache(){const f=_i.prototype.shouldCache.call(this);if(f){for(let ze=0;ze<this._objects.length;ze++)if(this._objects[ze].willDrawShadow())return this.ownCaching=!1,!1}return f}willDrawShadow(){if(super.willDrawShadow())return!0;for(let f=0;f<this._objects.length;f++)if(this._objects[f].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(f,ze,Ke){this._renderBackground(f);for(let ln=0;ln<this._objects.length;ln++){var Ai;const dn=this._objects[ln];(Ai=this.canvas)!==null&&Ai!==void 0&&Ai.preserveObjectStacking&&dn.group!==this?(f.save(),f.transform(...St(this.calcTransformMatrix())),dn.render(f),f.restore()):dn.group===this&&dn.render(f)}this._drawClipPath(f,this.clipPath,Ke)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(f=>f.setCoords())}triggerLayout(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(s({target:this,type:Cr},f))}render(f){this._transformDone=!0,super.render(f),this._transformDone=!1}__serializeObjects(f,ze){const Ke=this.includeDefaultValues;return this._objects.filter(function(Ai){return!Ai.excludeFromExport}).map(function(Ai){const ln=Ai.includeDefaultValues;Ai.includeDefaultValues=Ke;const dn=Ai[f||"toObject"](ze);return Ai.includeDefaultValues=ln,dn})}toObject(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const ze=this.layoutManager.toObject();return s(s(s({},super.toObject(["subTargetCheck","interactive",...f])),ze.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:ze}:{}),{},{objects:this.__serializeObjects("toObject",f)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(f=>{this._watchObject(!1,f),f.dispose()}),super.dispose()}_createSVGBgRect(f){if(!this.backgroundColor)return"";const ze=vr.prototype._toSVG.call(this),Ke=ze.indexOf("COMMON_PARTS");ze[Ke]='for="group" ';const Ai=ze.join("");return f?f(Ai):Ai}_toSVG(f){const ze=["<g ","COMMON_PARTS",` >
`],Ke=this._createSVGBgRect(f);Ke&&ze.push("		",Ke);for(let Ai=0;Ai<this._objects.length;Ai++)ze.push("		",this._objects[Ai].toSVG(f));return ze.push(`</g>
`),ze}getSvgStyles(){const f=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",ze=this.visible?"":" visibility: hidden;";return[f,this.getSvgFilter(),ze].join("")}toClipPathSVG(f){const ze=[],Ke=this._createSVGBgRect(f);Ke&&ze.push("	",Ke);for(let Ai=0;Ai<this._objects.length;Ai++)ze.push("	",this._objects[Ai].toClipPathSVG(f));return this._createBaseClipPathSVGMarkup(ze,{reviver:f})}static fromObject(f,ze){let{type:Ke,objects:Ai=[],layoutManager:ln}=f,dn=i(f,Mr);return Promise.all([Bt(Ai,ze),Xt(dn,ze)]).then(gn=>{let[Hn,Kn]=gn;const Qn=new this(Hn,s(s(s({},dn),Kn),{},{layoutManager:new Pr}));if(ln){const ys=tt.getClass(ln.type),vs=tt.getClass(ln.strategy);Qn.layoutManager=new ys(new vs)}else Qn.layoutManager=new Dr;return Qn.layoutManager.subscribeTargets({type:yr,target:Qn,targets:Qn.getObjects()}),Qn.setCoords(),Qn})}}t(Er,"type","Group"),t(Er,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),tt.setClass(Er);const Ar=(qe,f)=>Math.min(f.width/qe.width,f.height/qe.height),jr=(qe,f)=>Math.max(f.width/qe.width,f.height/qe.height),Fr="\\s*,?\\s*",Lr="".concat(Fr,"(").concat(Ve,")"),Rr="".concat(Lr).concat(Lr).concat(Lr).concat(Fr,"([01])").concat(Fr,"([01])").concat(Lr).concat(Lr),Ir={m:"l",M:"L"},Br=(qe,f,ze,Ke,Ai,ln,dn,gn,Hn,Kn,Qn)=>{const ys=rt(qe),vs=nt(qe),Cs=rt(f),bs=nt(f),ia=ze*Ai*Cs-Ke*ln*bs+dn,la=Ke*Ai*Cs+ze*ln*bs+gn;return["C",Kn+Hn*(-ze*Ai*vs-Ke*ln*ys),Qn+Hn*(-Ke*Ai*vs+ze*ln*ys),ia+Hn*(ze*Ai*bs+Ke*ln*Cs),la+Hn*(Ke*Ai*bs-ze*ln*Cs),ia,la]},Xr=(qe,f,ze,Ke)=>{const Ai=Math.atan2(f,qe),ln=Math.atan2(Ke,ze);return ln>=Ai?ln-Ai:2*Math.PI-(Ai-ln)};function Yr(qe,f,ze,Ke,Ai,ln,dn,gn){let Hn;if(o.cachesBoundsOfCurve&&(Hn=[...arguments].join(),_.boundsOfCurveCache[Hn]))return _.boundsOfCurveCache[Hn];const Kn=Math.sqrt,Qn=Math.abs,ys=[],vs=[[0,0],[0,0]];let Cs=6*qe-12*ze+6*Ai,bs=-3*qe+9*ze-9*Ai+3*dn,ia=3*ze-3*qe;for(let aa=0;aa<2;++aa){if(aa>0&&(Cs=6*f-12*Ke+6*ln,bs=-3*f+9*Ke-9*ln+3*gn,ia=3*Ke-3*f),Qn(bs)<1e-12){if(Qn(Cs)<1e-12)continue;const Sa=-ia/Cs;0<Sa&&Sa<1&&ys.push(Sa);continue}const oa=Cs*Cs-4*ia*bs;if(oa<0)continue;const ha=Kn(oa),ga=(-Cs+ha)/(2*bs);0<ga&&ga<1&&ys.push(ga);const va=(-Cs-ha)/(2*bs);0<va&&va<1&&ys.push(va)}let la=ys.length;const ra=la,sa=Gr(qe,f,ze,Ke,Ai,ln,dn,gn);for(;la--;){const{x:aa,y:oa}=sa(ys[la]);vs[0][la]=aa,vs[1][la]=oa}vs[0][ra]=qe,vs[1][ra]=f,vs[0][ra+1]=dn,vs[1][ra+1]=gn;const na=[new ot(Math.min(...vs[0]),Math.min(...vs[1])),new ot(Math.max(...vs[0]),Math.max(...vs[1]))];return o.cachesBoundsOfCurve&&(_.boundsOfCurveCache[Hn]=na),na}const Wr=(qe,f,ze)=>{let[Ke,Ai,ln,dn,gn,Hn,Kn,Qn]=ze;const ys=((vs,Cs,bs,ia,la,ra,sa)=>{if(bs===0||ia===0)return[];let na=0,aa=0,oa=0;const ha=Math.PI,ga=sa*S,va=nt(ga),Sa=rt(ga),tl=.5*(-Sa*vs-va*Cs),Zo=.5*(-Sa*Cs+va*vs),Ta=bs**2,Qa=ia**2,$a=Zo**2,Ma=tl**2,ua=Ta*Qa-Ta*$a-Qa*Ma;let ya=Math.abs(bs),ca=Math.abs(ia);if(ua<0){const El=Math.sqrt(1-ua/(Ta*Qa));ya*=El,ca*=El}else oa=(la===ra?-1:1)*Math.sqrt(ua/(Ta*$a+Qa*Ma));const da=oa*ya*Zo/ca,pa=-oa*ca*tl/ya,xa=Sa*da-va*pa+.5*vs,Oa=va*da+Sa*pa+.5*Cs;let Ja=Xr(1,0,(tl-da)/ya,(Zo-pa)/ca),rl=Xr((tl-da)/ya,(Zo-pa)/ca,(-tl-da)/ya,(-Zo-pa)/ca);ra===0&&rl>0?rl-=2*ha:ra===1&&rl<0&&(rl+=2*ha);const hl=Math.ceil(Math.abs(rl/ha*2)),al=[],Tl=rl/hl,Cl=8/3*Math.sin(Tl/4)*Math.sin(Tl/4)/Math.sin(Tl/2);let Yl=Ja+Tl;for(let El=0;El<hl;El++)al[El]=Br(Ja,Yl,Sa,va,ya,ca,xa,Oa,Cl,na,aa),na=al[El][5],aa=al[El][6],Ja=Yl,Yl+=Tl;return al})(Kn-qe,Qn-f,Ai,ln,gn,Hn,dn);for(let vs=0,Cs=ys.length;vs<Cs;vs++)ys[vs][1]+=qe,ys[vs][2]+=f,ys[vs][3]+=qe,ys[vs][4]+=f,ys[vs][5]+=qe,ys[vs][6]+=f;return ys},Vr=qe=>{let f=0,ze=0,Ke=0,Ai=0;const ln=[];let dn,gn=0,Hn=0;for(const Kn of qe){const Qn=[...Kn];let ys;switch(Qn[0]){case"l":Qn[1]+=f,Qn[2]+=ze;case"L":f=Qn[1],ze=Qn[2],ys=["L",f,ze];break;case"h":Qn[1]+=f;case"H":f=Qn[1],ys=["L",f,ze];break;case"v":Qn[1]+=ze;case"V":ze=Qn[1],ys=["L",f,ze];break;case"m":Qn[1]+=f,Qn[2]+=ze;case"M":f=Qn[1],ze=Qn[2],Ke=Qn[1],Ai=Qn[2],ys=["M",f,ze];break;case"c":Qn[1]+=f,Qn[2]+=ze,Qn[3]+=f,Qn[4]+=ze,Qn[5]+=f,Qn[6]+=ze;case"C":gn=Qn[3],Hn=Qn[4],f=Qn[5],ze=Qn[6],ys=["C",Qn[1],Qn[2],gn,Hn,f,ze];break;case"s":Qn[1]+=f,Qn[2]+=ze,Qn[3]+=f,Qn[4]+=ze;case"S":dn==="C"?(gn=2*f-gn,Hn=2*ze-Hn):(gn=f,Hn=ze),f=Qn[3],ze=Qn[4],ys=["C",gn,Hn,Qn[1],Qn[2],f,ze],gn=ys[3],Hn=ys[4];break;case"q":Qn[1]+=f,Qn[2]+=ze,Qn[3]+=f,Qn[4]+=ze;case"Q":gn=Qn[1],Hn=Qn[2],f=Qn[3],ze=Qn[4],ys=["Q",gn,Hn,f,ze];break;case"t":Qn[1]+=f,Qn[2]+=ze;case"T":dn==="Q"?(gn=2*f-gn,Hn=2*ze-Hn):(gn=f,Hn=ze),f=Qn[1],ze=Qn[2],ys=["Q",gn,Hn,f,ze];break;case"a":Qn[6]+=f,Qn[7]+=ze;case"A":Wr(f,ze,Qn).forEach(vs=>ln.push(vs)),f=Qn[6],ze=Qn[7];break;case"z":case"Z":f=Ke,ze=Ai,ys=["Z"]}ys?(ln.push(ys),dn=ys[0]):dn=""}return ln},zr=(qe,f,ze,Ke)=>Math.sqrt((ze-qe)**2+(Ke-f)**2),Gr=(qe,f,ze,Ke,Ai,ln,dn,gn)=>Hn=>{const Kn=Hn**3,Qn=(Cs=>3*Cs**2*(1-Cs))(Hn),ys=(Cs=>3*Cs*(1-Cs)**2)(Hn),vs=(Cs=>(1-Cs)**3)(Hn);return new ot(dn*Kn+Ai*Qn+ze*ys+qe*vs,gn*Kn+ln*Qn+Ke*ys+f*vs)},Hr=qe=>qe**2,Nr=qe=>2*qe*(1-qe),Ur=qe=>(1-qe)**2,qr=(qe,f,ze,Ke,Ai,ln,dn,gn)=>Hn=>{const Kn=Hr(Hn),Qn=Nr(Hn),ys=Ur(Hn),vs=3*(ys*(ze-qe)+Qn*(Ai-ze)+Kn*(dn-Ai)),Cs=3*(ys*(Ke-f)+Qn*(ln-Ke)+Kn*(gn-ln));return Math.atan2(Cs,vs)},Kr=(qe,f,ze,Ke,Ai,ln)=>dn=>{const gn=Hr(dn),Hn=Nr(dn),Kn=Ur(dn);return new ot(Ai*gn+ze*Hn+qe*Kn,ln*gn+Ke*Hn+f*Kn)},Jr=(qe,f,ze,Ke,Ai,ln)=>dn=>{const gn=1-dn,Hn=2*(gn*(ze-qe)+dn*(Ai-ze)),Kn=2*(gn*(Ke-f)+dn*(ln-Ke));return Math.atan2(Kn,Hn)},Qr=(qe,f,ze)=>{let Ke=new ot(f,ze),Ai=0;for(let ln=1;ln<=100;ln+=1){const dn=qe(ln/100);Ai+=zr(Ke.x,Ke.y,dn.x,dn.y),Ke=dn}return Ai},Zr=(qe,f)=>{let ze,Ke=0,Ai=0,ln={x:qe.x,y:qe.y},dn=s({},ln),gn=.01,Hn=0;const Kn=qe.iterator,Qn=qe.angleFinder;for(;Ai<f&&gn>1e-4;)dn=Kn(Ke),Hn=Ke,ze=zr(ln.x,ln.y,dn.x,dn.y),ze+Ai>f?(Ke-=gn,gn/=2):(ln=dn,Ke+=gn,Ai+=ze);return s(s({},dn),{},{angle:Qn(Hn)})},$r=qe=>{let f,ze,Ke=0,Ai=0,ln=0,dn=0,gn=0;const Hn=[];for(const Kn of qe){const Qn={x:Ai,y:ln,command:Kn[0],length:0};switch(Kn[0]){case"M":ze=Qn,ze.x=dn=Ai=Kn[1],ze.y=gn=ln=Kn[2];break;case"L":ze=Qn,ze.length=zr(Ai,ln,Kn[1],Kn[2]),Ai=Kn[1],ln=Kn[2];break;case"C":f=Gr(Ai,ln,Kn[1],Kn[2],Kn[3],Kn[4],Kn[5],Kn[6]),ze=Qn,ze.iterator=f,ze.angleFinder=qr(Ai,ln,Kn[1],Kn[2],Kn[3],Kn[4],Kn[5],Kn[6]),ze.length=Qr(f,Ai,ln),Ai=Kn[5],ln=Kn[6];break;case"Q":f=Kr(Ai,ln,Kn[1],Kn[2],Kn[3],Kn[4]),ze=Qn,ze.iterator=f,ze.angleFinder=Jr(Ai,ln,Kn[1],Kn[2],Kn[3],Kn[4]),ze.length=Qr(f,Ai,ln),Ai=Kn[3],ln=Kn[4];break;case"Z":ze=Qn,ze.destX=dn,ze.destY=gn,ze.length=zr(Ai,ln,dn,gn),Ai=dn,ln=gn}Ke+=ze.length,Hn.push(ze)}return Hn.push({length:Ke,x:Ai,y:ln}),Hn},tn=function(qe,f){let ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$r(qe),Ke=0;for(;f-ze[Ke].length>0&&Ke<ze.length-2;)f-=ze[Ke].length,Ke++;const Ai=ze[Ke],ln=f/Ai.length,dn=qe[Ke];switch(Ai.command){case"M":return{x:Ai.x,y:Ai.y,angle:0};case"Z":return s(s({},new ot(Ai.x,Ai.y).lerp(new ot(Ai.destX,Ai.destY),ln)),{},{angle:Math.atan2(Ai.destY-Ai.y,Ai.destX-Ai.x)});case"L":return s(s({},new ot(Ai.x,Ai.y).lerp(new ot(dn[1],dn[2]),ln)),{},{angle:Math.atan2(dn[2]-Ai.y,dn[1]-Ai.x)});case"C":case"Q":return Zr(Ai,f)}},en=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),sn=new RegExp(Rr,"g"),rn=new RegExp(Ve,"gi"),nn={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},on=qe=>{var f;const ze=[],Ke=(f=qe.match(en))!==null&&f!==void 0?f:[];for(const Ai of Ke){const ln=Ai[0];if(ln==="z"||ln==="Z"){ze.push([ln]);continue}const dn=nn[ln.toLowerCase()];let gn=[];if(ln==="a"||ln==="A"){sn.lastIndex=0;for(let Hn=null;Hn=sn.exec(Ai);)gn.push(...Hn.slice(1))}else gn=Ai.match(rn)||[];for(let Hn=0;Hn<gn.length;Hn+=dn){const Kn=new Array(dn),Qn=Ir[ln];Kn[0]=Hn>0&&Qn?Qn:ln;for(let ys=0;ys<dn;ys++)Kn[ys+1]=parseFloat(gn[Hn+ys]);ze.push(Kn)}}return ze},hn=(qe,f)=>qe.map(ze=>ze.map((Ke,Ai)=>Ai===0||f===void 0?Ke:Vt(Ke,f)).join(" ")).join(" ");function cn(qe,f){const ze=qe.style;ze&&f&&(typeof f=="string"?ze.cssText+=";"+f:Object.entries(f).forEach(Ke=>{let[Ai,ln]=Ke;return ze.setProperty(Ai,ln)}))}class fn extends te{constructor(f){let{allowTouchScrolling:ze=!1,containerClass:Ke=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(f),t(this,"upper",void 0),t(this,"container",void 0);const{el:Ai}=this.lower,ln=this.createUpperCanvas();this.upper={el:ln,ctx:ln.getContext("2d")},this.applyCanvasStyle(Ai,{allowTouchScrolling:ze}),this.applyCanvasStyle(ln,{allowTouchScrolling:ze,styles:{position:"absolute",left:"0",top:"0"}});const dn=this.createContainerElement();dn.classList.add(Ke),Ai.parentNode&&Ai.parentNode.replaceChild(dn,Ai),dn.append(Ai,ln),this.container=dn}createUpperCanvas(){const{el:f}=this.lower,ze=pt();return ze.className=f.className,ze.classList.remove("lower-canvas"),ze.classList.add("upper-canvas"),ze.setAttribute("data-fabric","top"),ze.style.cssText=f.style.cssText,ze.setAttribute("draggable","true"),ze}createContainerElement(){const f=m().createElement("div");return f.setAttribute("data-fabric","wrapper"),cn(f,{position:"relative"}),$t(f),f}applyCanvasStyle(f,ze){const{styles:Ke,allowTouchScrolling:Ai}=ze;cn(f,s(s({},Ke),{},{"touch-action":Ai?"manipulation":j})),$t(f)}setDimensions(f,ze){super.setDimensions(f,ze);const{el:Ke,ctx:Ai}=this.upper;Qt(Ke,Ai,f,ze)}setCSSDimensions(f){super.setCSSDimensions(f),Zt(this.upper.el,f),Zt(this.container,f)}cleanupDOM(f){const ze=this.container,{el:Ke}=this.lower,{el:Ai}=this.upper;super.cleanupDOM(f),ze.removeChild(Ai),ze.removeChild(Ke),ze.parentNode&&ze.parentNode.replaceChild(Ke,ze)}dispose(){super.dispose(),p().dispose(this.upper.el),delete this.upper,delete this.container}}class pn extends se{constructor(){super(...arguments),t(this,"targets",[]),t(this,"_hoveredTargets",[]),t(this,"_objectsToRender",void 0),t(this,"_currentTransform",null),t(this,"_groupSelector",null),t(this,"contextTopDirty",!1)}static getDefaults(){return s(s({},super.getDefaults()),pn.ownDefaults)}get upperCanvasEl(){var f;return(f=this.elements.upper)===null||f===void 0?void 0:f.el}get contextTop(){var f;return(f=this.elements.upper)===null||f===void 0?void 0:f.ctx}get wrapperEl(){return this.elements.container}initElements(f){this.elements=new fn(f,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(f){this._objectsToRender=void 0,super._onObjectAdded(f)}_onObjectRemoved(f){this._objectsToRender=void 0,f===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[f]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[f]}),f.fire("deselected",{target:f})),f===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(f)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const f=this._activeObject;return!this.preserveObjectStacking&&f?this._objects.filter(ze=>!ze.group&&ze!==f).concat(f):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(f){f.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(f),this.contextTopDirty=!0),f.restore()}renderTop(){const f=this.contextTop;this.clearContext(f),this.renderTopLayer(f),this.fire("after:render",{ctx:f})}setTargetFindTolerance(f){f=Math.round(f),this.targetFindTolerance=f;const ze=this.getRetinaScaling(),Ke=Math.ceil((2*f+1)*ze);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=Ke,this.pixelFindContext.scale(ze,ze)}isTargetTransparent(f,ze,Ke){const Ai=this.targetFindTolerance,ln=this.pixelFindContext;this.clearContext(ln),ln.save(),ln.translate(-ze+Ai,-Ke+Ai),ln.transform(...this.viewportTransform);const dn=f.selectionBackgroundColor;f.selectionBackgroundColor="",f.render(ln),f.selectionBackgroundColor=dn,ln.restore();const gn=Math.round(Ai*this.getRetinaScaling());return xi(ln,gn,gn,gn)}_isSelectionKeyPressed(f){const ze=this.selectionKey;return!!ze&&(Array.isArray(ze)?!!ze.find(Ke=>!!Ke&&f[Ke]===!0):f[ze])}_shouldClearSelection(f,ze){const Ke=this.getActiveObjects(),Ai=this._activeObject;return!!(!ze||ze&&Ai&&Ke.length>1&&Ke.indexOf(ze)===-1&&Ai!==ze&&!this._isSelectionKeyPressed(f)||ze&&!ze.evented||ze&&!ze.selectable&&Ai&&Ai!==ze)}_shouldCenterTransform(f,ze,Ke){if(!f)return;let Ai;return ze===G||ze===H||ze===N||ze===Y?Ai=this.centeredScaling||f.centeredScaling:ze===B&&(Ai=this.centeredRotation||f.centeredRotation),Ai?!Ke:Ke}_getOriginFromCorner(f,ze){const Ke={x:f.originX,y:f.originY};return ze&&(["ml","tl","bl"].includes(ze)?Ke.x=A:["mr","tr","br"].includes(ze)&&(Ke.x=M),["tl","mt","tr"].includes(ze)?Ke.y=E:["bl","mb","br"].includes(ze)&&(Ke.y=P)),Ke}_setupCurrentTransform(f,ze,Ke){var Ai;const ln=ze.group?pe(this.getScenePoint(f),void 0,ze.group.calcTransformMatrix()):this.getScenePoint(f),{key:dn="",control:gn}=ze.getActiveControl()||{},Hn=Ke&&gn?(Ai=gn.getActionHandler(f,ze,gn))===null||Ai===void 0?void 0:Ai.bind(gn):De,Kn=((Cs,bs,ia,la)=>{if(!bs||!Cs)return"drag";const ra=la.controls[bs];return ra.getActionName(ia,ra,la)})(Ke,dn,f,ze),Qn=f[this.centeredKey],ys=this._shouldCenterTransform(ze,Kn,Qn)?{x:D,y:D}:this._getOriginFromCorner(ze,dn),vs={target:ze,action:Kn,actionHandler:Hn,actionPerformed:!1,corner:dn,scaleX:ze.scaleX,scaleY:ze.scaleY,skewX:ze.skewX,skewY:ze.skewY,offsetX:ln.x-ze.left,offsetY:ln.y-ze.top,originX:ys.x,originY:ys.y,ex:ln.x,ey:ln.y,lastX:ln.x,lastY:ln.y,theta:xt(ze.angle),width:ze.width,height:ze.height,shiftKey:f.shiftKey,altKey:Qn,original:s(s({},de(ze)),{},{originX:ys.x,originY:ys.y})};this._currentTransform=vs,this.fire("before:transform",{e:f,transform:vs})}setCursor(f){this.upperCanvasEl.style.cursor=f}_drawSelection(f){const{x:ze,y:Ke,deltaX:Ai,deltaY:ln}=this._groupSelector,dn=new ot(ze,Ke).transform(this.viewportTransform),gn=new ot(ze+Ai,Ke+ln).transform(this.viewportTransform),Hn=this.selectionLineWidth/2;let Kn=Math.min(dn.x,gn.x),Qn=Math.min(dn.y,gn.y),ys=Math.max(dn.x,gn.x),vs=Math.max(dn.y,gn.y);this.selectionColor&&(f.fillStyle=this.selectionColor,f.fillRect(Kn,Qn,ys-Kn,vs-Qn)),this.selectionLineWidth&&this.selectionBorderColor&&(f.lineWidth=this.selectionLineWidth,f.strokeStyle=this.selectionBorderColor,Kn+=Hn,Qn+=Hn,ys-=Hn,vs-=Hn,_i.prototype._setLineDash.call(this,f,this.selectionDashArray),f.strokeRect(Kn,Qn,ys-Kn,vs-Qn))}findTarget(f){if(this.skipTargetFind)return;const ze=this.getViewportPoint(f),Ke=this._activeObject,Ai=this.getActiveObjects();if(this.targets=[],Ke&&Ai.length>=1){if(Ke.findControl(ze,ne(f))||Ai.length>1&&this.searchPossibleTargets([Ke],ze))return Ke;if(Ke===this.searchPossibleTargets([Ke],ze)){if(this.preserveObjectStacking){const ln=this.targets;this.targets=[];const dn=this.searchPossibleTargets(this._objects,ze);return f[this.altSelectionKey]&&dn&&dn!==Ke?(this.targets=ln,Ke):dn}return Ke}}return this.searchPossibleTargets(this._objects,ze)}_pointIsInObjectSelectionArea(f,ze){let Ke=f.getCoords();const Ai=this.getZoom(),ln=f.padding/Ai;if(ln){const[dn,gn,Hn,Kn]=Ke,Qn=Math.atan2(gn.y-dn.y,gn.x-dn.x),ys=rt(Qn)*ln,vs=nt(Qn)*ln,Cs=ys+vs,bs=ys-vs;Ke=[new ot(dn.x-bs,dn.y-Cs),new ot(gn.x+Cs,gn.y-bs),new ot(Hn.x+bs,Hn.y+Cs),new ot(Kn.x-Cs,Kn.y+bs)]}return Ls.isPointInPolygon(ze,Ke)}_checkTarget(f,ze){return!!(f&&f.visible&&f.evented&&this._pointIsInObjectSelectionArea(f,pe(ze,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!f.perPixelTargetFind||f.isEditing||!this.isTargetTransparent(f,ze.x,ze.y)))}_searchPossibleTargets(f,ze){let Ke=f.length;for(;Ke--;){const Ai=f[Ke];if(this._checkTarget(Ai,ze)){if(ht(Ai)&&Ai.subTargetCheck){const ln=this._searchPossibleTargets(Ai._objects,ze);ln&&this.targets.push(ln)}return Ai}}}searchPossibleTargets(f,ze){const Ke=this._searchPossibleTargets(f,ze);if(Ke&&ht(Ke)&&Ke.interactive&&this.targets[0]){const Ai=this.targets;for(let ln=Ai.length-1;ln>0;ln--){const dn=Ai[ln];if(!ht(dn)||!dn.interactive)return dn}return Ai[0]}return Ke}getViewportPoint(f){return this._pointer?this._pointer:this.getPointer(f,!0)}getScenePoint(f){return this._absolutePointer?this._absolutePointer:this.getPointer(f)}getPointer(f){let ze=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const Ke=this.upperCanvasEl,Ai=Ke.getBoundingClientRect();let ln=re(f),dn=Ai.width||0,gn=Ai.height||0;dn&&gn||(P in Ai&&E in Ai&&(gn=Math.abs(Ai.top-Ai.bottom)),A in Ai&&M in Ai&&(dn=Math.abs(Ai.right-Ai.left))),this.calcOffset(),ln.x=ln.x-this._offset.left,ln.y=ln.y-this._offset.top,ze||(ln=pe(ln,void 0,this.viewportTransform));const Hn=this.getRetinaScaling();Hn!==1&&(ln.x/=Hn,ln.y/=Hn);const Kn=dn===0||gn===0?new ot(1,1):new ot(Ke.width/dn,Ke.height/gn);return ln.multiply(Kn)}_setDimensionsImpl(f,ze){this._resetTransformEventData(),super._setDimensionsImpl(f,ze),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=pt(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const f=this._activeObject;return Ut(f)?f.getObjects():f?[f]:[]}_fireSelectionEvents(f,ze){let Ke=!1,Ai=!1;const ln=this.getActiveObjects(),dn=[],gn=[];f.forEach(Hn=>{ln.includes(Hn)||(Ke=!0,Hn.fire("deselected",{e:ze,target:Hn}),gn.push(Hn))}),ln.forEach(Hn=>{f.includes(Hn)||(Ke=!0,Hn.fire("selected",{e:ze,target:Hn}),dn.push(Hn))}),f.length>0&&ln.length>0?(Ai=!0,Ke&&this.fire("selection:updated",{e:ze,selected:dn,deselected:gn})):ln.length>0?(Ai=!0,this.fire("selection:created",{e:ze,selected:dn})):f.length>0&&(Ai=!0,this.fire("selection:cleared",{e:ze,deselected:gn})),Ai&&(this._objectsToRender=void 0)}setActiveObject(f,ze){const Ke=this.getActiveObjects(),Ai=this._setActiveObject(f,ze);return this._fireSelectionEvents(Ke,ze),Ai}_setActiveObject(f,ze){const Ke=this._activeObject;return Ke!==f&&!(!this._discardActiveObject(ze,f)&&this._activeObject)&&!f.onSelect({e:ze})&&(this._activeObject=f,Ut(f)&&Ke!==f&&f.set("canvas",this),f.setCoords(),!0)}_discardActiveObject(f,ze){const Ke=this._activeObject;return!!Ke&&!Ke.onDeselect({e:f,object:ze})&&(this._currentTransform&&this._currentTransform.target===Ke&&this.endCurrentTransform(f),Ut(Ke)&&Ke===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(f){const ze=this.getActiveObjects(),Ke=this.getActiveObject();ze.length&&this.fire("before:selection:cleared",{e:f,deselected:[Ke]});const Ai=this._discardActiveObject(f);return this._fireSelectionEvents(ze,f),Ai}endCurrentTransform(f){const ze=this._currentTransform;this._finalizeCurrentTransform(f),ze&&ze.target&&(ze.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(f){const ze=this._currentTransform,Ke=ze.target,Ai={e:f,target:Ke,transform:ze,action:ze.action};Ke._scaling&&(Ke._scaling=!1),Ke.setCoords(),ze.actionPerformed&&(this.fire("object:modified",Ai),Ke.fire(Q,Ai))}setViewportTransform(f){super.setViewportTransform(f);const ze=this._activeObject;ze&&ze.setCoords()}destroy(){const f=this._activeObject;Ut(f)&&(f.removeAll(),f.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(f){const ze=this._activeObject;ze&&ze._renderControls(f)}_toObject(f,ze,Ke){const Ai=this._realizeGroupTransformOnObject(f),ln=super._toObject(f,ze,Ke);return f.set(Ai),ln}_realizeGroupTransformOnObject(f){const{group:ze}=f;if(ze&&Ut(ze)&&this._activeObject===ze){const Ke=Yt(f,["angle","flipX","flipY",M,H,N,U,q,P]);return ce(f,ze.calcOwnMatrix()),Ke}return{}}_setSVGObject(f,ze,Ke){const Ai=this._realizeGroupTransformOnObject(ze);super._setSVGObject(f,ze,Ke),ze.set(Ai)}}t(pn,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class mn{constructor(f){t(this,"targets",[]),t(this,"__disposer",void 0);const ze=()=>{const{hiddenTextarea:Ai}=f.getActiveObject()||{};Ai&&Ai.focus()},Ke=f.upperCanvasEl;Ke.addEventListener("click",ze),this.__disposer=()=>Ke.removeEventListener("click",ze)}exitTextEditing(){this.target=void 0,this.targets.forEach(f=>{f.isEditing&&f.exitEditing()})}add(f){this.targets.push(f)}remove(f){this.unregister(f),it(this.targets,f)}register(f){this.target=f}unregister(f){f===this.target&&(this.target=void 0)}onMouseMove(f){var ze;!((ze=this.target)===null||ze===void 0)&&ze.isEditing&&this.target.updateSelectionOnMouseMove(f)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const vn=["target","oldTarget","fireCanvas","e"],yn={passive:!1},_n=(qe,f)=>{const ze=qe.getViewportPoint(f),Ke=qe.getScenePoint(f);return{viewportPoint:ze,scenePoint:Ke,pointer:ze,absolutePointer:Ke}},xn=function(qe){for(var f=arguments.length,ze=new Array(f>1?f-1:0),Ke=1;Ke<f;Ke++)ze[Ke-1]=arguments[Ke];return qe.addEventListener(...ze)},Cn=function(qe){for(var f=arguments.length,ze=new Array(f>1?f-1:0),Ke=1;Ke<f;Ke++)ze[Ke-1]=arguments[Ke];return qe.removeEventListener(...ze)},bn={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class wn extends pn{constructor(f){super(f,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),t(this,"_isClick",void 0),t(this,"textEditingManager",new mn(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(ze=>{this[ze]=this[ze].bind(this)}),this.addOrRemove(xn,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(f,ze){const Ke=this.upperCanvasEl,Ai=this._getEventPrefix();f(Jt(Ke),"resize",this._onResize),f(Ke,Ai+"down",this._onMouseDown),f(Ke,"".concat(Ai,"move"),this._onMouseMove,yn),f(Ke,"".concat(Ai,"out"),this._onMouseOut),f(Ke,"".concat(Ai,"enter"),this._onMouseEnter),f(Ke,"wheel",this._onMouseWheel),f(Ke,"contextmenu",this._onContextMenu),f(Ke,"click",this._onClick),f(Ke,"dblclick",this._onClick),f(Ke,"dragstart",this._onDragStart),f(Ke,"dragend",this._onDragEnd),f(Ke,"dragover",this._onDragOver),f(Ke,"dragenter",this._onDragEnter),f(Ke,"dragleave",this._onDragLeave),f(Ke,"drop",this._onDrop),this.enablePointerEvents||f(Ke,"touchstart",this._onTouchStart,yn)}removeListeners(){this.addOrRemove(Cn,"remove");const f=this._getEventPrefix(),ze=Kt(this.upperCanvasEl);Cn(ze,"".concat(f,"up"),this._onMouseUp),Cn(ze,"touchend",this._onTouchEnd,yn),Cn(ze,"".concat(f,"move"),this._onMouseMove,yn),Cn(ze,"touchmove",this._onMouseMove,yn),clearTimeout(this._willAddMouseDown)}_onMouseWheel(f){this.__onMouseWheel(f)}_onMouseOut(f){const ze=this._hoveredTarget,Ke=s({e:f},_n(this,f));this.fire("mouse:out",s(s({},Ke),{},{target:ze})),this._hoveredTarget=void 0,ze&&ze.fire("mouseout",s({},Ke)),this._hoveredTargets.forEach(Ai=>{this.fire("mouse:out",s(s({},Ke),{},{target:Ai})),Ai&&Ai.fire("mouseout",s({},Ke))}),this._hoveredTargets=[]}_onMouseEnter(f){this._currentTransform||this.findTarget(f)||(this.fire("mouse:over",s({e:f},_n(this,f))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(f){this._isClick=!1;const ze=this.getActiveObject();if(ze&&ze.onDragStart(f)){this._dragSource=ze;const Ke={e:f,target:ze};return this.fire("dragstart",Ke),ze.fire("dragstart",Ke),void xn(this.upperCanvasEl,"drag",this._onDragProgress)}oe(f)}_renderDragEffects(f,ze,Ke){let Ai=!1;const ln=this._dropTarget;ln&&ln!==ze&&ln!==Ke&&(ln.clearContextTop(),Ai=!0),ze==null||ze.clearContextTop(),Ke!==ze&&(Ke==null||Ke.clearContextTop());const dn=this.contextTop;dn.save(),dn.transform(...this.viewportTransform),ze&&(dn.save(),ze.transform(dn),ze.renderDragSourceEffect(f),dn.restore(),Ai=!0),Ke&&(dn.save(),Ke.transform(dn),Ke.renderDropTargetEffect(f),dn.restore(),Ai=!0),dn.restore(),Ai&&(this.contextTopDirty=!0)}_onDragEnd(f){const ze=!!f.dataTransfer&&f.dataTransfer.dropEffect!==j,Ke=ze?this._activeObject:void 0,Ai={e:f,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:ze,dropTarget:Ke};Cn(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",Ai),this._dragSource&&this._dragSource.fire("dragend",Ai),delete this._dragSource,this._onMouseUp(f)}_onDragProgress(f){const ze={e:f,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",ze),this._dragSource&&this._dragSource.fire("drag",ze)}findDragTargets(f){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(f)),targets:[...this.targets]}}_onDragOver(f){const ze="dragover",{target:Ke,targets:Ai}=this.findDragTargets(f),ln=this._dragSource,dn={e:f,target:Ke,subTargets:Ai,dragSource:ln,canDrop:!1,dropTarget:void 0};let gn;this.fire(ze,dn),this._fireEnterLeaveEvents(Ke,dn),Ke&&(Ke.canDrop(f)&&(gn=Ke),Ke.fire(ze,dn));for(let Hn=0;Hn<Ai.length;Hn++){const Kn=Ai[Hn];Kn.canDrop(f)&&(gn=Kn),Kn.fire(ze,dn)}this._renderDragEffects(f,ln,gn),this._dropTarget=gn}_onDragEnter(f){const{target:ze,targets:Ke}=this.findDragTargets(f),Ai={e:f,target:ze,subTargets:Ke,dragSource:this._dragSource};this.fire("dragenter",Ai),this._fireEnterLeaveEvents(ze,Ai)}_onDragLeave(f){const ze={e:f,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",ze),this._fireEnterLeaveEvents(void 0,ze),this._renderDragEffects(f,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(f){const{target:ze,targets:Ke}=this.findDragTargets(f),Ai=this._basicEventHandler("drop:before",s({e:f,target:ze,subTargets:Ke,dragSource:this._dragSource},_n(this,f)));Ai.didDrop=!1,Ai.dropTarget=void 0,this._basicEventHandler("drop",Ai),this.fire("drop:after",Ai)}_onContextMenu(f){const ze=this.findTarget(f),Ke=this.targets||[],Ai=this._basicEventHandler("contextmenu:before",{e:f,target:ze,subTargets:Ke});return this.stopContextMenu&&oe(f),this._basicEventHandler("contextmenu",Ai),!1}_onClick(f){const ze=f.detail;ze>3||ze<2||(this._cacheTransformEventData(f),ze==2&&f.type==="dblclick"&&this._handleEvent(f,"dblclick"),ze==3&&this._handleEvent(f,"tripleclick"),this._resetTransformEventData())}getPointerId(f){const ze=f.changedTouches;return ze?ze[0]&&ze[0].identifier:this.enablePointerEvents?f.pointerId:-1}_isMainEvent(f){return f.isPrimary===!0||f.isPrimary!==!1&&(f.type==="touchend"&&f.touches.length===0||!f.changedTouches||f.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(f){let ze=!this.allowTouchScrolling;const Ke=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(f)),this.__onMouseDown(f),(this.isDrawingMode||Ke&&this._target===Ke)&&(ze=!0),ze&&f.preventDefault(),this._resetTransformEventData();const Ai=this.upperCanvasEl,ln=this._getEventPrefix(),dn=Kt(Ai);xn(dn,"touchend",this._onTouchEnd,yn),ze&&xn(dn,"touchmove",this._onMouseMove,yn),Cn(Ai,"".concat(ln,"down"),this._onMouseDown)}_onMouseDown(f){this.__onMouseDown(f),this._resetTransformEventData();const ze=this.upperCanvasEl,Ke=this._getEventPrefix();Cn(ze,"".concat(Ke,"move"),this._onMouseMove,yn);const Ai=Kt(ze);xn(Ai,"".concat(Ke,"up"),this._onMouseUp),xn(Ai,"".concat(Ke,"move"),this._onMouseMove,yn)}_onTouchEnd(f){if(f.touches.length>0)return;this.__onMouseUp(f),this._resetTransformEventData(),delete this.mainTouchId;const ze=this._getEventPrefix(),Ke=Kt(this.upperCanvasEl);Cn(Ke,"touchend",this._onTouchEnd,yn),Cn(Ke,"touchmove",this._onMouseMove,yn),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{xn(this.upperCanvasEl,"".concat(ze,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(f){this.__onMouseUp(f),this._resetTransformEventData();const ze=this.upperCanvasEl,Ke=this._getEventPrefix();if(this._isMainEvent(f)){const Ai=Kt(this.upperCanvasEl);Cn(Ai,"".concat(Ke,"up"),this._onMouseUp),Cn(Ai,"".concat(Ke,"move"),this._onMouseMove,yn),xn(ze,"".concat(Ke,"move"),this._onMouseMove,yn)}}_onMouseMove(f){const ze=this.getActiveObject();!this.allowTouchScrolling&&(!ze||!ze.shouldStartDragging(f))&&f.preventDefault&&f.preventDefault(),this.__onMouseMove(f)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(f){const ze=this.getActiveObject();return!!ze!=!!f||ze&&f&&ze!==f}__onMouseUp(f){var ze;this._cacheTransformEventData(f),this._handleEvent(f,"up:before");const Ke=this._currentTransform,Ai=this._isClick,ln=this._target,{button:dn}=f;if(dn)return(this.fireMiddleClick&&dn===1||this.fireRightClick&&dn===2)&&this._handleEvent(f,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(f);if(!this._isMainEvent(f))return;let gn,Hn,Kn=!1;if(Ke&&(this._finalizeCurrentTransform(f),Kn=Ke.actionPerformed),!Ai){const Qn=ln===this._activeObject;this.handleSelection(f),Kn||(Kn=this._shouldRender(ln)||!Qn&&ln===this._activeObject)}if(ln){const Qn=ln.findControl(this.getViewportPoint(f),ne(f)),{key:ys,control:vs}=Qn||{};if(Hn=ys,ln.selectable&&ln!==this._activeObject&&ln.activeOn==="up")this.setActiveObject(ln,f),Kn=!0;else if(vs){const Cs=vs.getMouseUpHandler(f,ln,vs);Cs&&(gn=this.getScenePoint(f),Cs.call(vs,f,Ke,gn.x,gn.y))}ln.isMoving=!1}if(Ke&&(Ke.target!==ln||Ke.corner!==Hn)){const Qn=Ke.target&&Ke.target.controls[Ke.corner],ys=Qn&&Qn.getMouseUpHandler(f,Ke.target,Qn);gn=gn||this.getScenePoint(f),ys&&ys.call(Qn,f,Ke,gn.x,gn.y)}this._setCursorFromEvent(f,ln),this._handleEvent(f,"up"),this._groupSelector=null,this._currentTransform=null,ln&&(ln.__corner=void 0),Kn?this.requestRenderAll():Ai||(ze=this._activeObject)!==null&&ze!==void 0&&ze.isEditing||this.renderTop()}_basicEventHandler(f,ze){const{target:Ke,subTargets:Ai=[]}=ze;this.fire(f,ze),Ke&&Ke.fire(f,ze);for(let ln=0;ln<Ai.length;ln++)Ai[ln]!==Ke&&Ai[ln].fire(f,ze);return ze}_handleEvent(f,ze,Ke){const Ai=this._target,ln=this.targets||[],dn=s(s(s({e:f,target:Ai,subTargets:ln},_n(this,f)),{},{transform:this._currentTransform},ze==="up:before"||ze==="up"?{isClick:this._isClick,currentTarget:this.findTarget(f),currentSubTargets:this.targets}:{}),ze==="down:before"||ze==="down"?Ke:{});this.fire("mouse:".concat(ze),dn),Ai&&Ai.fire("mouse".concat(ze),dn);for(let gn=0;gn<ln.length;gn++)ln[gn]!==Ai&&ln[gn].fire("mouse".concat(ze),dn)}_onMouseDownInDrawingMode(f){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(f),this.requestRenderAll());const ze=this.getScenePoint(f);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(ze,{e:f,pointer:ze}),this._handleEvent(f,"down",{alreadySelected:!1})}_onMouseMoveInDrawingMode(f){if(this._isCurrentlyDrawing){const ze=this.getScenePoint(f);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(ze,{e:f,pointer:ze})}this.setCursor(this.freeDrawingCursor),this._handleEvent(f,"move")}_onMouseUpInDrawingMode(f){const ze=this.getScenePoint(f);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e:f,pointer:ze}):this._isCurrentlyDrawing=!1,this._handleEvent(f,"up")}__onMouseDown(f){this._isClick=!0,this._cacheTransformEventData(f),this._handleEvent(f,"down:before");let ze=this._target,Ke=!!ze&&ze===this._activeObject;const{button:Ai}=f;if(Ai)return(this.fireMiddleClick&&Ai===1||this.fireRightClick&&Ai===2)&&this._handleEvent(f,"down",{alreadySelected:Ke}),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(f);if(!this._isMainEvent(f)||this._currentTransform)return;let ln=this._shouldRender(ze),dn=!1;if(this.handleMultiSelection(f,ze)?(ze=this._activeObject,dn=!0,ln=!0):this._shouldClearSelection(f,ze)&&this.discardActiveObject(f),this.selection&&(!ze||!ze.selectable&&!ze.isEditing&&ze!==this._activeObject)){const gn=this.getScenePoint(f);this._groupSelector={x:gn.x,y:gn.y,deltaY:0,deltaX:0}}if(Ke=!!ze&&ze===this._activeObject,ze){ze.selectable&&ze.activeOn==="down"&&this.setActiveObject(ze,f);const gn=ze.findControl(this.getViewportPoint(f),ne(f));if(ze===this._activeObject&&(gn||!dn)){this._setupCurrentTransform(f,ze,Ke);const Hn=gn?gn.control:void 0,Kn=this.getScenePoint(f),Qn=Hn&&Hn.getMouseDownHandler(f,ze,Hn);Qn&&Qn.call(Hn,f,this._currentTransform,Kn.x,Kn.y)}}ln&&(this._objectsToRender=void 0),this._handleEvent(f,"down",{alreadySelected:Ke}),ln&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(f){this._resetTransformEventData(),this._pointer=this.getViewportPoint(f),this._absolutePointer=pe(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(f)}__onMouseMove(f){if(this._isClick=!1,this._cacheTransformEventData(f),this._handleEvent(f,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(f);if(!this._isMainEvent(f))return;const ze=this._groupSelector;if(ze){const Ke=this.getScenePoint(f);ze.deltaX=Ke.x-ze.x,ze.deltaY=Ke.y-ze.y,this.renderTop()}else if(this._currentTransform)this._transformObject(f);else{const Ke=this.findTarget(f);this._setCursorFromEvent(f,Ke),this._fireOverOutEvents(f,Ke)}this.textEditingManager.onMouseMove(f),this._handleEvent(f,"move"),this._resetTransformEventData()}_fireOverOutEvents(f,ze){const Ke=this._hoveredTarget,Ai=this._hoveredTargets,ln=this.targets,dn=Math.max(Ai.length,ln.length);this.fireSyntheticInOutEvents("mouse",{e:f,target:ze,oldTarget:Ke,fireCanvas:!0});for(let gn=0;gn<dn;gn++)this.fireSyntheticInOutEvents("mouse",{e:f,target:ln[gn],oldTarget:Ai[gn]});this._hoveredTarget=ze,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(f,ze){const Ke=this._draggedoverTarget,Ai=this._hoveredTargets,ln=this.targets,dn=Math.max(Ai.length,ln.length);this.fireSyntheticInOutEvents("drag",s(s({},ze),{},{target:f,oldTarget:Ke,fireCanvas:!0}));for(let gn=0;gn<dn;gn++)this.fireSyntheticInOutEvents("drag",s(s({},ze),{},{target:ln[gn],oldTarget:Ai[gn]}));this._draggedoverTarget=f}fireSyntheticInOutEvents(f,ze){let{target:Ke,oldTarget:Ai,fireCanvas:ln,e:dn}=ze,gn=i(ze,vn);const{targetIn:Hn,targetOut:Kn,canvasIn:Qn,canvasOut:ys}=bn[f],vs=Ai!==Ke;if(Ai&&vs){const Cs=s(s({},gn),{},{e:dn,target:Ai,nextTarget:Ke},_n(this,dn));ln&&this.fire(ys,Cs),Ai.fire(Kn,Cs)}if(Ke&&vs){const Cs=s(s({},gn),{},{e:dn,target:Ke,previousTarget:Ai},_n(this,dn));ln&&this.fire(Qn,Cs),Ke.fire(Hn,Cs)}}__onMouseWheel(f){this._cacheTransformEventData(f),this._handleEvent(f,"wheel"),this._resetTransformEventData()}_transformObject(f){const ze=this.getScenePoint(f),Ke=this._currentTransform,Ai=Ke.target,ln=Ai.group?pe(ze,void 0,Ai.group.calcTransformMatrix()):ze;Ke.shiftKey=f.shiftKey,Ke.altKey=!!this.centeredKey&&f[this.centeredKey],this._performTransformAction(f,Ke,ln),Ke.actionPerformed&&this.requestRenderAll()}_performTransformAction(f,ze,Ke){const{action:Ai,actionHandler:ln,target:dn}=ze,gn=!!ln&&ln(f,ze,Ke.x,Ke.y);gn&&dn.setCoords(),Ai==="drag"&&gn&&(ze.target.isMoving=!0,this.setCursor(ze.target.moveCursor||this.moveCursor)),ze.actionPerformed=ze.actionPerformed||gn}_setCursorFromEvent(f,ze){if(!ze)return void this.setCursor(this.defaultCursor);let Ke=ze.hoverCursor||this.hoverCursor;const Ai=Ut(this._activeObject)?this._activeObject:null,ln=(!Ai||ze.group!==Ai)&&ze.findControl(this.getViewportPoint(f));if(ln){const dn=ln.control;this.setCursor(dn.cursorStyleHandler(f,dn,ze))}else ze.subTargetCheck&&this.targets.concat().reverse().map(dn=>{Ke=dn.hoverCursor||Ke}),this.setCursor(Ke)}handleMultiSelection(f,ze){const Ke=this._activeObject,Ai=Ut(Ke);if(Ke&&this._isSelectionKeyPressed(f)&&this.selection&&ze&&ze.selectable&&(Ke!==ze||Ai)&&(Ai||!ze.isDescendantOf(Ke)&&!Ke.isDescendantOf(ze))&&!ze.onSelect({e:f})&&!Ke.getActiveControl()){if(Ai){const ln=Ke.getObjects();if(ze===Ke){const dn=this.getViewportPoint(f);if(!(ze=this.searchPossibleTargets(ln,dn)||this.searchPossibleTargets(this._objects,dn))||!ze.selectable)return!1}ze.group===Ke?(Ke.remove(ze),this._hoveredTarget=ze,this._hoveredTargets=[...this.targets],Ke.size()===1&&this._setActiveObject(Ke.item(0),f)):(Ke.multiSelectAdd(ze),this._hoveredTarget=Ke,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(ln,f)}else{Ke.isEditing&&Ke.exitEditing();const ln=new(tt.getClass("ActiveSelection"))([],{canvas:this});ln.multiSelectAdd(Ke,ze),this._hoveredTarget=ln,this._setActiveObject(ln,f),this._fireSelectionEvents([Ke],f)}return!0}return!1}handleSelection(f){if(!this.selection||!this._groupSelector)return!1;const{x:ze,y:Ke,deltaX:Ai,deltaY:ln}=this._groupSelector,dn=new ot(ze,Ke),gn=dn.add(new ot(Ai,ln)),Hn=dn.min(gn),Kn=dn.max(gn).subtract(Hn),Qn=this.collectObjects({left:Hn.x,top:Hn.y,width:Kn.x,height:Kn.y},{includeIntersecting:!this.selectionFullyContained}),ys=dn.eq(gn)?Qn[0]?[Qn[0]]:[]:Qn.length>1?Qn.filter(vs=>!vs.onSelect({e:f})).reverse():Qn;if(ys.length===1)this.setActiveObject(ys[0],f);else if(ys.length>1){const vs=tt.getClass("ActiveSelection");this.setActiveObject(new vs(ys,{canvas:this}),f)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const Sn={x1:0,y1:0,x2:0,y2:0},Tn=s(s({},Sn),{},{r1:0,r2:0}),On=(qe,f)=>isNaN(qe)&&typeof f=="number"?f:qe,kn=/^(\d+\.\d+)%|(\d+)%$/;function Dn(qe){return qe&&kn.test(qe)}function Mn(qe,f){const ze=typeof qe=="number"?qe:typeof qe=="string"?parseFloat(qe)/(Dn(qe)?100:1):NaN;return gs(0,On(ze,f),1)}const Pn=/\s*;\s*/,En=/\s*:\s*/;function An(qe,f){let ze,Ke;const Ai=qe.getAttribute("style");if(Ai){const dn=Ai.split(Pn);dn[dn.length-1]===""&&dn.pop();for(let gn=dn.length;gn--;){const[Hn,Kn]=dn[gn].split(En).map(Qn=>Qn.trim());Hn==="stop-color"?ze=Kn:Hn==="stop-opacity"&&(Ke=Kn)}}const ln=new Le(ze||qe.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:Mn(qe.getAttribute("offset"),0),color:ln.toRgb(),opacity:On(parseFloat(Ke||qe.getAttribute("stop-opacity")||""),1)*ln.getAlpha()*f}}function jn(qe,f){const ze=[],Ke=qe.getElementsByTagName("stop"),Ai=Mn(f,1);for(let ln=Ke.length;ln--;)ze.push(An(Ke[ln],Ai));return ze}function Fn(qe){return qe.nodeName==="linearGradient"||qe.nodeName==="LINEARGRADIENT"?"linear":"radial"}function Ln(qe){return qe.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function Rn(qe,f){return qe.getAttribute(f)}function In(qe,f){return function(ze,Ke){let Ai,{width:ln,height:dn,gradientUnits:gn}=Ke;return Object.keys(ze).reduce((Hn,Kn)=>{const Qn=ze[Kn];return Qn==="Infinity"?Ai=1:Qn==="-Infinity"?Ai=0:(Ai=typeof Qn=="string"?parseFloat(Qn):Qn,typeof Qn=="string"&&Dn(Qn)&&(Ai*=.01,gn==="pixels"&&(Kn!=="x1"&&Kn!=="x2"&&Kn!=="r2"||(Ai*=ln),Kn!=="y1"&&Kn!=="y2"||(Ai*=dn)))),Hn[Kn]=Ai,Hn},{})}(Fn(qe)==="linear"?function(ze){return{x1:Rn(ze,"x1")||0,y1:Rn(ze,"y1")||0,x2:Rn(ze,"x2")||"100%",y2:Rn(ze,"y2")||0}}(qe):function(ze){return{x1:Rn(ze,"fx")||Rn(ze,"cx")||"50%",y1:Rn(ze,"fy")||Rn(ze,"cy")||"50%",r1:0,x2:Rn(ze,"cx")||"50%",y2:Rn(ze,"cy")||"50%",r2:Rn(ze,"r")||"50%"}}(qe),s(s({},f),{},{gradientUnits:Ln(qe)}))}class Bn{constructor(f){const{type:ze="linear",gradientUnits:Ke="pixels",coords:Ai={},colorStops:ln=[],offsetX:dn=0,offsetY:gn=0,gradientTransform:Hn,id:Kn}=f||{};Object.assign(this,{type:ze,gradientUnits:Ke,coords:s(s({},ze==="radial"?Tn:Sn),Ai),colorStops:ln,offsetX:dn,offsetY:gn,gradientTransform:Hn,id:Kn?"".concat(Kn,"_").concat(ft()):ft()})}addColorStop(f){for(const ze in f){const Ke=new Le(f[ze]);this.colorStops.push({offset:parseFloat(ze),color:Ke.toRgb(),opacity:Ke.getAlpha()})}return this}toObject(f){return s(s({},Yt(this,f)),{},{type:this.type,coords:s({},this.coords),colorStops:this.colorStops.map(ze=>s({},ze)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(f){let{additionalTransform:ze}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const Ke=[],Ai=this.gradientTransform?this.gradientTransform.concat():T.concat(),ln=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",dn=this.colorStops.map(ys=>s({},ys)).sort((ys,vs)=>ys.offset-vs.offset);let gn=-this.offsetX,Hn=-this.offsetY;var Kn;ln==="objectBoundingBox"?(gn/=f.width,Hn/=f.height):(gn+=f.width/2,Hn+=f.height/2),(Kn=f)&&typeof Kn._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(gn-=f.pathOffset.x,Hn-=f.pathOffset.y),Ai[4]-=gn,Ai[5]-=Hn;const Qn=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(ln,'"'),'gradientTransform="'.concat(ze?ze+" ":"").concat(zt(Ai),'"'),""].join(" ");if(this.type==="linear"){const{x1:ys,y1:vs,x2:Cs,y2:bs}=this.coords;Ke.push("<linearGradient ",Qn,' x1="',ys,'" y1="',vs,'" x2="',Cs,'" y2="',bs,`">
`)}else if(this.type==="radial"){const{x1:ys,y1:vs,x2:Cs,y2:bs,r1:ia,r2:la}=this.coords,ra=ia>la;Ke.push("<radialGradient ",Qn,' cx="',ra?ys:Cs,'" cy="',ra?vs:bs,'" r="',ra?ia:la,'" fx="',ra?Cs:ys,'" fy="',ra?bs:vs,`">
`),ra&&(dn.reverse(),dn.forEach(na=>{na.offset=1-na.offset}));const sa=Math.min(ia,la);if(sa>0){const na=sa/Math.max(ia,la);dn.forEach(aa=>{aa.offset+=na*(1-aa.offset)})}}return dn.forEach(ys=>{let{color:vs,offset:Cs,opacity:bs}=ys;Ke.push("<stop ",'offset="',100*Cs+"%",'" style="stop-color:',vs,bs!==void 0?";stop-opacity: "+bs:";",`"/>
`)}),Ke.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),Ke.join("")}toLive(f){const{x1:ze,y1:Ke,x2:Ai,y2:ln,r1:dn,r2:gn}=this.coords,Hn=this.type==="linear"?f.createLinearGradient(ze,Ke,Ai,ln):f.createRadialGradient(ze,Ke,dn,Ai,ln,gn);return this.colorStops.forEach(Kn=>{let{color:Qn,opacity:ys,offset:vs}=Kn;Hn.addColorStop(vs,ys!==void 0?new Le(Qn).setAlpha(ys).toRgba():Qn)}),Hn}static async fromObject(f){const{colorStops:ze,gradientTransform:Ke}=f;return new this(s(s({},f),{},{colorStops:ze?ze.map(Ai=>s({},Ai)):void 0,gradientTransform:Ke?[...Ke]:void 0}))}static fromElement(f,ze,Ke){const Ai=Ln(f),ln=ze._findCenterFromElement();return new this(s({id:f.getAttribute("id")||void 0,type:Fn(f),coords:In(f,{width:Ke.viewBoxWidth||Ke.width,height:Ke.viewBoxHeight||Ke.height}),colorStops:jn(f,Ke.opacity),gradientUnits:Ai,gradientTransform:hr(f.getAttribute("gradientTransform")||"")},Ai==="pixels"?{offsetX:ze.width/2-ln.x,offsetY:ze.height/2-ln.y}:{offsetX:0,offsetY:0}))}}t(Bn,"type","Gradient"),tt.setClass(Bn,"gradient"),tt.setClass(Bn,"linear"),tt.setClass(Bn,"radial");const Xn=["type","source","patternTransform"];class Yn{get type(){return"pattern"}set type(f){a("warn","Setting type has no effect",f)}constructor(f){t(this,"repeat","repeat"),t(this,"offsetX",0),t(this,"offsetY",0),t(this,"crossOrigin",""),this.id=ft(),Object.assign(this,f)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(f){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?f.createPattern(this.source,this.repeat):null}toObject(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const{repeat:ze,crossOrigin:Ke}=this;return s(s({},Yt(this,f)),{},{type:"pattern",source:this.sourceToString(),repeat:ze,crossOrigin:Ke,offsetX:Vt(this.offsetX,o.NUM_FRACTION_DIGITS),offsetY:Vt(this.offsetY,o.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(f){let{width:ze,height:Ke}=f;const{source:Ai,repeat:ln,id:dn}=this,gn=On(this.offsetX/ze,0),Hn=On(this.offsetY/Ke,0),Kn=ln==="repeat-y"||ln==="no-repeat"?1+Math.abs(gn||0):On(Ai.width/ze,0),Qn=ln==="repeat-x"||ln==="no-repeat"?1+Math.abs(Hn||0):On(Ai.height/Ke,0);return['<pattern id="SVGID_'.concat(dn,'" x="').concat(gn,'" y="').concat(Hn,'" width="').concat(Kn,'" height="').concat(Qn,'">'),'<image x="0" y="0" width="'.concat(Ai.width,'" height="').concat(Ai.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(f,ze){let{type:Ke,source:Ai,patternTransform:ln}=f,dn=i(f,Xn);const gn=await It(Ai,s(s({},ze),{},{crossOrigin:dn.crossOrigin}));return new this(s(s({},dn),{},{patternTransform:ln&&ln.slice(0),source:gn}))}}t(Yn,"type","Pattern"),tt.setClass(Yn),tt.setClass(Yn,"pattern");const Vn=["path","left","top"],zn=["d"];class Gn extends _i{constructor(f){let ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:Ke,left:Ai,top:ln}=ze,dn=i(ze,Vn);super(),Object.assign(this,Gn.ownDefaults),this.setOptions(dn),this._setPath(f||[],!0),typeof Ai=="number"&&this.set(M,Ai),typeof ln=="number"&&this.set(P,ln)}_setPath(f,ze){this.path=Vr(Array.isArray(f)?f:on(f)),this.setBoundingBox(ze)}_findCenterFromElement(){const f=this._calcBoundsFromPath();return new ot(f.left+f.width/2,f.top+f.height/2)}_renderPathCommands(f){const ze=-this.pathOffset.x,Ke=-this.pathOffset.y;f.beginPath();for(const Ai of this.path)switch(Ai[0]){case"L":f.lineTo(Ai[1]+ze,Ai[2]+Ke);break;case"M":f.moveTo(Ai[1]+ze,Ai[2]+Ke);break;case"C":f.bezierCurveTo(Ai[1]+ze,Ai[2]+Ke,Ai[3]+ze,Ai[4]+Ke,Ai[5]+ze,Ai[6]+Ke);break;case"Q":f.quadraticCurveTo(Ai[1]+ze,Ai[2]+Ke,Ai[3]+ze,Ai[4]+Ke);break;case"Z":f.closePath()}}_render(f){this._renderPathCommands(f),this._renderPaintInOrder(f)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return s(s({},super.toObject(f)),{},{path:this.path.map(ze=>ze.slice())})}toDatalessObject(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const ze=this.toObject(f);return this.sourcePath&&(delete ze.path,ze.sourcePath=this.sourcePath),ze}_toSVG(){const f=hn(this.path,o.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(f,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){const f=o.NUM_FRACTION_DIGITS;return" translate(".concat(Vt(-this.pathOffset.x,f),", ").concat(Vt(-this.pathOffset.y,f),")")}toClipPathSVG(f){const ze=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:f,additionalTransform:ze})}toSVG(f){const ze=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:f,additionalTransform:ze})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(f){const{width:ze,height:Ke,pathOffset:Ai}=this._calcDimensions();this.set({width:ze,height:Ke,pathOffset:Ai}),f&&this.setPositionByOrigin(Ai,D,D)}_calcBoundsFromPath(){const f=[];let ze=0,Ke=0,Ai=0,ln=0;for(const dn of this.path)switch(dn[0]){case"L":Ai=dn[1],ln=dn[2],f.push({x:ze,y:Ke},{x:Ai,y:ln});break;case"M":Ai=dn[1],ln=dn[2],ze=Ai,Ke=ln;break;case"C":f.push(...Yr(Ai,ln,dn[1],dn[2],dn[3],dn[4],dn[5],dn[6])),Ai=dn[5],ln=dn[6];break;case"Q":f.push(...Yr(Ai,ln,dn[1],dn[2],dn[1],dn[2],dn[3],dn[4])),Ai=dn[3],ln=dn[4];break;case"Z":Ai=ze,ln=Ke}return ae(f)}_calcDimensions(){const f=this._calcBoundsFromPath();return s(s({},f),{},{pathOffset:new ot(f.left+f.width/2,f.top+f.height/2)})}static fromObject(f){return this._fromObject(f,{extraParam:"path"})}static async fromElement(f,ze,Ke){const Ai=fr$1(f,this.ATTRIBUTE_NAMES,Ke),{d:ln}=Ai;return new this(ln,s(s(s({},i(Ai,zn)),ze),{},{left:void 0,top:void 0}))}}t(Gn,"type","Path"),t(Gn,"cacheProperties",[...ps,"path","fillRule"]),t(Gn,"ATTRIBUTE_NAMES",[...Ri,"d"]),tt.setClass(Gn),tt.setSVGClass(Gn);const Nn=["left","top","radius"],Un=["radius","startAngle","endAngle","counterClockwise"];class qn extends _i{static getDefaults(){return s(s({},super.getDefaults()),qn.ownDefaults)}constructor(f){super(),Object.assign(this,qn.ownDefaults),this.setOptions(f)}_set(f,ze){return super._set(f,ze),f==="radius"&&this.setRadius(ze),this}_render(f){f.beginPath(),f.arc(0,0,this.radius,xt(this.startAngle),xt(this.endAngle),this.counterClockwise),this._renderPaintInOrder(f)}getRadiusX(){return this.get("radius")*this.get(H)}getRadiusY(){return this.get("radius")*this.get(N)}setRadius(f){this.radius=f,this.set({width:2*f,height:2*f})}toObject(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...Un,...f])}_toSVG(){const f=(this.endAngle-this.startAngle)%360;if(f===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{const{radius:ze}=this,Ke=xt(this.startAngle),Ai=xt(this.endAngle),ln=rt(Ke)*ze,dn=nt(Ke)*ze,gn=rt(Ai)*ze,Hn=nt(Ai)*ze,Kn=f>180?1:0,Qn=this.counterClockwise?0:1;return['<path d="M '.concat(ln," ").concat(dn," A ").concat(ze," ").concat(ze," 0 ").concat(Kn," ").concat(Qn," ").concat(gn," ").concat(Hn,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(f,ze,Ke){const Ai=fr$1(f,this.ATTRIBUTE_NAMES,Ke),{left:ln=0,top:dn=0,radius:gn=0}=Ai;return new this(s(s({},i(Ai,Nn)),{},{radius:gn,left:ln-gn,top:dn-gn}))}static fromObject(f){return super._fromObject(f)}}t(qn,"type","Circle"),t(qn,"cacheProperties",[...ps,...Un]),t(qn,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),t(qn,"ATTRIBUTE_NAMES",["cx","cy","r",...Ri]),tt.setClass(qn),tt.setSVGClass(qn);const Zn=["x1","y1","x2","y2"],$n=["x1","y1","x2","y2"],to=["x1","x2","y1","y2"];class eo extends _i{constructor(){let[f,ze,Ke,Ai]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],ln=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,eo.ownDefaults),this.setOptions(ln),this.x1=f,this.x2=Ke,this.y1=ze,this.y2=Ai,this._setWidthHeight();const{left:dn,top:gn}=ln;typeof dn=="number"&&this.set(M,dn),typeof gn=="number"&&this.set(P,gn)}_setWidthHeight(){const{x1:f,y1:ze,x2:Ke,y2:Ai}=this;this.width=Math.abs(Ke-f),this.height=Math.abs(Ai-ze);const{left:ln,top:dn,width:gn,height:Hn}=ae([{x:f,y:ze},{x:Ke,y:Ai}]),Kn=new ot(ln+gn/2,dn+Hn/2);this.setPositionByOrigin(Kn,D,D)}_set(f,ze){return super._set(f,ze),to.includes(f)&&this._setWidthHeight(),this}_render(f){f.beginPath();const ze=this.calcLinePoints();f.moveTo(ze.x1,ze.y1),f.lineTo(ze.x2,ze.y2),f.lineWidth=this.strokeWidth;const Ke=f.strokeStyle;var Ai;Gt(this.stroke)?f.strokeStyle=this.stroke.toLive(f):f.strokeStyle=(Ai=this.stroke)!==null&&Ai!==void 0?Ai:f.fillStyle,this.stroke&&this._renderStroke(f),f.strokeStyle=Ke}_findCenterFromElement(){return new ot((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return s(s({},super.toObject(f)),this.calcLinePoints())}_getNonTransformedDimensions(){const f=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(f.y-=this.strokeWidth),this.height===0&&(f.x-=this.strokeWidth)),f}calcLinePoints(){const{x1:f,x2:ze,y1:Ke,y2:Ai,width:ln,height:dn}=this,gn=f<=ze?-1:1,Hn=Ke<=Ai?-1:1;return{x1:gn*ln/2,x2:gn*-ln/2,y1:Hn*dn/2,y2:Hn*-dn/2}}_toSVG(){const{x1:f,x2:ze,y1:Ke,y2:Ai}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(f,'" y1="').concat(Ke,'" x2="').concat(ze,'" y2="').concat(Ai,`" />
`)]}static async fromElement(f,ze,Ke){const Ai=fr$1(f,this.ATTRIBUTE_NAMES,Ke),{x1:ln=0,y1:dn=0,x2:gn=0,y2:Hn=0}=Ai;return new this([ln,dn,gn,Hn],i(Ai,Zn))}static fromObject(f){let{x1:ze,y1:Ke,x2:Ai,y2:ln}=f,dn=i(f,$n);return this._fromObject(s(s({},dn),{},{points:[ze,Ke,Ai,ln]}),{extraParam:"points"})}}t(eo,"type","Line"),t(eo,"cacheProperties",[...ps,...to]),t(eo,"ATTRIBUTE_NAMES",Ri.concat(to)),tt.setClass(eo),tt.setSVGClass(eo);class so extends _i{static getDefaults(){return s(s({},super.getDefaults()),so.ownDefaults)}constructor(f){super(),Object.assign(this,so.ownDefaults),this.setOptions(f)}_render(f){const ze=this.width/2,Ke=this.height/2;f.beginPath(),f.moveTo(-ze,Ke),f.lineTo(0,-Ke),f.lineTo(ze,Ke),f.closePath(),this._renderPaintInOrder(f)}_toSVG(){const f=this.width/2,ze=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-f," ").concat(ze,",0 ").concat(-ze,",").concat(f," ").concat(ze),'" />']}}t(so,"type","Triangle"),t(so,"ownDefaults",{width:100,height:100}),tt.setClass(so),tt.setSVGClass(so);const io=["rx","ry"];class ro extends _i{static getDefaults(){return s(s({},super.getDefaults()),ro.ownDefaults)}constructor(f){super(),Object.assign(this,ro.ownDefaults),this.setOptions(f)}_set(f,ze){switch(super._set(f,ze),f){case"rx":this.rx=ze,this.set("width",2*ze);break;case"ry":this.ry=ze,this.set("height",2*ze)}return this}getRx(){return this.get("rx")*this.get(H)}getRy(){return this.get("ry")*this.get(N)}toObject(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...io,...f])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(f){f.beginPath(),f.save(),f.transform(1,0,0,this.ry/this.rx,0,0),f.arc(0,0,this.rx,0,w$1,!1),f.restore(),this._renderPaintInOrder(f)}static async fromElement(f,ze,Ke){const Ai=fr$1(f,this.ATTRIBUTE_NAMES,Ke);return Ai.left=(Ai.left||0)-Ai.rx,Ai.top=(Ai.top||0)-Ai.ry,new this(Ai)}}function no(qe){if(!qe)return[];const f=qe.replace(/,/g," ").trim().split(/\s+/),ze=[];for(let Ke=0;Ke<f.length;Ke+=2)ze.push({x:parseFloat(f[Ke]),y:parseFloat(f[Ke+1])});return ze}t(ro,"type","Ellipse"),t(ro,"cacheProperties",[...ps,...io]),t(ro,"ownDefaults",{rx:0,ry:0}),t(ro,"ATTRIBUTE_NAMES",[...Ri,"cx","cy","rx","ry"]),tt.setClass(ro),tt.setSVGClass(ro);const oo=["left","top"],ao={exactBoundingBox:!1};class ho extends _i{static getDefaults(){return s(s({},super.getDefaults()),ho.ownDefaults)}constructor(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),t(this,"strokeDiff",void 0),Object.assign(this,ho.ownDefaults),this.setOptions(ze),this.points=f;const{left:Ke,top:Ai}=ze;this.initialized=!0,this.setBoundingBox(!0),typeof Ke=="number"&&this.set(M,Ke),typeof Ai=="number"&&this.set(P,Ai)}isOpen(){return!0}_projectStrokeOnPoints(f){return Ti(this.points,f,this.isOpen())}_calcDimensions(f){f=s({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},f||{});const ze=this.exactBoundingBox?this._projectStrokeOnPoints(f).map(Kn=>Kn.projectedPoint):this.points;if(ze.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new ot,strokeOffset:new ot,strokeDiff:new ot};const Ke=ae(ze),Ai=Lt(s(s({},f),{},{scaleX:1,scaleY:1})),ln=ae(this.points.map(Kn=>wt(Kn,Ai,!0))),dn=new ot(this.scaleX,this.scaleY);let gn=Ke.left+Ke.width/2,Hn=Ke.top+Ke.height/2;return this.exactBoundingBox&&(gn-=Hn*Math.tan(xt(this.skewX)),Hn-=gn*Math.tan(xt(this.skewY))),s(s({},Ke),{},{pathOffset:new ot(gn,Hn),strokeOffset:new ot(ln.left,ln.top).subtract(new ot(Ke.left,Ke.top)).multiply(dn),strokeDiff:new ot(Ke.width,Ke.height).subtract(new ot(ln.width,ln.height)).multiply(dn)})}_findCenterFromElement(){const f=ae(this.points);return new ot(f.left+f.width/2,f.top+f.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(f){const{left:ze,top:Ke,width:Ai,height:ln,pathOffset:dn,strokeOffset:gn,strokeDiff:Hn}=this._calcDimensions();this.set({width:Ai,height:ln,pathOffset:dn,strokeOffset:gn,strokeDiff:Hn}),f&&this.setPositionByOrigin(new ot(ze+Ai/2,Ke+ln/2),D,D)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new ot(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let dn;if(Object.keys(f).some(gn=>this.strokeUniform||this.constructor.layoutProperties.includes(gn))){var ze,Ke;const{width:gn,height:Hn}=this._calcDimensions(f);dn=new ot((ze=f.width)!==null&&ze!==void 0?ze:gn,(Ke=f.height)!==null&&Ke!==void 0?Ke:Hn)}else{var Ai,ln;dn=new ot((Ai=f.width)!==null&&Ai!==void 0?Ai:this.width,(ln=f.height)!==null&&ln!==void 0?ln:this.height)}return dn.multiply(new ot(f.scaleX||this.scaleX,f.scaleY||this.scaleY))}return super._getTransformedDimensions(f)}_set(f,ze){const Ke=this.initialized&&this[f]!==ze,Ai=super._set(f,ze);return this.exactBoundingBox&&Ke&&((f===H||f===N)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(f))&&this.setDimensions(),Ai}toObject(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return s(s({},super.toObject(f)),{},{points:this.points.map(ze=>{let{x:Ke,y:Ai}=ze;return{x:Ke,y:Ai}})})}_toSVG(){const f=[],ze=this.pathOffset.x,Ke=this.pathOffset.y,Ai=o.NUM_FRACTION_DIGITS;for(let ln=0,dn=this.points.length;ln<dn;ln++)f.push(Vt(this.points[ln].x-ze,Ai),",",Vt(this.points[ln].y-Ke,Ai)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(f.join(""),`" />
`)]}_render(f){const ze=this.points.length,Ke=this.pathOffset.x,Ai=this.pathOffset.y;if(ze&&!isNaN(this.points[ze-1].y)){f.beginPath(),f.moveTo(this.points[0].x-Ke,this.points[0].y-Ai);for(let ln=0;ln<ze;ln++){const dn=this.points[ln];f.lineTo(dn.x-Ke,dn.y-Ai)}!this.isOpen()&&f.closePath(),this._renderPaintInOrder(f)}}complexity(){return this.points.length}static async fromElement(f,ze,Ke){return new this(no(f.getAttribute("points")),s(s({},i(fr$1(f,this.ATTRIBUTE_NAMES,Ke),oo)),ze))}static fromObject(f){return this._fromObject(f,{extraParam:"points"})}}t(ho,"ownDefaults",ao),t(ho,"type","Polyline"),t(ho,"layoutProperties",[U,q,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),t(ho,"cacheProperties",[...ps,"points"]),t(ho,"ATTRIBUTE_NAMES",[...Ri]),tt.setClass(ho),tt.setSVGClass(ho);class co extends ho{isOpen(){return!1}}t(co,"ownDefaults",ao),t(co,"type","Polygon"),tt.setClass(co),tt.setSVGClass(co);const lo=["fontSize","fontWeight","fontFamily","fontStyle"],uo=["underline","overline","linethrough"],go=[...lo,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],fo=[...go,...uo,"textBackgroundColor","direction"],po=[...lo,...uo,J,"strokeWidth",K,"deltaY","textBackgroundColor"],mo={_reNewline:F,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:M,fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:M,pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2},vo="justify",yo="justify-left",_o="justify-right",xo="justify-center";class Co extends _i{isEmptyStyles(f){if(!this.styles||f!==void 0&&!this.styles[f])return!0;const ze=f===void 0?this.styles:{line:this.styles[f]};for(const Ke in ze)for(const Ai in ze[Ke])for(const ln in ze[Ke][Ai])return!1;return!0}styleHas(f,ze){if(!this.styles||ze!==void 0&&!this.styles[ze])return!1;const Ke=ze===void 0?this.styles:{0:this.styles[ze]};for(const Ai in Ke)for(const ln in Ke[Ai])if(Ke[Ai][ln][f]!==void 0)return!0;return!1}cleanStyle(f){if(!this.styles)return!1;const ze=this.styles;let Ke,Ai,ln=0,dn=!0,gn=0;for(const Hn in ze){Ke=0;for(const Kn in ze[Hn]){const Qn=ze[Hn][Kn]||{};ln++,Qn[f]!==void 0?(Ai?Qn[f]!==Ai&&(dn=!1):Ai=Qn[f],Qn[f]===this[f]&&delete Qn[f]):dn=!1,Object.keys(Qn).length!==0?Ke++:delete ze[Hn][Kn]}Ke===0&&delete ze[Hn]}for(let Hn=0;Hn<this._textLines.length;Hn++)gn+=this._textLines[Hn].length;dn&&ln===gn&&(this[f]=Ai,this.removeStyle(f))}removeStyle(f){if(!this.styles)return;const ze=this.styles;let Ke,Ai,ln;for(Ai in ze){for(ln in Ke=ze[Ai],Ke)delete Ke[ln][f],Object.keys(Ke[ln]).length===0&&delete Ke[ln];Object.keys(Ke).length===0&&delete ze[Ai]}}_extendStyles(f,ze){const{lineIndex:Ke,charIndex:Ai}=this.get2DCursorLocation(f);this._getLineStyle(Ke)||this._setLineStyle(Ke);const ln=Wt(s(s({},this._getStyleDeclaration(Ke,Ai)),ze),dn=>dn!==void 0);this._setStyleDeclaration(Ke,Ai,ln)}getSelectionStyles(f,ze,Ke){const Ai=[];for(let ln=f;ln<(ze||f);ln++)Ai.push(this.getStyleAtPosition(ln,Ke));return Ai}getStyleAtPosition(f,ze){const{lineIndex:Ke,charIndex:Ai}=this.get2DCursorLocation(f);return ze?this.getCompleteStyleDeclaration(Ke,Ai):this._getStyleDeclaration(Ke,Ai)}setSelectionStyles(f,ze,Ke){for(let Ai=ze;Ai<(Ke||ze);Ai++)this._extendStyles(Ai,f);this._forceClearCache=!0}_getStyleDeclaration(f,ze){var Ke;const Ai=this.styles&&this.styles[f];return Ai&&(Ke=Ai[ze])!==null&&Ke!==void 0?Ke:{}}getCompleteStyleDeclaration(f,ze){return s(s({},Yt(this,this.constructor._styleProperties)),this._getStyleDeclaration(f,ze))}_setStyleDeclaration(f,ze,Ke){this.styles[f][ze]=Ke}_deleteStyleDeclaration(f,ze){delete this.styles[f][ze]}_getLineStyle(f){return!!this.styles[f]}_setLineStyle(f){this.styles[f]={}}_deleteLineStyle(f){delete this.styles[f]}}t(Co,"_styleProperties",po);const bo=/  +/g,wo=/"/g;function So(qe,f,ze,Ke,Ai){return"		".concat(function(ln,dn){let{left:gn,top:Hn,width:Kn,height:Qn}=dn,ys=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.NUM_FRACTION_DIGITS;const vs=Be(K,ln,!1),[Cs,bs,ia,la]=[gn,Hn,Kn,Qn].map(ra=>Vt(ra,ys));return"<rect ".concat(vs,' x="').concat(Cs,'" y="').concat(bs,'" width="').concat(ia,'" height="').concat(la,'"></rect>')}(qe,{left:f,top:ze,width:Ke,height:Ai}),`
`)}const To=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"];let Oo;class ko extends Co{static getDefaults(){return s(s({},super.getDefaults()),ko.ownDefaults)}constructor(f,ze){super(),t(this,"__charBounds",[]),Object.assign(this,ko.ownDefaults),this.setOptions(ze),this.styles||(this.styles={}),this.text=f,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const f=this.path;f&&(f.segmentsInfo=$r(f.path))}_splitText(){const f=this._splitTextIntoLines(this.text);return this.textLines=f.lines,this._textLines=f.graphemeLines,this._unwrappedTextLines=f._unwrappedLines,this._text=f.graphemeText,f}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(vo)&&this.enlargeSpaces()}enlargeSpaces(){let f,ze,Ke,Ai,ln,dn,gn;for(let Hn=0,Kn=this._textLines.length;Hn<Kn;Hn++)if((this.textAlign===vo||Hn!==Kn-1&&!this.isEndOfWrapping(Hn))&&(Ai=0,ln=this._textLines[Hn],ze=this.getLineWidth(Hn),ze<this.width&&(gn=this.textLines[Hn].match(this._reSpacesAndTabs)))){Ke=gn.length,f=(this.width-ze)/Ke;for(let Qn=0;Qn<=ln.length;Qn++)dn=this.__charBounds[Hn][Qn],this._reSpaceAndTab.test(ln[Qn])?(dn.width+=f,dn.kernedWidth+=f,dn.left+=Ai,Ai+=f):dn.left+=Ai}}isEndOfWrapping(f){return f===this._textLines.length-1}missingNewlineOffset(f){return 1}get2DCursorLocation(f,ze){const Ke=ze?this._unwrappedTextLines:this._textLines;let Ai;for(Ai=0;Ai<Ke.length;Ai++){if(f<=Ke[Ai].length)return{lineIndex:Ai,charIndex:f};f-=Ke[Ai].length+this.missingNewlineOffset(Ai,ze)}return{lineIndex:Ai-1,charIndex:Ke[Ai-1].length<f?Ke[Ai-1].length:f}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const f=super._getCacheCanvasDimensions(),ze=this.fontSize;return f.width+=ze*f.zoomX,f.height+=ze*f.zoomY,f}_render(f){const ze=this.path;ze&&!ze.isNotVisible()&&ze._render(f),this._setTextStyles(f),this._renderTextLinesBackground(f),this._renderTextDecoration(f,"underline"),this._renderText(f),this._renderTextDecoration(f,"overline"),this._renderTextDecoration(f,"linethrough")}_renderText(f){this.paintFirst===J?(this._renderTextStroke(f),this._renderTextFill(f)):(this._renderTextFill(f),this._renderTextStroke(f))}_setTextStyles(f,ze,Ke){if(f.textBaseline="alphabetic",this.path)switch(this.pathAlign){case D:f.textBaseline="middle";break;case"ascender":f.textBaseline=P;break;case"descender":f.textBaseline=E}f.font=this._getFontDeclaration(ze,Ke)}calcTextWidth(){let f=this.getLineWidth(0);for(let ze=1,Ke=this._textLines.length;ze<Ke;ze++){const Ai=this.getLineWidth(ze);Ai>f&&(f=Ai)}return f}_renderTextLine(f,ze,Ke,Ai,ln,dn){this._renderChars(f,ze,Ke,Ai,ln,dn)}_renderTextLinesBackground(f){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const ze=f.fillStyle,Ke=this._getLeftOffset();let Ai=this._getTopOffset();for(let ln=0,dn=this._textLines.length;ln<dn;ln++){const gn=this.getHeightOfLine(ln);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",ln)){Ai+=gn;continue}const Hn=this._textLines[ln].length,Kn=this._getLineLeftOffset(ln);let Qn,ys,vs=0,Cs=0,bs=this.getValueOfPropertyAt(ln,0,"textBackgroundColor");for(let ia=0;ia<Hn;ia++){const la=this.__charBounds[ln][ia];ys=this.getValueOfPropertyAt(ln,ia,"textBackgroundColor"),this.path?(f.save(),f.translate(la.renderLeft,la.renderTop),f.rotate(la.angle),f.fillStyle=ys,ys&&f.fillRect(-la.width/2,-gn/this.lineHeight*(1-this._fontSizeFraction),la.width,gn/this.lineHeight),f.restore()):ys!==bs?(Qn=Ke+Kn+Cs,this.direction==="rtl"&&(Qn=this.width-Qn-vs),f.fillStyle=bs,bs&&f.fillRect(Qn,Ai,vs,gn/this.lineHeight),Cs=la.left,vs=la.width,bs=ys):vs+=la.kernedWidth}ys&&!this.path&&(Qn=Ke+Kn+Cs,this.direction==="rtl"&&(Qn=this.width-Qn-vs),f.fillStyle=ys,f.fillRect(Qn,Ai,vs,gn/this.lineHeight)),Ai+=gn}f.fillStyle=ze,this._removeShadow(f)}_measureChar(f,ze,Ke,Ai){const ln=_.getFontCache(ze),dn=this._getFontDeclaration(ze),gn=Ke+f,Hn=Ke&&dn===this._getFontDeclaration(Ai),Kn=ze.fontSize/this.CACHE_FONT_SIZE;let Qn,ys,vs,Cs;if(Ke&&ln[Ke]!==void 0&&(vs=ln[Ke]),ln[f]!==void 0&&(Cs=Qn=ln[f]),Hn&&ln[gn]!==void 0&&(ys=ln[gn],Cs=ys-vs),Qn===void 0||vs===void 0||ys===void 0){const bs=function(){return Oo||(Oo=vt({width:0,height:0}).getContext("2d")),Oo}();this._setTextStyles(bs,ze,!0),Qn===void 0&&(Cs=Qn=bs.measureText(f).width,ln[f]=Qn),vs===void 0&&Hn&&Ke&&(vs=bs.measureText(Ke).width,ln[Ke]=vs),Hn&&ys===void 0&&(ys=bs.measureText(gn).width,ln[gn]=ys,Cs=ys-vs)}return{width:Qn*Kn,kernedWidth:Cs*Kn}}getHeightOfChar(f,ze){return this.getValueOfPropertyAt(f,ze,"fontSize")}measureLine(f){const ze=this._measureLine(f);return this.charSpacing!==0&&(ze.width-=this._getWidthOfCharSpacing()),ze.width<0&&(ze.width=0),ze}_measureLine(f){let ze,Ke,Ai=0;const ln=this.pathSide===A,dn=this.path,gn=this._textLines[f],Hn=gn.length,Kn=new Array(Hn);this.__charBounds[f]=Kn;for(let Qn=0;Qn<Hn;Qn++){const ys=gn[Qn];Ke=this._getGraphemeBox(ys,f,Qn,ze),Kn[Qn]=Ke,Ai+=Ke.kernedWidth,ze=ys}if(Kn[Hn]={left:Ke?Ke.left+Ke.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},dn&&dn.segmentsInfo){let Qn=0;const ys=dn.segmentsInfo[dn.segmentsInfo.length-1].length;switch(this.textAlign){case M:Qn=ln?ys-Ai:0;break;case D:Qn=(ys-Ai)/2;break;case A:Qn=ln?0:ys-Ai}Qn+=this.pathStartOffset*(ln?-1:1);for(let vs=ln?Hn-1:0;ln?vs>=0:vs<Hn;ln?vs--:vs++)Ke=Kn[vs],Qn>ys?Qn%=ys:Qn<0&&(Qn+=ys),this._setGraphemeOnPath(Qn,Ke),Qn+=Ke.kernedWidth}return{width:Ai,numOfSpaces:0}}_setGraphemeOnPath(f,ze){const Ke=f+ze.kernedWidth/2,Ai=this.path,ln=tn(Ai.path,Ke,Ai.segmentsInfo);ze.renderLeft=ln.x-Ai.pathOffset.x,ze.renderTop=ln.y-Ai.pathOffset.y,ze.angle=ln.angle+(this.pathSide===A?Math.PI:0)}_getGraphemeBox(f,ze,Ke,Ai,ln){const dn=this.getCompleteStyleDeclaration(ze,Ke),gn=Ai?this.getCompleteStyleDeclaration(ze,Ke-1):{},Hn=this._measureChar(f,dn,Ai,gn);let Kn,Qn=Hn.kernedWidth,ys=Hn.width;this.charSpacing!==0&&(Kn=this._getWidthOfCharSpacing(),ys+=Kn,Qn+=Kn);const vs={width:ys,left:0,height:dn.fontSize,kernedWidth:Qn,deltaY:dn.deltaY};if(Ke>0&&!ln){const Cs=this.__charBounds[ze][Ke-1];vs.left=Cs.left+Cs.width+Hn.kernedWidth-Hn.width}return vs}getHeightOfLine(f){if(this.__lineHeights[f])return this.__lineHeights[f];let ze=this.getHeightOfChar(f,0);for(let Ke=1,Ai=this._textLines[f].length;Ke<Ai;Ke++)ze=Math.max(this.getHeightOfChar(f,Ke),ze);return this.__lineHeights[f]=ze*this.lineHeight*this._fontSizeMult}calcTextHeight(){let f,ze=0;for(let Ke=0,Ai=this._textLines.length;Ke<Ai;Ke++)f=this.getHeightOfLine(Ke),ze+=Ke===Ai-1?f/this.lineHeight:f;return ze}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(f,ze){f.save();let Ke=0;const Ai=this._getLeftOffset(),ln=this._getTopOffset();for(let dn=0,gn=this._textLines.length;dn<gn;dn++){const Hn=this.getHeightOfLine(dn),Kn=Hn/this.lineHeight,Qn=this._getLineLeftOffset(dn);this._renderTextLine(ze,f,this._textLines[dn],Ai+Qn,ln+Ke+Kn,dn),Ke+=Hn}f.restore()}_renderTextFill(f){(this.fill||this.styleHas(K))&&this._renderTextCommon(f,"fillText")}_renderTextStroke(f){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(f),f.save(),this._setLineDash(f,this.strokeDashArray),f.beginPath(),this._renderTextCommon(f,"strokeText"),f.closePath(),f.restore())}_renderChars(f,ze,Ke,Ai,ln,dn){const gn=this.getHeightOfLine(dn),Hn=this.textAlign.includes(vo),Kn=this.path,Qn=!Hn&&this.charSpacing===0&&this.isEmptyStyles(dn)&&!Kn,ys=this.direction==="ltr",vs=this.direction==="ltr"?1:-1,Cs=ze.direction;let bs,ia,la,ra,sa,na="",aa=0;if(ze.save(),Cs!==this.direction&&(ze.canvas.setAttribute("dir",ys?"ltr":"rtl"),ze.direction=ys?"ltr":"rtl",ze.textAlign=ys?M:A),ln-=gn*this._fontSizeFraction/this.lineHeight,Qn)return this._renderChar(f,ze,dn,0,Ke.join(""),Ai,ln),void ze.restore();for(let oa=0,ha=Ke.length-1;oa<=ha;oa++)ra=oa===ha||this.charSpacing||Kn,na+=Ke[oa],la=this.__charBounds[dn][oa],aa===0?(Ai+=vs*(la.kernedWidth-la.width),aa+=la.width):aa+=la.kernedWidth,Hn&&!ra&&this._reSpaceAndTab.test(Ke[oa])&&(ra=!0),ra||(bs=bs||this.getCompleteStyleDeclaration(dn,oa),ia=this.getCompleteStyleDeclaration(dn,oa+1),ra=ji(bs,ia,!1)),ra&&(Kn?(ze.save(),ze.translate(la.renderLeft,la.renderTop),ze.rotate(la.angle),this._renderChar(f,ze,dn,oa,na,-aa/2,0),ze.restore()):(sa=Ai,this._renderChar(f,ze,dn,oa,na,sa,ln)),na="",bs=ia,Ai+=vs*aa,aa=0);ze.restore()}_applyPatternGradientTransformText(f){const ze=this.width+this.strokeWidth,Ke=this.height+this.strokeWidth,Ai=vt({width:ze,height:Ke}),ln=Ai.getContext("2d");return Ai.width=ze,Ai.height=Ke,ln.beginPath(),ln.moveTo(0,0),ln.lineTo(ze,0),ln.lineTo(ze,Ke),ln.lineTo(0,Ke),ln.closePath(),ln.translate(ze/2,Ke/2),ln.fillStyle=f.toLive(ln),this._applyPatternGradientTransform(ln,f),ln.fill(),ln.createPattern(Ai,"no-repeat")}handleFiller(f,ze,Ke){let Ai,ln;return Gt(Ke)?Ke.gradientUnits==="percentage"||Ke.gradientTransform||Ke.patternTransform?(Ai=-this.width/2,ln=-this.height/2,f.translate(Ai,ln),f[ze]=this._applyPatternGradientTransformText(Ke),{offsetX:Ai,offsetY:ln}):(f[ze]=Ke.toLive(f),this._applyPatternGradientTransform(f,Ke)):(f[ze]=Ke,{offsetX:0,offsetY:0})}_setStrokeStyles(f,ze){let{stroke:Ke,strokeWidth:Ai}=ze;return f.lineWidth=Ai,f.lineCap=this.strokeLineCap,f.lineDashOffset=this.strokeDashOffset,f.lineJoin=this.strokeLineJoin,f.miterLimit=this.strokeMiterLimit,this.handleFiller(f,"strokeStyle",Ke)}_setFillStyles(f,ze){let{fill:Ke}=ze;return this.handleFiller(f,"fillStyle",Ke)}_renderChar(f,ze,Ke,Ai,ln,dn,gn){const Hn=this._getStyleDeclaration(Ke,Ai),Kn=this.getCompleteStyleDeclaration(Ke,Ai),Qn=f==="fillText"&&Kn.fill,ys=f==="strokeText"&&Kn.stroke&&Kn.strokeWidth;if(ys||Qn){if(ze.save(),ze.font=this._getFontDeclaration(Kn),Hn.textBackgroundColor&&this._removeShadow(ze),Hn.deltaY&&(gn+=Hn.deltaY),Qn){const vs=this._setFillStyles(ze,Kn);ze.fillText(ln,dn-vs.offsetX,gn-vs.offsetY)}if(ys){const vs=this._setStrokeStyles(ze,Kn);ze.strokeText(ln,dn-vs.offsetX,gn-vs.offsetY)}ze.restore()}}setSuperscript(f,ze){this._setScript(f,ze,this.superscript)}setSubscript(f,ze){this._setScript(f,ze,this.subscript)}_setScript(f,ze,Ke){const Ai=this.get2DCursorLocation(f,!0),ln=this.getValueOfPropertyAt(Ai.lineIndex,Ai.charIndex,"fontSize"),dn=this.getValueOfPropertyAt(Ai.lineIndex,Ai.charIndex,"deltaY"),gn={fontSize:ln*Ke.size,deltaY:dn+ln*Ke.baseline};this.setSelectionStyles(gn,f,ze)}_getLineLeftOffset(f){const ze=this.getLineWidth(f),Ke=this.width-ze,Ai=this.textAlign,ln=this.direction,dn=this.isEndOfWrapping(f);let gn=0;return Ai===vo||Ai===xo&&!dn||Ai===_o&&!dn||Ai===yo&&!dn?0:(Ai===D&&(gn=Ke/2),Ai===A&&(gn=Ke),Ai===xo&&(gn=Ke/2),Ai===_o&&(gn=Ke),ln==="rtl"&&(Ai===A||Ai===vo||Ai===_o?gn=0:Ai===M||Ai===yo?gn=-Ke:Ai!==D&&Ai!==xo||(gn=-Ke/2)),gn)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(f){if(this.__lineWidths[f]!==void 0)return this.__lineWidths[f];const{width:ze}=this.measureLine(f);return this.__lineWidths[f]=ze,ze}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(f,ze,Ke){var Ai;return(Ai=this._getStyleDeclaration(f,ze)[Ke])!==null&&Ai!==void 0?Ai:this[Ke]}_renderTextDecoration(f,ze){if(!this[ze]&&!this.styleHas(ze))return;let Ke=this._getTopOffset();const Ai=this._getLeftOffset(),ln=this.path,dn=this._getWidthOfCharSpacing(),gn=this.offsets[ze];for(let Hn=0,Kn=this._textLines.length;Hn<Kn;Hn++){const Qn=this.getHeightOfLine(Hn);if(!this[ze]&&!this.styleHas(ze,Hn)){Ke+=Qn;continue}const ys=this._textLines[Hn],vs=Qn/this.lineHeight,Cs=this._getLineLeftOffset(Hn);let bs,ia,la=0,ra=0,sa=this.getValueOfPropertyAt(Hn,0,ze),na=this.getValueOfPropertyAt(Hn,0,K);const aa=Ke+vs*(1-this._fontSizeFraction);let oa=this.getHeightOfChar(Hn,0),ha=this.getValueOfPropertyAt(Hn,0,"deltaY");for(let va=0,Sa=ys.length;va<Sa;va++){const tl=this.__charBounds[Hn][va];bs=this.getValueOfPropertyAt(Hn,va,ze),ia=this.getValueOfPropertyAt(Hn,va,K);const Zo=this.getHeightOfChar(Hn,va),Ta=this.getValueOfPropertyAt(Hn,va,"deltaY");if(ln&&bs&&ia)f.save(),f.fillStyle=na,f.translate(tl.renderLeft,tl.renderTop),f.rotate(tl.angle),f.fillRect(-tl.kernedWidth/2,gn*Zo+Ta,tl.kernedWidth,this.fontSize/15),f.restore();else if((bs!==sa||ia!==na||Zo!==oa||Ta!==ha)&&ra>0){let Qa=Ai+Cs+la;this.direction==="rtl"&&(Qa=this.width-Qa-ra),sa&&na&&(f.fillStyle=na,f.fillRect(Qa,aa+gn*oa+ha,ra,this.fontSize/15)),la=tl.left,ra=tl.width,sa=bs,na=ia,oa=Zo,ha=Ta}else ra+=tl.kernedWidth}let ga=Ai+Cs+la;this.direction==="rtl"&&(ga=this.width-ga-ra),f.fillStyle=ia,bs&&ia&&f.fillRect(ga,aa+gn*oa+ha,ra-dn,this.fontSize/15),Ke+=Qn}this._removeShadow(f)}_getFontDeclaration(){let{fontFamily:f=this.fontFamily,fontStyle:ze=this.fontStyle,fontWeight:Ke=this.fontWeight,fontSize:Ai=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ln=arguments.length>1?arguments[1]:void 0;const dn=f.includes("'")||f.includes('"')||f.includes(",")||ko.genericFonts.includes(f.toLowerCase())?f:'"'.concat(f,'"');return[ze,Ke,"".concat(ln?this.CACHE_FONT_SIZE:Ai,"px"),dn].join(" ")}render(f){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(f)))}graphemeSplit(f){return Mi(f)}_splitTextIntoLines(f){const ze=f.split(this._reNewline),Ke=new Array(ze.length),Ai=[`
`];let ln=[];for(let dn=0;dn<ze.length;dn++)Ke[dn]=this.graphemeSplit(ze[dn]),ln=ln.concat(Ke[dn],Ai);return ln.pop(),{_unwrappedLines:Ke,lines:ze,graphemeText:ln,graphemeLines:Ke}}toObject(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return s(s({},super.toObject([...fo,...f])),{},{styles:Fi(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(f,ze){const{textLayoutProperties:Ke}=this.constructor;super.set(f,ze);let Ai=!1,ln=!1;if(typeof f=="object")for(const dn in f)dn==="path"&&this.setPathInfo(),Ai=Ai||Ke.includes(dn),ln=ln||dn==="path";else Ai=Ke.includes(f),ln=f==="path";return ln&&this.setPathInfo(),Ai&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(f,ze,Ke){const Ai=fr$1(f,ko.ATTRIBUTE_NAMES,Ke),ln=s(s({},ze),Ai),{textAnchor:dn=M,textDecoration:gn="",dx:Hn=0,dy:Kn=0,top:Qn=0,left:ys=0,fontSize:vs=O,strokeWidth:Cs=1}=ln,bs=i(ln,To),ia=new this((f.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),s({left:ys+Hn,top:Qn+Kn,underline:gn.includes("underline"),overline:gn.includes("overline"),linethrough:gn.includes("line-through"),strokeWidth:0,fontSize:vs},bs)),la=ia.getScaledHeight()/ia.height,ra=((ia.height+ia.strokeWidth)*ia.lineHeight-ia.height)*la,sa=ia.getScaledHeight()+ra;let na=0;return dn===D&&(na=ia.getScaledWidth()/2),dn===A&&(na=ia.getScaledWidth()),ia.set({left:ia.left-na,top:ia.top-(sa-ia.fontSize*(.07+ia._fontSizeFraction))/ia.lineHeight,strokeWidth:Cs}),ia}static fromObject(f){return this._fromObject(s(s({},f),{},{styles:Li(f.styles||{},f.text)}),{extraParam:"text"})}}t(ko,"textLayoutProperties",go),t(ko,"cacheProperties",[...ps,...fo]),t(ko,"ownDefaults",mo),t(ko,"type","Text"),t(ko,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),t(ko,"ATTRIBUTE_NAMES",Ri.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),yi(ko,[class extends Xe{_toSVG(){const qe=this._getSVGLeftTopOffsets(),f=this._getSVGTextAndBg(qe.textTop,qe.textLeft);return this._wrapSVGTextAndBg(f)}toSVG(qe){const f=this._createBaseSVGMarkup(this._toSVG(),{reviver:qe,noStyle:!0,withShadow:!0}),ze=this.path;return ze?f+ze._createBaseSVGMarkup(ze._toSVG(),{reviver:qe,withShadow:!0,additionalTransform:zt(this.calcOwnMatrix())}):f}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(qe){let{textBgRects:f,textSpans:ze}=qe;const Ke=this.getSvgTextDecoration(this);return[f.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'.concat(this.fontFamily.replace(wo,"'"),'" '):"",this.fontSize?'font-size="'.concat(this.fontSize,'" '):"",this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",Ke?'text-decoration="'.concat(Ke,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",ze.join(""),`</text>
`]}_getSVGTextAndBg(qe,f){const ze=[],Ke=[];let Ai,ln=qe;this.backgroundColor&&Ke.push(...So(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let dn=0,gn=this._textLines.length;dn<gn;dn++)Ai=this._getLineLeftOffset(dn),this.direction==="rtl"&&(Ai+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",dn))&&this._setSVGTextLineBg(Ke,dn,f+Ai,ln),this._setSVGTextLineText(ze,dn,f+Ai,ln),ln+=this.getHeightOfLine(dn);return{textSpans:ze,textBgRects:Ke}}_createTextCharSpan(qe,f,ze,Ke,Ai){const ln=o.NUM_FRACTION_DIGITS,dn=this.getSvgSpanStyles(f,qe!==qe.trim()||!!qe.match(bo)),gn=dn?'style="'.concat(dn,'"'):"",Hn=f.deltaY,Kn=Hn?' dy="'.concat(Vt(Hn,ln),'" '):"",{angle:Qn,renderLeft:ys,renderTop:vs,width:Cs}=Ai;let bs="";if(ys!==void 0){const ia=Cs/2;Qn&&(bs=' rotate="'.concat(Vt(Ct(Qn),ln),'"'));const la=Pt({angle:Ct(Qn)});la[4]=ys,la[5]=vs;const ra=new ot(-ia,0).transform(la);ze=ra.x,Ke=ra.y}return'<tspan x="'.concat(Vt(ze,ln),'" y="').concat(Vt(Ke,ln),'" ').concat(Kn).concat(bs).concat(gn,">").concat(ki(qe),"</tspan>")}_setSVGTextLineText(qe,f,ze,Ke){const Ai=this.getHeightOfLine(f),ln=this.textAlign.includes(vo),dn=this._textLines[f];let gn,Hn,Kn,Qn,ys,vs="",Cs=0;Ke+=Ai*(1-this._fontSizeFraction)/this.lineHeight;for(let bs=0,ia=dn.length-1;bs<=ia;bs++)ys=bs===ia||this.charSpacing||this.path,vs+=dn[bs],Kn=this.__charBounds[f][bs],Cs===0?(ze+=Kn.kernedWidth-Kn.width,Cs+=Kn.width):Cs+=Kn.kernedWidth,ln&&!ys&&this._reSpaceAndTab.test(dn[bs])&&(ys=!0),ys||(gn=gn||this.getCompleteStyleDeclaration(f,bs),Hn=this.getCompleteStyleDeclaration(f,bs+1),ys=ji(gn,Hn,!0)),ys&&(Qn=this._getStyleDeclaration(f,bs),qe.push(this._createTextCharSpan(vs,Qn,ze,Ke,Kn)),vs="",gn=Hn,this.direction==="rtl"?ze-=Cs:ze+=Cs,Cs=0)}_setSVGTextLineBg(qe,f,ze,Ke){const Ai=this._textLines[f],ln=this.getHeightOfLine(f)/this.lineHeight;let dn,gn=0,Hn=0,Kn=this.getValueOfPropertyAt(f,0,"textBackgroundColor");for(let Qn=0;Qn<Ai.length;Qn++){const{left:ys,width:vs,kernedWidth:Cs}=this.__charBounds[f][Qn];dn=this.getValueOfPropertyAt(f,Qn,"textBackgroundColor"),dn!==Kn?(Kn&&qe.push(...So(Kn,ze+Hn,Ke,gn,ln)),Hn=ys,gn=vs,Kn=dn):gn+=Cs}dn&&qe.push(...So(Kn,ze+Hn,Ke,gn,ln))}_getSVGLineTopOffset(qe){let f,ze=0;for(f=0;f<qe;f++)ze+=this.getHeightOfLine(f);const Ke=this.getHeightOfLine(f);return{lineTop:ze,offset:(this._fontSizeMult-this._fontSizeFraction)*Ke/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(qe){return"".concat(super.getSvgStyles(qe)," white-space: pre;")}getSvgSpanStyles(qe,f){const{fontFamily:ze,strokeWidth:Ke,stroke:Ai,fill:ln,fontSize:dn,fontStyle:gn,fontWeight:Hn,deltaY:Kn}=qe,Qn=this.getSvgTextDecoration(qe);return[Ai?Be(J,Ai):"",Ke?"stroke-width: ".concat(Ke,"; "):"",ze?"font-family: ".concat(ze.includes("'")||ze.includes('"')?ze:"'".concat(ze,"'"),"; "):"",dn?"font-size: ".concat(dn,"px; "):"",gn?"font-style: ".concat(gn,"; "):"",Hn?"font-weight: ".concat(Hn,"; "):"",Qn&&"text-decoration: ".concat(Qn,"; "),ln?Be(K,ln):"",Kn?"baseline-shift: ".concat(-Kn,"; "):"",f?"white-space: pre; ":""].join("")}getSvgTextDecoration(qe){return["overline","underline","line-through"].filter(f=>qe[f.replace("-","")]).join(" ")}}]),tt.setClass(ko),tt.setSVGClass(ko);class Do{constructor(f){t(this,"target",void 0),t(this,"__mouseDownInPlace",!1),t(this,"__dragStartFired",!1),t(this,"__isDraggingOver",!1),t(this,"__dragStartSelection",void 0),t(this,"__dragImageDisposer",void 0),t(this,"_dispose",void 0),this.target=f;const ze=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{ze.forEach(Ke=>Ke()),this._dispose=void 0}}isPointerOverSelection(f){const ze=this.target,Ke=ze.getSelectionStartFromPointer(f);return ze.isEditing&&Ke>=ze.selectionStart&&Ke<=ze.selectionEnd&&ze.selectionStart<ze.selectionEnd}start(f){return this.__mouseDownInPlace=this.isPointerOverSelection(f)}isActive(){return this.__mouseDownInPlace}end(f){const ze=this.isActive();return ze&&!this.__dragStartFired&&(this.target.setCursorByClick(f),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,ze}getDragStartSelection(){return this.__dragStartSelection}setDragImage(f,ze){var Ke;let{selectionStart:Ai,selectionEnd:ln}=ze;const dn=this.target,gn=dn.canvas,Hn=new ot(dn.flipX?-1:1,dn.flipY?-1:1),Kn=dn._getCursorBoundaries(Ai),Qn=new ot(Kn.left+Kn.leftOffset,Kn.top+Kn.topOffset).multiply(Hn).transform(dn.calcTransformMatrix()),ys=gn.getScenePoint(f).subtract(Qn),vs=dn.getCanvasRetinaScaling(),Cs=dn.getBoundingRect(),bs=Qn.subtract(new ot(Cs.left,Cs.top)),ia=gn.viewportTransform,la=bs.add(ys).transform(ia,!0),ra=dn.backgroundColor,sa=Oi(dn.styles);dn.backgroundColor="";const na={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};dn.setSelectionStyles(na,0,Ai),dn.setSelectionStyles(na,ln,dn.text.length),dn.dirty=!0;const aa=dn.toCanvasElement({enableRetinaScaling:gn.enableRetinaScaling,viewportTransform:!0});dn.backgroundColor=ra,dn.styles=sa,dn.dirty=!0,cn(aa,{position:"fixed",left:"".concat(-aa.width,"px"),border:j,width:"".concat(aa.width/vs,"px"),height:"".concat(aa.height/vs,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{aa.remove()},Kt(f.target||this.target.hiddenTextarea).body.appendChild(aa),(Ke=f.dataTransfer)===null||Ke===void 0||Ke.setDragImage(aa,la.x,la.y)}onDragStart(f){this.__dragStartFired=!0;const ze=this.target,Ke=this.isActive();if(Ke&&f.dataTransfer){const Ai=this.__dragStartSelection={selectionStart:ze.selectionStart,selectionEnd:ze.selectionEnd},ln=ze._text.slice(Ai.selectionStart,Ai.selectionEnd).join(""),dn=s({text:ze.text,value:ln},Ai);f.dataTransfer.setData("text/plain",ln),f.dataTransfer.setData("application/fabric",JSON.stringify({value:ln,styles:ze.getSelectionStyles(Ai.selectionStart,Ai.selectionEnd,!0)})),f.dataTransfer.effectAllowed="copyMove",this.setDragImage(f,dn)}return ze.abortCursorAnimation(),Ke}canDrop(f){if(this.target.editable&&!this.target.getActiveControl()&&!f.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const ze=this.target.getSelectionStartFromPointer(f),Ke=this.__dragStartSelection;return ze<Ke.selectionStart||ze>Ke.selectionEnd}return!0}return!1}targetCanDrop(f){return this.target.canDrop(f)}dragEnterHandler(f){let{e:ze}=f;const Ke=this.targetCanDrop(ze);!this.__isDraggingOver&&Ke&&(this.__isDraggingOver=!0)}dragOverHandler(f){const{e:ze}=f,Ke=this.targetCanDrop(ze);!this.__isDraggingOver&&Ke?this.__isDraggingOver=!0:this.__isDraggingOver&&!Ke&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(ze.preventDefault(),f.canDrop=!0,f.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(f){var ze;const{e:Ke}=f,Ai=Ke.defaultPrevented;this.__isDraggingOver=!1,Ke.preventDefault();let ln=(ze=Ke.dataTransfer)===null||ze===void 0?void 0:ze.getData("text/plain");if(ln&&!Ai){const dn=this.target,gn=dn.canvas;let Hn=dn.getSelectionStartFromPointer(Ke);const{styles:Kn}=Ke.dataTransfer.types.includes("application/fabric")?JSON.parse(Ke.dataTransfer.getData("application/fabric")):{},Qn=ln[Math.max(0,ln.length-1)],ys=0;if(this.__dragStartSelection){const vs=this.__dragStartSelection.selectionStart,Cs=this.__dragStartSelection.selectionEnd;Hn>vs&&Hn<=Cs?Hn=vs:Hn>Cs&&(Hn-=Cs-vs),dn.removeChars(vs,Cs),delete this.__dragStartSelection}dn._reNewline.test(Qn)&&(dn._reNewline.test(dn._text[Hn])||Hn===dn._text.length)&&(ln=ln.trimEnd()),f.didDrop=!0,f.dropTarget=dn,dn.insertChars(ln,Kn,Hn),gn.setActiveObject(dn),dn.enterEditing(Ke),dn.selectionStart=Math.min(Hn+ys,dn._text.length),dn.selectionEnd=Math.min(dn.selectionStart+ln.length,dn._text.length),dn.hiddenTextarea.value=dn.text,dn._updateTextarea(),dn.hiddenTextarea.focus(),dn.fire(z,{index:Hn+ys,action:"drop"}),gn.fire("text:changed",{target:dn}),gn.contextTopDirty=!0,gn.requestRenderAll()}}dragEndHandler(f){let{e:ze}=f;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var Ke;const Ai=this.target,ln=this.target.canvas,{selectionStart:dn,selectionEnd:gn}=this.__dragStartSelection,Hn=((Ke=ze.dataTransfer)===null||Ke===void 0?void 0:Ke.dropEffect)||j;Hn===j?(Ai.selectionStart=dn,Ai.selectionEnd=gn,Ai._updateTextarea(),Ai.hiddenTextarea.focus()):(Ai.clearContextTop(),Hn==="move"&&(Ai.removeChars(dn,gn),Ai.selectionStart=Ai.selectionEnd=dn,Ai.hiddenTextarea&&(Ai.hiddenTextarea.value=Ai.text),Ai._updateTextarea(),Ai.fire(z,{index:dn,action:"dragend"}),ln.fire("text:changed",{target:Ai}),ln.requestRenderAll()),Ai.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const Mo=/[ \n\.,;!\?\-]/;class Po extends ko{constructor(){super(...arguments),t(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(f){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(f)}_animateCursor(f){let{toValue:ze,duration:Ke,delay:Ai,onComplete:ln}=f;return js({startValue:this._currentCursorOpacity,endValue:ze,duration:Ke,delay:Ai,onComplete:ln,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:dn=>{this._currentCursorOpacity=dn,this.renderCursorOrSelection()}})}_tick(f){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(f||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var f;(f=this._currentTickCompleteState)===null||f===void 0||f.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(f){this.abortCursorAnimation(),this._tick(f?0:this.cursorDelay)}abortCursorAnimation(){let f=!1;[this._currentTickState,this._currentTickCompleteState].forEach(ze=>{ze&&!ze.isDone()&&(f=!0,ze.abort())}),this._currentCursorOpacity=1,f&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(f=>!f||f.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}cmdAll(){this.selectAll(),this.renderCursorOrSelection()}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(f){let ze=0,Ke=f-1;if(this._reSpace.test(this._text[Ke]))for(;this._reSpace.test(this._text[Ke]);)ze++,Ke--;for(;/\S/.test(this._text[Ke])&&Ke>-1;)ze++,Ke--;return f-ze}findWordBoundaryRight(f){let ze=0,Ke=f;if(this._reSpace.test(this._text[Ke]))for(;this._reSpace.test(this._text[Ke]);)ze++,Ke++;for(;/\S/.test(this._text[Ke])&&Ke<this._text.length;)ze++,Ke++;return f+ze}findLineBoundaryLeft(f){let ze=0,Ke=f-1;for(;!/\n/.test(this._text[Ke])&&Ke>-1;)ze++,Ke--;return f-ze}findLineBoundaryRight(f){let ze=0,Ke=f;for(;!/\n/.test(this._text[Ke])&&Ke<this._text.length;)ze++,Ke++;return f+ze}searchWordBoundary(f,ze){const Ke=this._text;let Ai=f>0&&this._reSpace.test(Ke[f])&&(ze===-1||!F.test(Ke[f-1]))?f-1:f,ln=Ke[Ai];for(;Ai>0&&Ai<Ke.length&&!Mo.test(ln);)Ai+=ze,ln=Ke[Ai];return ze===-1&&Mo.test(ln)&&Ai++,Ai}selectWord(f){var ze;f=(ze=f)!==null&&ze!==void 0?ze:this.selectionStart;const Ke=this.searchWordBoundary(f,-1),Ai=Math.max(Ke,this.searchWordBoundary(f,1));this.selectionStart=Ke,this.selectionEnd=Ai,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(f){var ze;f=(ze=f)!==null&&ze!==void 0?ze:this.selectionStart;const Ke=this.findLineBoundaryLeft(f),Ai=this.findLineBoundaryRight(f);this.selectionStart=Ke,this.selectionEnd=Ai,this._fireSelectionChanged(),this._updateTextarea()}enterEditing(f){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",f?{e:f}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e:f}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(f){if(this.getActiveControl())return;const ze=this.hiddenTextarea;Kt(ze).activeElement!==ze&&ze.focus();const Ke=this.getSelectionStartFromPointer(f),Ai=this.selectionStart,ln=this.selectionEnd;(Ke===this.__selectionStartOnMouseDown&&Ai!==ln||Ai!==Ke&&ln!==Ke)&&(Ke>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=Ke):(this.selectionStart=Ke,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===Ai&&this.selectionEnd===ln||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(f,ze,Ke){const Ai=Ke.slice(0,f),ln=this.graphemeSplit(Ai).length;if(f===ze)return{selectionStart:ln,selectionEnd:ln};const dn=Ke.slice(f,ze);return{selectionStart:ln,selectionEnd:ln+this.graphemeSplit(dn).length}}fromGraphemeToStringSelection(f,ze,Ke){const Ai=Ke.slice(0,f).join("").length;return f===ze?{selectionStart:Ai,selectionEnd:Ai}:{selectionStart:Ai,selectionEnd:Ai+Ke.slice(f,ze).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const f=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=f.selectionStart,this.hiddenTextarea.selectionEnd=f.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const f=this.hiddenTextarea;this.text=f.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();const ze=this.fromStringToGraphemeSelection(f.selectionStart,f.selectionEnd,f.value);this.selectionEnd=this.selectionStart=ze.selectionEnd,this.inCompositionMode||(this.selectionStart=ze.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const f=this._calcTextareaPosition();this.hiddenTextarea.style.left=f.left,this.hiddenTextarea.style.top=f.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const f=this.inCompositionMode?this.compositionStart:this.selectionStart,ze=this._getCursorBoundaries(f),Ke=this.get2DCursorLocation(f),Ai=Ke.lineIndex,ln=Ke.charIndex,dn=this.getValueOfPropertyAt(Ai,ln,"fontSize")*this.lineHeight,gn=ze.leftOffset,Hn=this.getCanvasRetinaScaling(),Kn=this.canvas.upperCanvasEl,Qn=Kn.width/Hn,ys=Kn.height/Hn,vs=Qn-dn,Cs=ys-dn,bs=new ot(ze.left+gn,ze.top+ze.topOffset+dn).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new ot(Kn.clientWidth/Qn,Kn.clientHeight/ys));return bs.x<0&&(bs.x=0),bs.x>vs&&(bs.x=vs),bs.y<0&&(bs.y=0),bs.y>Cs&&(bs.y=Cs),bs.x+=this.canvas._offset.left,bs.y+=this.canvas._offset.top,{left:"".concat(bs.x,"px"),top:"".concat(bs.y,"px"),fontSize:"".concat(dn,"px"),charHeight:dn}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const f=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,f&&(f.blur&&f.blur(),f.parentNode&&f.parentNode.removeChild(f)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){const f=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),f&&this.fire(Q),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),f&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const f in this.styles)this._textLines[f]||delete this.styles[f]}removeStyleFromTo(f,ze){const{lineIndex:Ke,charIndex:Ai}=this.get2DCursorLocation(f,!0),{lineIndex:ln,charIndex:dn}=this.get2DCursorLocation(ze,!0);if(Ke!==ln){if(this.styles[Ke])for(let gn=Ai;gn<this._unwrappedTextLines[Ke].length;gn++)delete this.styles[Ke][gn];if(this.styles[ln])for(let gn=dn;gn<this._unwrappedTextLines[ln].length;gn++){const Hn=this.styles[ln][gn];Hn&&(this.styles[Ke]||(this.styles[Ke]={}),this.styles[Ke][Ai+gn-dn]=Hn)}for(let gn=Ke+1;gn<=ln;gn++)delete this.styles[gn];this.shiftLineStyles(ln,Ke-ln)}else if(this.styles[Ke]){const gn=this.styles[Ke],Hn=dn-Ai;for(let Kn=Ai;Kn<dn;Kn++)delete gn[Kn];for(const Kn in this.styles[Ke]){const Qn=parseInt(Kn,10);Qn>=dn&&(gn[Qn-Hn]=gn[Kn],delete gn[Kn])}}}shiftLineStyles(f,ze){const Ke=Object.assign({},this.styles);for(const Ai in this.styles){const ln=parseInt(Ai,10);ln>f&&(this.styles[ln+ze]=Ke[ln],Ke[ln-ze]||delete this.styles[ln])}}insertNewlineStyleObject(f,ze,Ke,Ai){const ln={},dn=this._unwrappedTextLines[f].length,gn=dn===ze;let Hn=!1;Ke||(Ke=1),this.shiftLineStyles(f,Ke);const Kn=this.styles[f]?this.styles[f][ze===0?ze:ze-1]:void 0;for(const ys in this.styles[f]){const vs=parseInt(ys,10);vs>=ze&&(Hn=!0,ln[vs-ze]=this.styles[f][ys],gn&&ze===0||delete this.styles[f][ys])}let Qn=!1;for(Hn&&!gn&&(this.styles[f+Ke]=ln,Qn=!0),(Qn||dn>ze)&&Ke--;Ke>0;)Ai&&Ai[Ke-1]?this.styles[f+Ke]={0:s({},Ai[Ke-1])}:Kn?this.styles[f+Ke]={0:s({},Kn)}:delete this.styles[f+Ke],Ke--;this._forceClearCache=!0}insertCharStyleObject(f,ze,Ke,Ai){this.styles||(this.styles={});const ln=this.styles[f],dn=ln?s({},ln):{};Ke||(Ke=1);for(const Hn in dn){const Kn=parseInt(Hn,10);Kn>=ze&&(ln[Kn+Ke]=dn[Kn],dn[Kn-Ke]||delete ln[Kn])}if(this._forceClearCache=!0,Ai){for(;Ke--;)Object.keys(Ai[Ke]).length&&(this.styles[f]||(this.styles[f]={}),this.styles[f][ze+Ke]=s({},Ai[Ke]));return}if(!ln)return;const gn=ln[ze?ze-1:1];for(;gn&&Ke--;)this.styles[f][ze+Ke]=s({},gn)}insertNewStyleBlock(f,ze,Ke){const Ai=this.get2DCursorLocation(ze,!0),ln=[0];let dn,gn=0;for(let Hn=0;Hn<f.length;Hn++)f[Hn]===`
`?(gn++,ln[gn]=0):ln[gn]++;for(ln[0]>0&&(this.insertCharStyleObject(Ai.lineIndex,Ai.charIndex,ln[0],Ke),Ke=Ke&&Ke.slice(ln[0]+1)),gn&&this.insertNewlineStyleObject(Ai.lineIndex,Ai.charIndex+ln[0],gn),dn=1;dn<gn;dn++)ln[dn]>0?this.insertCharStyleObject(Ai.lineIndex+dn,0,ln[dn],Ke):Ke&&this.styles[Ai.lineIndex+dn]&&Ke[0]&&(this.styles[Ai.lineIndex+dn][0]=Ke[0]),Ke=Ke&&Ke.slice(ln[dn]+1);ln[dn]>0&&this.insertCharStyleObject(Ai.lineIndex+dn,0,ln[dn],Ke)}removeChars(f){let ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f+1;this.removeStyleFromTo(f,ze),this._text.splice(f,ze-f),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(f,ze,Ke){let Ai=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ke;Ai>Ke&&this.removeStyleFromTo(Ke,Ai);const ln=this.graphemeSplit(f);this.insertNewStyleBlock(ln,Ke,ze),this._text=[...this._text.slice(0,Ke),...ln,...this._text.slice(Ai)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(f,ze,Ke){Ke<=f?(ze===f?this._selectionDirection=M:this._selectionDirection===A&&(this._selectionDirection=M,this.selectionEnd=f),this.selectionStart=Ke):Ke>f&&Ke<ze?this._selectionDirection===A?this.selectionEnd=Ke:this.selectionStart=Ke:(ze===f?this._selectionDirection=A:this._selectionDirection===M&&(this._selectionDirection=A,this.selectionStart=ze),this.selectionEnd=Ke)}}class Eo extends Po{initHiddenTextarea(){const f=this.canvas&&Kt(this.canvas.getElement())||m(),ze=f.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map(dn=>{let[gn,Hn]=dn;return ze.setAttribute(gn,Hn)});const{top:Ke,left:Ai,fontSize:ln}=this._calcTextareaPosition();ze.style.cssText="position: absolute; top: ".concat(Ke,"; left: ").concat(Ai,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(ln,";"),(this.hiddenTextareaContainer||f.body).appendChild(ze),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(dn=>{let[gn,Hn]=dn;return ze.addEventListener(gn,this[Hn].bind(this))}),this.hiddenTextarea=ze}blur(){this.abortCursorAnimation()}onKeyDown(f){if(!this.isEditing)return;const ze=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(f.keyCode in ze)this[ze[f.keyCode]](f);else{if(!(f.keyCode in this.ctrlKeysMapDown)||!f.ctrlKey&&!f.metaKey)return;this[this.ctrlKeysMapDown[f.keyCode]](f)}f.stopImmediatePropagation(),f.preventDefault(),f.keyCode>=33&&f.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(f){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:f.keyCode in this.ctrlKeysMapUp&&(f.ctrlKey||f.metaKey)&&(this[this.ctrlKeysMapUp[f.keyCode]](f),f.stopImmediatePropagation(),f.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(f){const ze=this.fromPaste,{value:Ke,selectionStart:Ai,selectionEnd:ln}=this.hiddenTextarea;if(this.fromPaste=!1,f&&f.stopPropagation(),!this.isEditing)return;const dn=()=>{this.updateFromTextArea(),this.fire(z),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void dn();const gn=this._splitTextIntoLines(Ke).graphemeText,Hn=this._text.length,Kn=gn.length,Qn=this.selectionStart,ys=this.selectionEnd,vs=Qn!==ys;let Cs,bs,ia,la,ra=Kn-Hn;const sa=this.fromStringToGraphemeSelection(Ai,ln,Ke),na=Qn>sa.selectionStart;vs?(bs=this._text.slice(Qn,ys),ra+=ys-Qn):Kn<Hn&&(bs=na?this._text.slice(ys+ra,ys):this._text.slice(Qn,Qn-ra));const aa=gn.slice(sa.selectionEnd-ra,sa.selectionEnd);if(bs&&bs.length&&(aa.length&&(Cs=this.getSelectionStyles(Qn,Qn+1,!1),Cs=aa.map(()=>Cs[0])),vs?(ia=Qn,la=ys):na?(ia=ys-bs.length,la=ys):(ia=ys,la=ys+bs.length),this.removeStyleFromTo(ia,la)),aa.length){const{copyPasteData:oa}=p();ze&&aa.join("")===oa.copiedText&&!o.disableStyleCopyPaste&&(Cs=oa.copiedTextStyle),this.insertNewStyleBlock(aa,Qn,Cs)}dn()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(f){let{target:ze}=f;const{selectionStart:Ke,selectionEnd:Ai}=ze;this.compositionStart=Ke,this.compositionEnd=Ai,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:f}=p();f.copiedText=this.getSelectedText(),o.disableStyleCopyPaste?f.copiedTextStyle=void 0:f.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(f,ze){let Ke,Ai=this._getLineLeftOffset(f);return ze>0&&(Ke=this.__charBounds[f][ze-1],Ai+=Ke.left+Ke.width),Ai}getDownCursorOffset(f,ze){const Ke=this._getSelectionForOffset(f,ze),Ai=this.get2DCursorLocation(Ke),ln=Ai.lineIndex;if(ln===this._textLines.length-1||f.metaKey||f.keyCode===34)return this._text.length-Ke;const dn=Ai.charIndex,gn=this._getWidthBeforeCursor(ln,dn),Hn=this._getIndexOnLine(ln+1,gn);return this._textLines[ln].slice(dn).length+Hn+1+this.missingNewlineOffset(ln)}_getSelectionForOffset(f,ze){return f.shiftKey&&this.selectionStart!==this.selectionEnd&&ze?this.selectionEnd:this.selectionStart}getUpCursorOffset(f,ze){const Ke=this._getSelectionForOffset(f,ze),Ai=this.get2DCursorLocation(Ke),ln=Ai.lineIndex;if(ln===0||f.metaKey||f.keyCode===33)return-Ke;const dn=Ai.charIndex,gn=this._getWidthBeforeCursor(ln,dn),Hn=this._getIndexOnLine(ln-1,gn),Kn=this._textLines[ln].slice(0,dn),Qn=this.missingNewlineOffset(ln-1);return-this._textLines[ln-1].length+Hn-Kn.length+(1-Qn)}_getIndexOnLine(f,ze){const Ke=this._textLines[f];let Ai,ln,dn=this._getLineLeftOffset(f),gn=0;for(let Hn=0,Kn=Ke.length;Hn<Kn;Hn++)if(Ai=this.__charBounds[f][Hn].width,dn+=Ai,dn>ze){ln=!0;const Qn=dn-Ai,ys=dn,vs=Math.abs(Qn-ze);gn=Math.abs(ys-ze)<vs?Hn:Hn-1;break}return ln||(gn=Ke.length-1),gn}moveCursorDown(f){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",f)}moveCursorUp(f){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",f)}_moveCursorUpOrDown(f,ze){const Ke=this["get".concat(f,"CursorOffset")](ze,this._selectionDirection===A);if(ze.shiftKey?this.moveCursorWithShift(Ke):this.moveCursorWithoutShift(Ke),Ke!==0){const Ai=this.text.length;this.selectionStart=gs(0,this.selectionStart,Ai),this.selectionEnd=gs(0,this.selectionEnd,Ai),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(f){const ze=this._selectionDirection===M?this.selectionStart+f:this.selectionEnd+f;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,ze),f!==0}moveCursorWithoutShift(f){return f<0?(this.selectionStart+=f,this.selectionEnd=this.selectionStart):(this.selectionEnd+=f,this.selectionStart=this.selectionEnd),f!==0}moveCursorLeft(f){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",f)}_move(f,ze,Ke){let Ai;if(f.altKey)Ai=this["findWordBoundary".concat(Ke)](this[ze]);else{if(!f.metaKey&&f.keyCode!==35&&f.keyCode!==36)return this[ze]+=Ke==="Left"?-1:1,!0;Ai=this["findLineBoundary".concat(Ke)](this[ze])}return Ai!==void 0&&this[ze]!==Ai&&(this[ze]=Ai,!0)}_moveLeft(f,ze){return this._move(f,ze,"Left")}_moveRight(f,ze){return this._move(f,ze,"Right")}moveCursorLeftWithoutShift(f){let ze=!0;return this._selectionDirection=M,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(ze=this._moveLeft(f,"selectionStart")),this.selectionEnd=this.selectionStart,ze}moveCursorLeftWithShift(f){return this._selectionDirection===A&&this.selectionStart!==this.selectionEnd?this._moveLeft(f,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=M,this._moveLeft(f,"selectionStart")):void 0}moveCursorRight(f){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",f)}_moveCursorLeftOrRight(f,ze){const Ke="moveCursor".concat(f).concat(ze.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[Ke](ze)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(f){return this._selectionDirection===M&&this.selectionStart!==this.selectionEnd?this._moveRight(f,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=A,this._moveRight(f,"selectionEnd")):void 0}moveCursorRightWithoutShift(f){let ze=!0;return this._selectionDirection=A,this.selectionStart===this.selectionEnd?(ze=this._moveRight(f,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,ze}}const Ao=qe=>!!qe.button;class jo extends Eo{constructor(){super(...arguments),t(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("mousetripleclick",this.tripleClickHandler),this.draggableTextDelegate=new Do(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(f){return this.draggableTextDelegate.onDragStart(f)}canDrop(f){return this.draggableTextDelegate.canDrop(f)}doubleClickHandler(f){this.isEditing&&(this.selectWord(this.getSelectionStartFromPointer(f.e)),this.renderCursorOrSelection())}tripleClickHandler(f){this.isEditing&&(this.selectLine(this.getSelectionStartFromPointer(f.e)),this.renderCursorOrSelection())}_mouseDownHandler(f){let{e:ze,alreadySelected:Ke}=f;this.canvas&&this.editable&&!Ao(ze)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(ze)||(this.canvas.textEditingManager.register(this),Ke&&(this.inCompositionMode=!1,this.setCursorByClick(ze)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()),this.selected||(this.selected=Ke||this.isEditing)))}mouseUpHandler(f){let{e:ze,transform:Ke}=f;const Ai=this.draggableTextDelegate.end(ze);if(this.canvas){this.canvas.textEditingManager.unregister(this);const ln=this.canvas._activeObject;if(ln&&ln!==this)return}!this.editable||this.group&&!this.group.interactive||Ke&&Ke.actionPerformed||Ao(ze)||Ai||this.selected&&!this.getActiveControl()&&(this.enterEditing(ze),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection())}setCursorByClick(f){const ze=this.getSelectionStartFromPointer(f),Ke=this.selectionStart,Ai=this.selectionEnd;f.shiftKey?this.setSelectionStartEndWithShift(Ke,Ai,ze):(this.selectionStart=ze,this.selectionEnd=ze),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(f){const ze=this.canvas.getScenePoint(f).transform(St(this.calcTransformMatrix())).add(new ot(-this._getLeftOffset(),-this._getTopOffset()));let Ke=0,Ai=0,ln=0;for(let Kn=0;Kn<this._textLines.length&&Ke<=ze.y;Kn++)Ke+=this.getHeightOfLine(Kn),ln=Kn,Kn>0&&(Ai+=this._textLines[Kn-1].length+this.missingNewlineOffset(Kn-1));let dn=Math.abs(this._getLineLeftOffset(ln));const gn=this._textLines[ln].length,Hn=this.__charBounds[ln];for(let Kn=0;Kn<gn;Kn++){const Qn=dn+Hn[Kn].kernedWidth;if(ze.x<=Qn){Math.abs(ze.x-Qn)<=Math.abs(ze.x-dn)&&Ai++;break}dn=Qn,Ai++}return Math.min(this.flipX?gn-Ai:Ai,this._text.length)}}const Fo="moveCursorUp",Lo="moveCursorDown",Ro="moveCursorLeft",Io="moveCursorRight",Bo="exitEditing",Xo=(qe,f)=>{const ze=f.getRetinaScaling();qe.setTransform(ze,0,0,ze,0,0);const Ke=f.viewportTransform;qe.transform(Ke[0],Ke[1],Ke[2],Ke[3],Ke[4],Ke[5])},Yo=s({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:Bo,27:Bo,33:Fo,34:Lo,35:Io,36:Ro,37:Ro,38:Fo,39:Io,40:Lo},keysMapRtl:{9:Bo,27:Bo,33:Fo,34:Lo,35:Ro,36:Io,37:Io,38:Fo,39:Ro,40:Lo},ctrlKeysMapDown:{65:"cmdAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class Wo extends jo{static getDefaults(){return s(s({},super.getDefaults()),Wo.ownDefaults)}get type(){const f=super.type;return f==="itext"?"i-text":f}constructor(f,ze){super(f,s(s({},Wo.ownDefaults),ze)),this.initBehavior()}_set(f,ze){return this.isEditing&&this._savedProps&&f in this._savedProps?(this._savedProps[f]=ze,this):(f==="canvas"&&(this.canvas instanceof wn&&this.canvas.textEditingManager.remove(this),ze instanceof wn&&ze.textEditingManager.add(this)),super._set(f,ze))}setSelectionStart(f){f=Math.max(f,0),this._updateAndFire("selectionStart",f)}setSelectionEnd(f){f=Math.min(f,this.text.length),this._updateAndFire("selectionEnd",f)}_updateAndFire(f,ze){this[f]!==ze&&(this._fireSelectionChanged(),this[f]=ze),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,Ke=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(f,ze,Ke)}setSelectionStyles(f){let ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,Ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(f,ze,Ke)}get2DCursorLocation(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,ze=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(f,ze)}render(f){super.render(f),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(f){const ze=this.isEditing;this.isEditing=!1;const Ke=super.toCanvasElement(f);return this.isEditing=ze,Ke}renderCursorOrSelection(){if(!this.isEditing||!this.canvas)return;const f=this.clearContextTop(!0);if(!f)return;const ze=this._getCursorBoundaries(),Ke=this.findAncestorsWithClipPath(),Ai=Ke.length>0;let ln,dn=f;if(Ai){ln=vt(f.canvas),dn=ln.getContext("2d"),Xo(dn,this.canvas);const gn=this.calcTransformMatrix();dn.transform(gn[0],gn[1],gn[2],gn[3],gn[4],gn[5])}if(this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(dn,ze):this.renderCursor(dn,ze),Ai)for(const gn of Ke){const Hn=gn.clipPath,Kn=vt(f.canvas),Qn=Kn.getContext("2d");if(Xo(Qn,this.canvas),!Hn.absolutePositioned){const ys=gn.calcTransformMatrix();Qn.transform(ys[0],ys[1],ys[2],ys[3],ys[4],ys[5])}Hn.transform(Qn),Hn.drawObject(Qn,!0,{}),this.drawClipPathOnCache(dn,Hn,Kn)}Ai&&(f.setTransform(1,0,0,1,0,0),f.drawImage(ln,0,0)),this.canvas.contextTopDirty=!0,f.restore()}findAncestorsWithClipPath(){const f=[];let ze=this;for(;ze;)ze.clipPath&&f.push(ze),ze=ze.parent;return f}_getCursorBoundaries(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,ze=arguments.length>1?arguments[1]:void 0;const Ke=this._getLeftOffset(),Ai=this._getTopOffset(),ln=this._getCursorBoundariesOffsets(f,ze);return{left:Ke,top:Ai,leftOffset:ln.left,topOffset:ln.top}}_getCursorBoundariesOffsets(f,ze){return ze?this.__getCursorBoundariesOffsets(f):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(f)}__getCursorBoundariesOffsets(f){let ze=0,Ke=0;const{charIndex:Ai,lineIndex:ln}=this.get2DCursorLocation(f);for(let Kn=0;Kn<ln;Kn++)ze+=this.getHeightOfLine(Kn);const dn=this._getLineLeftOffset(ln),gn=this.__charBounds[ln][Ai];gn&&(Ke=gn.left),this.charSpacing!==0&&Ai===this._textLines[ln].length&&(Ke-=this._getWidthOfCharSpacing());const Hn={top:ze,left:dn+(Ke>0?Ke:0)};return this.direction==="rtl"&&(this.textAlign===A||this.textAlign===vo||this.textAlign===_o?Hn.left*=-1:this.textAlign===M||this.textAlign===yo?Hn.left=dn-(Ke>0?Ke:0):this.textAlign!==D&&this.textAlign!==xo||(Hn.left=dn-(Ke>0?Ke:0))),Hn}renderCursorAt(f){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(f,!0),f)}renderCursor(f,ze){this._renderCursor(f,ze,this.selectionStart)}getCursorRenderingData(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(f);const Ke=this.get2DCursorLocation(f),Ai=Ke.lineIndex,ln=Ke.charIndex>0?Ke.charIndex-1:0,dn=this.getValueOfPropertyAt(Ai,ln,"fontSize"),gn=this.getObjectScaling().x*this.canvas.getZoom(),Hn=this.cursorWidth/gn,Kn=this.getValueOfPropertyAt(Ai,ln,"deltaY"),Qn=ze.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(Ai)/this.lineHeight-dn*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(Ai,ln,"fill"),opacity:this._currentCursorOpacity,left:ze.left+ze.leftOffset-Hn/2,top:Qn+ze.top+Kn,width:Hn,height:dn}}_renderCursor(f,ze,Ke){const{color:Ai,opacity:ln,left:dn,top:gn,width:Hn,height:Kn}=this.getCursorRenderingData(Ke,ze);f.fillStyle=Ai,f.globalAlpha=ln,f.fillRect(dn,gn,Hn,Kn)}renderSelection(f,ze){const Ke={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(f,Ke,ze)}renderDragSourceEffect(){const f=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,f,this._getCursorBoundaries(f.selectionStart,!0))}renderDropTargetEffect(f){const ze=this.getSelectionStartFromPointer(f);this.renderCursorAt(ze)}_renderSelection(f,ze,Ke){const Ai=ze.selectionStart,ln=ze.selectionEnd,dn=this.textAlign.includes(vo),gn=this.get2DCursorLocation(Ai),Hn=this.get2DCursorLocation(ln),Kn=gn.lineIndex,Qn=Hn.lineIndex,ys=gn.charIndex<0?0:gn.charIndex,vs=Hn.charIndex<0?0:Hn.charIndex;for(let Cs=Kn;Cs<=Qn;Cs++){const bs=this._getLineLeftOffset(Cs)||0;let ia=this.getHeightOfLine(Cs),la=0,ra=0,sa=0;if(Cs===Kn&&(ra=this.__charBounds[Kn][ys].left),Cs>=Kn&&Cs<Qn)sa=dn&&!this.isEndOfWrapping(Cs)?this.width:this.getLineWidth(Cs)||5;else if(Cs===Qn)if(vs===0)sa=this.__charBounds[Qn][vs].left;else{const ga=this._getWidthOfCharSpacing();sa=this.__charBounds[Qn][vs-1].left+this.__charBounds[Qn][vs-1].width-ga}la=ia,(this.lineHeight<1||Cs===Qn&&this.lineHeight>1)&&(ia/=this.lineHeight);let na=Ke.left+bs+ra,aa=ia,oa=0;const ha=sa-ra;this.inCompositionMode?(f.fillStyle=this.compositionColor||"black",aa=1,oa=ia):f.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===A||this.textAlign===vo||this.textAlign===_o?na=this.width-na-ha:this.textAlign===M||this.textAlign===yo?na=Ke.left+bs-sa:this.textAlign!==D&&this.textAlign!==xo||(na=Ke.left+bs-sa)),f.fillRect(na,Ke.top+Ke.topOffset+oa,ha,aa),Ke.topOffset+=la}}getCurrentCharFontSize(){const f=this._getCurrentCharIndex();return this.getValueOfPropertyAt(f.l,f.c,"fontSize")}getCurrentCharColor(){const f=this._getCurrentCharIndex();return this.getValueOfPropertyAt(f.l,f.c,K)}_getCurrentCharIndex(){const f=this.get2DCursorLocation(this.selectionStart,!0),ze=f.charIndex>0?f.charIndex-1:0;return{l:f.lineIndex,c:ze}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}t(Wo,"ownDefaults",Yo),t(Wo,"type","IText"),tt.setClass(Wo),tt.setClass(Wo,"i-text");class Vo extends Wo{static getDefaults(){return s(s({},super.getDefaults()),Vo.ownDefaults)}constructor(f,ze){super(f,s(s({},Vo.ownDefaults),ze))}static createControls(){return{controls:mi()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(vo)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(f){let ze=0,Ke=0,Ai=0;const ln={};for(let dn=0;dn<f.graphemeLines.length;dn++)f.graphemeText[Ai]===`
`&&dn>0?(Ke=0,Ai++,ze++):!this.splitByGrapheme&&this._reSpaceAndTab.test(f.graphemeText[Ai])&&dn>0&&(Ke++,Ai++),ln[dn]={line:ze,offset:Ke},Ai+=f.graphemeLines[dn].length,Ke+=f.graphemeLines[dn].length;return ln}styleHas(f,ze){if(this._styleMap&&!this.isWrapping){const Ke=this._styleMap[ze];Ke&&(ze=Ke.line)}return super.styleHas(f,ze)}isEmptyStyles(f){if(!this.styles)return!0;let ze,Ke=0,Ai=f+1,ln=!1;const dn=this._styleMap[f],gn=this._styleMap[f+1];dn&&(f=dn.line,Ke=dn.offset),gn&&(Ai=gn.line,ln=Ai===f,ze=gn.offset);const Hn=f===void 0?this.styles:{line:this.styles[f]};for(const Kn in Hn)for(const Qn in Hn[Kn]){const ys=parseInt(Qn,10);if(ys>=Ke&&(!ln||ys<ze))for(const vs in Hn[Kn][Qn])return!1}return!0}_getStyleDeclaration(f,ze){if(this._styleMap&&!this.isWrapping){const Ke=this._styleMap[f];if(!Ke)return{};f=Ke.line,ze=Ke.offset+ze}return super._getStyleDeclaration(f,ze)}_setStyleDeclaration(f,ze,Ke){const Ai=this._styleMap[f];super._setStyleDeclaration(Ai.line,Ai.offset+ze,Ke)}_deleteStyleDeclaration(f,ze){const Ke=this._styleMap[f];super._deleteStyleDeclaration(Ke.line,Ke.offset+ze)}_getLineStyle(f){const ze=this._styleMap[f];return!!this.styles[ze.line]}_setLineStyle(f){const ze=this._styleMap[f];super._setLineStyle(ze.line)}_wrapText(f,ze){this.isWrapping=!0;const Ke=this.getGraphemeDataForRender(f),Ai=[];for(let ln=0;ln<Ke.wordsData.length;ln++)Ai.push(...this._wrapLine(ln,ze,Ke));return this.isWrapping=!1,Ai}getGraphemeDataForRender(f){const ze=this.splitByGrapheme,Ke=ze?"":" ";let Ai=0;return{wordsData:f.map((ln,dn)=>{let gn=0;const Hn=ze?this.graphemeSplit(ln):this.wordSplit(ln);return Hn.length===0?[{word:[],width:0}]:Hn.map(Kn=>{const Qn=ze?[Kn]:this.graphemeSplit(Kn),ys=this._measureWord(Qn,dn,gn);return Ai=Math.max(ys,Ai),gn+=Qn.length+Ke.length,{word:Qn,width:ys}})}),largestWordWidth:Ai}}_measureWord(f,ze){let Ke,Ai=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,ln=0;for(let dn=0,gn=f.length;dn<gn;dn++)ln+=this._getGraphemeBox(f[dn],ze,dn+Ai,Ke,!0).kernedWidth,Ke=f[dn];return ln}wordSplit(f){return f.split(this._wordJoiners)}_wrapLine(f,ze,Ke){let{largestWordWidth:Ai,wordsData:ln}=Ke,dn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const gn=this._getWidthOfCharSpacing(),Hn=this.splitByGrapheme,Kn=[],Qn=Hn?"":" ";let ys=0,vs=[],Cs=0,bs=0,ia=!0;ze-=dn;const la=Math.max(ze,Ai,this.dynamicMinWidth),ra=ln[f];let sa;for(Cs=0,sa=0;sa<ra.length;sa++){const{word:na,width:aa}=ra[sa];Cs+=na.length,ys+=bs+aa-gn,ys>la&&!ia?(Kn.push(vs),vs=[],ys=aa,ia=!0):ys+=gn,ia||Hn||vs.push(Qn),vs=vs.concat(na),bs=Hn?0:this._measureWord([Qn],f,Cs),Cs++,ia=!1}return sa&&Kn.push(vs),Ai+dn>this.dynamicMinWidth&&(this.dynamicMinWidth=Ai-gn+dn),Kn}isEndOfWrapping(f){return!this._styleMap[f+1]||this._styleMap[f+1].line!==this._styleMap[f].line}missingNewlineOffset(f,ze){return this.splitByGrapheme&&!ze?this.isEndOfWrapping(f)?1:0:1}_splitTextIntoLines(f){const ze=super._splitTextIntoLines(f),Ke=this._wrapText(ze.lines,this.width),Ai=new Array(Ke.length);for(let ln=0;ln<Ke.length;ln++)Ai[ln]=Ke[ln].join("");return ze.lines=Ai,ze.graphemeLines=Ke,ze}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const f=new Map;for(const ze in this._styleMap){const Ke=parseInt(ze,10);if(this._textLines[Ke]){const Ai=this._styleMap[ze].line;f.set("".concat(Ai),!0)}}for(const ze in this.styles)f.has(ze)||delete this.styles[ze]}toObject(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...f])}}t(Vo,"type","Textbox"),t(Vo,"textLayoutProperties",[...Wo.textLayoutProperties,"width"]),t(Vo,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),tt.setClass(Vo);class zo extends wr{shouldPerformLayout(f){return!!f.target.clipPath&&super.shouldPerformLayout(f)}shouldLayoutClipPath(){return!1}calcLayoutResult(f,ze){const{target:Ke}=f,{clipPath:Ai,group:ln}=Ke;if(!Ai||!this.shouldPerformLayout(f))return;const{width:dn,height:gn}=ae(br(Ke,Ai)),Hn=new ot(dn,gn);if(Ai.absolutePositioned)return{center:pe(Ai.getRelativeCenterPoint(),void 0,ln?ln.calcTransformMatrix():void 0),size:Hn};{const Kn=Ai.getRelativeCenterPoint().transform(Ke.calcOwnMatrix(),!0);if(this.shouldPerformLayout(f)){const{center:Qn=new ot,correction:ys=new ot}=this.calcBoundingBox(ze,f)||{};return{center:Qn.add(Kn),correction:ys.subtract(Kn),size:Hn}}return{center:Ke.getRelativeCenterPoint().add(Kn),size:Hn}}}}t(zo,"type","clip-path"),tt.setClass(zo);class Go extends wr{getInitialSize(f,ze){let{target:Ke}=f,{size:Ai}=ze;return new ot(Ke.width||Ai.x,Ke.height||Ai.y)}}t(Go,"type","fixed"),tt.setClass(Go);class Ho extends Dr{subscribeTargets(f){const ze=f.target;f.targets.reduce((Ke,Ai)=>(Ai.parent&&Ke.add(Ai.parent),Ke),new Set).forEach(Ke=>{Ke.layoutManager.subscribeTargets({target:Ke,targets:[ze]})})}unsubscribeTargets(f){const ze=f.target,Ke=ze.getObjects();f.targets.reduce((Ai,ln)=>(ln.parent&&Ai.add(ln.parent),Ai),new Set).forEach(Ai=>{!Ke.some(ln=>ln.parent===Ai)&&Ai.layoutManager.unsubscribeTargets({target:Ai,targets:[ze]})})}}class No extends Er{static getDefaults(){return s(s({},super.getDefaults()),No.ownDefaults)}constructor(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,No.ownDefaults),this.setOptions(ze);const{left:Ke,top:Ai,layoutManager:ln}=ze;this.groupInit(f,{left:Ke,top:Ai,layoutManager:ln??new Ho})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var f=arguments.length,ze=new Array(f),Ke=0;Ke<f;Ke++)ze[Ke]=arguments[Ke];this.multiSelectionStacking==="selection-order"?this.add(...ze):ze.forEach(Ai=>{const ln=this._objects.findIndex(gn=>gn.isInFrontOf(Ai)),dn=ln===-1?this.size():ln;this.insertAt(dn,Ai)})}canEnterGroup(f){return this.getObjects().some(ze=>ze.isDescendantOf(f)||f.isDescendantOf(ze))?(a("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(f)}enterGroup(f,ze){f.parent&&f.parent===f.group?f.parent._exitGroup(f):f.group&&f.parent!==f.group&&f.group.remove(f),this._enterGroup(f,ze)}exitGroup(f,ze){this._exitGroup(f,ze),f.parent&&f.parent._enterGroup(f,!0)}_onAfterObjectsChange(f,ze){super._onAfterObjectsChange(f,ze);const Ke=new Set;ze.forEach(Ai=>{const{parent:ln}=Ai;ln&&Ke.add(ln)}),f===xr?Ke.forEach(Ai=>{Ai._onAfterObjectsChange(_r,ze)}):Ke.forEach(Ai=>{Ai._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(f,ze,Ke){f.save(),f.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const Ai=s(s({hasControls:!1},Ke),{},{forActiveSelection:!0});for(let ln=0;ln<this._objects.length;ln++)this._objects[ln]._renderControls(f,Ai);super._renderControls(f,ze),f.restore()}}t(No,"type","ActiveSelection"),t(No,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),tt.setClass(No),tt.setClass(No,"activeSelection");class Uo{constructor(){t(this,"resources",{})}applyFilters(f,ze,Ke,Ai,ln){const dn=ln.getContext("2d");if(!dn)return;dn.drawImage(ze,0,0,Ke,Ai);const gn={sourceWidth:Ke,sourceHeight:Ai,imageData:dn.getImageData(0,0,Ke,Ai),originalEl:ze,originalImageData:dn.getImageData(0,0,Ke,Ai),canvasEl:ln,ctx:dn,filterBackend:this};f.forEach(Kn=>{Kn.applyTo(gn)});const{imageData:Hn}=gn;return Hn.width===Ke&&Hn.height===Ai||(ln.width=Hn.width,ln.height=Hn.height),dn.putImageData(Hn,0,0),gn}}class qo{constructor(){let{tileSize:f=o.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),t(this,"resources",{}),this.tileSize=f,this.setupGLContext(f,f),this.captureGPUInfo()}setupGLContext(f,ze){this.dispose(),this.createWebGLCanvas(f,ze)}createWebGLCanvas(f,ze){const Ke=vt({width:f,height:ze}),Ai=Ke.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});Ai&&(Ai.clearColor(0,0,0,0),this.canvas=Ke,this.gl=Ai)}applyFilters(f,ze,Ke,Ai,ln,dn){const gn=this.gl,Hn=ln.getContext("2d");if(!gn||!Hn)return;let Kn;dn&&(Kn=this.getCachedTexture(dn,ze));const Qn={originalWidth:ze.width||ze.naturalWidth||0,originalHeight:ze.height||ze.naturalHeight||0,sourceWidth:Ke,sourceHeight:Ai,destinationWidth:Ke,destinationHeight:Ai,context:gn,sourceTexture:this.createTexture(gn,Ke,Ai,Kn?void 0:ze),targetTexture:this.createTexture(gn,Ke,Ai),originalTexture:Kn||this.createTexture(gn,Ke,Ai,Kn?void 0:ze),passes:f.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:ln},ys=gn.createFramebuffer();return gn.bindFramebuffer(gn.FRAMEBUFFER,ys),f.forEach(vs=>{vs&&vs.applyTo(Qn)}),function(vs){const Cs=vs.targetCanvas,bs=Cs.width,ia=Cs.height,la=vs.destinationWidth,ra=vs.destinationHeight;bs===la&&ia===ra||(Cs.width=la,Cs.height=ra)}(Qn),this.copyGLTo2D(gn,Qn),gn.bindTexture(gn.TEXTURE_2D,null),gn.deleteTexture(Qn.sourceTexture),gn.deleteTexture(Qn.targetTexture),gn.deleteFramebuffer(ys),Hn.setTransform(1,0,0,1,0,0),Qn}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(f,ze,Ke,Ai,ln){const{NEAREST:dn,TEXTURE_2D:gn,RGBA:Hn,UNSIGNED_BYTE:Kn,CLAMP_TO_EDGE:Qn,TEXTURE_MAG_FILTER:ys,TEXTURE_MIN_FILTER:vs,TEXTURE_WRAP_S:Cs,TEXTURE_WRAP_T:bs}=f,ia=f.createTexture();return f.bindTexture(gn,ia),f.texParameteri(gn,ys,ln||dn),f.texParameteri(gn,vs,ln||dn),f.texParameteri(gn,Cs,Qn),f.texParameteri(gn,bs,Qn),Ai?f.texImage2D(gn,0,Hn,Hn,Kn,Ai):f.texImage2D(gn,0,Hn,ze,Ke,0,Hn,Kn,null),ia}getCachedTexture(f,ze,Ke){const{textureCache:Ai}=this;if(Ai[f])return Ai[f];{const ln=this.createTexture(this.gl,ze.width,ze.height,ze,Ke);return ln&&(Ai[f]=ln),ln}}evictCachesForKey(f){this.textureCache[f]&&(this.gl.deleteTexture(this.textureCache[f]),delete this.textureCache[f])}copyGLTo2D(f,ze){const Ke=f.canvas,Ai=ze.targetCanvas,ln=Ai.getContext("2d");if(!ln)return;ln.translate(0,Ai.height),ln.scale(1,-1);const dn=Ke.height-Ai.height;ln.drawImage(Ke,0,dn,Ai.width,Ai.height,0,0,Ai.width,Ai.height)}copyGLTo2DPutImageData(f,ze){const Ke=ze.targetCanvas.getContext("2d"),Ai=ze.destinationWidth,ln=ze.destinationHeight,dn=Ai*ln*4;if(!Ke)return;const gn=new Uint8Array(this.imageBuffer,0,dn),Hn=new Uint8ClampedArray(this.imageBuffer,0,dn);f.readPixels(0,0,Ai,ln,f.RGBA,f.UNSIGNED_BYTE,gn);const Kn=new ImageData(Hn,Ai,ln);Ke.putImageData(Kn,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const f=this.gl,ze={renderer:"",vendor:""};if(!f)return ze;const Ke=f.getExtension("WEBGL_debug_renderer_info");if(Ke){const Ai=f.getParameter(Ke.UNMASKED_RENDERER_WEBGL),ln=f.getParameter(Ke.UNMASKED_VENDOR_WEBGL);Ai&&(ze.renderer=Ai.toLowerCase()),ln&&(ze.vendor=ln.toLowerCase())}return this.gpuInfo=ze,ze}}let Ko;function Jo(){const{WebGLProbe:qe}=p();return qe.queryWebGL(pt()),o.enableGLFiltering&&qe.isSupported(o.textureSize)?new qo({tileSize:o.textureSize}):new Uo}function Qo(){return!Ko&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(Ko=Jo()),Ko}const $o=["filters","resizeFilter","src","crossOrigin","type"],ta=["cropX","cropY"];class ea extends _i{static getDefaults(){return s(s({},super.getDefaults()),ea.ownDefaults)}constructor(f,ze){super(),t(this,"_lastScaleX",1),t(this,"_lastScaleY",1),t(this,"_filterScalingX",1),t(this,"_filterScalingY",1),this.filters=[],Object.assign(this,ea.ownDefaults),this.setOptions(ze),this.cacheKey="texture".concat(ft()),this.setElement(typeof f=="string"?(this.canvas&&Kt(this.canvas.getElement())||m()).getElementById(f):f,ze)}getElement(){return this._element}setElement(f){var ze;let Ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=f,this._originalElement=f,this._setWidthHeight(Ke),(ze=f.classList)===null||ze===void 0||ze.add(ea.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(f){const ze=Qo(!1);ze instanceof qo&&ze.evictCachesForKey(f)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(f=>{const ze=this[f];ze&&p().dispose(ze),this[f]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const f=this.getElement();return f?{width:f.naturalWidth||f.width,height:f.naturalHeight||f.height}:{width:0,height:0}}_stroke(f){if(!this.stroke||this.strokeWidth===0)return;const ze=this.width/2,Ke=this.height/2;f.beginPath(),f.moveTo(-ze,-Ke),f.lineTo(ze,-Ke),f.lineTo(ze,Ke),f.lineTo(-ze,Ke),f.lineTo(-ze,-Ke),f.closePath()}toObject(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const ze=[];return this.filters.forEach(Ke=>{Ke&&ze.push(Ke.toObject())}),s(s({},super.toObject([...ta,...f])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:ze},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const f=[],ze=this._element,Ke=-this.width/2,Ai=-this.height/2;let ln=[],dn=[],gn="",Hn="";if(!ze)return[];if(this.hasCrop()){const Kn=ft();ln.push('<clipPath id="imageCrop_'+Kn+`">
`,'	<rect x="'+Ke+'" y="'+Ai+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),gn=' clip-path="url(#imageCrop_'+Kn+')" '}if(this.imageSmoothing||(Hn=' image-rendering="optimizeSpeed"'),f.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(Ke-this.cropX,'" y="').concat(Ai-this.cropY,'" width="').concat(ze.width||ze.naturalWidth,'" height="').concat(ze.height||ze.naturalHeight,'"').concat(Hn).concat(gn,`></image>
`)),this.stroke||this.strokeDashArray){const Kn=this.fill;this.fill=null,dn=['	<rect x="'.concat(Ke,'" y="').concat(Ai,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=Kn}return ln=this.paintFirst!==K?ln.concat(dn,f):ln.concat(f,dn),ln}getSrc(f){const ze=f?this._element:this._originalElement;return ze?ze.toDataURL?ze.toDataURL():this.srcFromAttribute?ze.getAttribute("src")||"":ze.src:this.src||""}getSvgSrc(f){return this.getSrc(f)}setSrc(f){let{crossOrigin:ze,signal:Ke}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return It(f,{crossOrigin:ze,signal:Ke}).then(Ai=>{ze!==void 0&&this.set({crossOrigin:ze}),this.setElement(Ai)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const f=this.resizeFilter,ze=this.minimumScaleTrigger,Ke=this.getTotalObjectScaling(),Ai=Ke.x,ln=Ke.y,dn=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!f||Ai>ze&&ln>ze)return this._element=dn,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=Ai,void(this._lastScaleY=ln);const gn=vt(dn),{width:Hn,height:Kn}=dn;this._element=gn,this._lastScaleX=f.scaleX=Ai,this._lastScaleY=f.scaleY=ln,Qo().applyFilters([f],dn,Hn,Kn,this._element),this._filterScalingX=gn.width/this._originalElement.width,this._filterScalingY=gn.height/this._originalElement.height}applyFilters(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(f=f.filter(ln=>ln&&!ln.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),f.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const ze=this._originalElement,Ke=ze.naturalWidth||ze.width,Ai=ze.naturalHeight||ze.height;if(this._element===this._originalElement){const ln=vt({width:Ke,height:Ai});this._element=ln,this._filteredEl=ln}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,Ke,Ai),this._lastScaleX=1,this._lastScaleY=1);Qo().applyFilters(f,this._originalElement,Ke,Ai,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(f){f.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(f),this._renderPaintInOrder(f)}drawCacheOnCanvas(f){f.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(f)}shouldCache(){return this.needsItsOwnCache()}_renderFill(f){const ze=this._element;if(!ze)return;const Ke=this._filterScalingX,Ai=this._filterScalingY,ln=this.width,dn=this.height,gn=Math.max(this.cropX,0),Hn=Math.max(this.cropY,0),Kn=ze.naturalWidth||ze.width,Qn=ze.naturalHeight||ze.height,ys=gn*Ke,vs=Hn*Ai,Cs=Math.min(ln*Ke,Kn-ys),bs=Math.min(dn*Ai,Qn-vs),ia=-ln/2,la=-dn/2,ra=Math.min(ln,Kn/Ke-gn),sa=Math.min(dn,Qn/Ai-Hn);ze&&f.drawImage(ze,ys,vs,Cs,bs,ia,la,ra,sa)}_needsResize(){const f=this.getTotalObjectScaling();return f.x!==this._lastScaleX||f.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:f,height:ze}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Ke=this.getOriginalSize();this.width=f||Ke.width,this.height=ze||Ke.height}parsePreserveAspectRatioAttribute(){const f=Ie(this.preserveAspectRatio||""),ze=this.width,Ke=this.height,Ai={width:ze,height:Ke};let ln,dn=this._element.width,gn=this._element.height,Hn=1,Kn=1,Qn=0,ys=0,vs=0,Cs=0;return!f||f.alignX===j&&f.alignY===j?(Hn=ze/dn,Kn=Ke/gn):(f.meetOrSlice==="meet"&&(Hn=Kn=Ar(this._element,Ai),ln=(ze-dn*Hn)/2,f.alignX==="Min"&&(Qn=-ln),f.alignX==="Max"&&(Qn=ln),ln=(Ke-gn*Kn)/2,f.alignY==="Min"&&(ys=-ln),f.alignY==="Max"&&(ys=ln)),f.meetOrSlice==="slice"&&(Hn=Kn=jr(this._element,Ai),ln=dn-ze/Hn,f.alignX==="Mid"&&(vs=ln/2),f.alignX==="Max"&&(vs=ln),ln=gn-Ke/Kn,f.alignY==="Mid"&&(Cs=ln/2),f.alignY==="Max"&&(Cs=ln),dn=ze/Hn,gn=Ke/Kn)),{width:dn,height:gn,scaleX:Hn,scaleY:Kn,offsetLeft:Qn,offsetTop:ys,cropX:vs,cropY:Cs}}static fromObject(f,ze){let{filters:Ke,resizeFilter:Ai,src:ln,crossOrigin:dn,type:gn}=f,Hn=i(f,$o);return Promise.all([It(ln,s(s({},ze),{},{crossOrigin:dn})),Ke&&Bt(Ke,ze),Ai&&Bt([Ai],ze),Xt(Hn,ze)]).then(Kn=>{let[Qn,ys=[],[vs]=[],Cs={}]=Kn;return new this(Qn,s(s({},Hn),{},{src:ln,filters:ys,resizeFilter:vs},Cs))})}static fromURL(f){let{crossOrigin:ze=null,signal:Ke}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ai=arguments.length>2?arguments[2]:void 0;return It(f,{crossOrigin:ze,signal:Ke}).then(ln=>new this(ln,Ai))}static async fromElement(f){let ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ke=arguments.length>2?arguments[2]:void 0;const Ai=fr$1(f,this.ATTRIBUTE_NAMES,Ke);return this.fromURL(Ai["xlink:href"]||Ai.href,ze,Ai).catch(ln=>(a("log","Unable to parse Image",ln),null))}}t(ea,"type","Image"),t(ea,"cacheProperties",[...ps,...ta]),t(ea,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),t(ea,"CSS_CANVAS","canvas-img"),t(ea,"ATTRIBUTE_NAMES",[...Ri,"x","y","width","height","preserveAspectRatio","xlink:href","href","crossOrigin","image-rendering"]),tt.setClass(ea),tt.setSVGClass(ea);Ye(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);const Pa=qe=>qe.webgl!==void 0,Aa="precision highp float",ja=`
    `.concat(Aa,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),Fa=["type"],La=["type"],Ra=new RegExp(Aa,"g");class Ia{get type(){return this.constructor.type}constructor(){let f=i(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Fa);Object.assign(this,this.constructor.defaults,f)}getFragmentSource(){return ja}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(f){let ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),Ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:Ai="highp"}}=p();Ai!=="highp"&&(ze=ze.replace(Ra,Aa.replace("highp",Ai)));const ln=f.createShader(f.VERTEX_SHADER),dn=f.createShader(f.FRAGMENT_SHADER),gn=f.createProgram();if(!ln||!dn||!gn)throw new h$1("Vertex, fragment shader or program creation error");if(f.shaderSource(ln,Ke),f.compileShader(ln),!f.getShaderParameter(ln,f.COMPILE_STATUS))throw new h$1("Vertex shader compile error for ".concat(this.type,": ").concat(f.getShaderInfoLog(ln)));if(f.shaderSource(dn,ze),f.compileShader(dn),!f.getShaderParameter(dn,f.COMPILE_STATUS))throw new h$1("Fragment shader compile error for ".concat(this.type,": ").concat(f.getShaderInfoLog(dn)));if(f.attachShader(gn,ln),f.attachShader(gn,dn),f.linkProgram(gn),!f.getProgramParameter(gn,f.LINK_STATUS))throw new h$1('Shader link error for "'.concat(this.type,'" ').concat(f.getProgramInfoLog(gn)));const Hn=this.getUniformLocations(f,gn)||{};return Hn.uStepW=f.getUniformLocation(gn,"uStepW"),Hn.uStepH=f.getUniformLocation(gn,"uStepH"),{program:gn,attributeLocations:this.getAttributeLocations(f,gn),uniformLocations:Hn}}getAttributeLocations(f,ze){return{aPosition:f.getAttribLocation(ze,"aPosition")}}getUniformLocations(f,ze){const Ke=this.constructor.uniformLocations,Ai={};for(let ln=0;ln<Ke.length;ln++)Ai[Ke[ln]]=f.getUniformLocation(ze,Ke[ln]);return Ai}sendAttributeData(f,ze,Ke){const Ai=ze.aPosition,ln=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,ln),f.enableVertexAttribArray(Ai),f.vertexAttribPointer(Ai,2,f.FLOAT,!1,0,0),f.bufferData(f.ARRAY_BUFFER,Ke,f.STATIC_DRAW)}_setupFrameBuffer(f){const ze=f.context;if(f.passes>1){const Ke=f.destinationWidth,Ai=f.destinationHeight;f.sourceWidth===Ke&&f.sourceHeight===Ai||(ze.deleteTexture(f.targetTexture),f.targetTexture=f.filterBackend.createTexture(ze,Ke,Ai)),ze.framebufferTexture2D(ze.FRAMEBUFFER,ze.COLOR_ATTACHMENT0,ze.TEXTURE_2D,f.targetTexture,0)}else ze.bindFramebuffer(ze.FRAMEBUFFER,null),ze.finish()}_swapTextures(f){f.passes--,f.pass++;const ze=f.targetTexture;f.targetTexture=f.sourceTexture,f.sourceTexture=ze}isNeutralState(f){return!1}applyTo(f){Pa(f)?(this._setupFrameBuffer(f),this.applyToWebGL(f),this._swapTextures(f)):this.applyTo2d(f)}applyTo2d(f){}getCacheKey(){return this.type}retrieveShader(f){const ze=this.getCacheKey();return f.programCache[ze]||(f.programCache[ze]=this.createProgram(f.context)),f.programCache[ze]}applyToWebGL(f){const ze=f.context,Ke=this.retrieveShader(f);f.pass===0&&f.originalTexture?ze.bindTexture(ze.TEXTURE_2D,f.originalTexture):ze.bindTexture(ze.TEXTURE_2D,f.sourceTexture),ze.useProgram(Ke.program),this.sendAttributeData(ze,Ke.attributeLocations,f.aPosition),ze.uniform1f(Ke.uniformLocations.uStepW,1/f.sourceWidth),ze.uniform1f(Ke.uniformLocations.uStepH,1/f.sourceHeight),this.sendUniformData(ze,Ke.uniformLocations),ze.viewport(0,0,f.destinationWidth,f.destinationHeight),ze.drawArrays(ze.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(f,ze,Ke){f.activeTexture(Ke),f.bindTexture(f.TEXTURE_2D,ze),f.activeTexture(f.TEXTURE0)}unbindAdditionalTexture(f,ze){f.activeTexture(ze),f.bindTexture(f.TEXTURE_2D,null),f.activeTexture(f.TEXTURE0)}sendUniformData(f,ze){}createHelpLayer(f){if(!f.helpLayer){const{sourceWidth:ze,sourceHeight:Ke}=f,Ai=vt({width:ze,height:Ke});f.helpLayer=Ai}}toObject(){const f=Object.keys(this.constructor.defaults||{});return s({type:this.type},f.reduce((ze,Ke)=>(ze[Ke]=this[Ke],ze),{}))}toJSON(){return this.toObject()}static async fromObject(f,ze){return new this(i(f,La))}}t(Ia,"type","BaseFilter"),t(Ia,"uniformLocations",[]);const Ba={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class Xa extends Ia{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(Ba[this.mode],`
        }
      }
      `)}applyTo2d(f){let{imageData:{data:ze}}=f;const Ke=new Le(this.color).getSource(),Ai=this.alpha,ln=Ke[0]*Ai,dn=Ke[1]*Ai,gn=Ke[2]*Ai,Hn=1-Ai;for(let Kn=0;Kn<ze.length;Kn+=4){const Qn=ze[Kn],ys=ze[Kn+1],vs=ze[Kn+2];let Cs,bs,ia;switch(this.mode){case"multiply":Cs=Qn*ln/255,bs=ys*dn/255,ia=vs*gn/255;break;case"screen":Cs=255-(255-Qn)*(255-ln)/255,bs=255-(255-ys)*(255-dn)/255,ia=255-(255-vs)*(255-gn)/255;break;case"add":Cs=Qn+ln,bs=ys+dn,ia=vs+gn;break;case"difference":Cs=Math.abs(Qn-ln),bs=Math.abs(ys-dn),ia=Math.abs(vs-gn);break;case"subtract":Cs=Qn-ln,bs=ys-dn,ia=vs-gn;break;case"darken":Cs=Math.min(Qn,ln),bs=Math.min(ys,dn),ia=Math.min(vs,gn);break;case"lighten":Cs=Math.max(Qn,ln),bs=Math.max(ys,dn),ia=Math.max(vs,gn);break;case"overlay":Cs=ln<128?2*Qn*ln/255:255-2*(255-Qn)*(255-ln)/255,bs=dn<128?2*ys*dn/255:255-2*(255-ys)*(255-dn)/255,ia=gn<128?2*vs*gn/255:255-2*(255-vs)*(255-gn)/255;break;case"exclusion":Cs=ln+Qn-2*ln*Qn/255,bs=dn+ys-2*dn*ys/255,ia=gn+vs-2*gn*vs/255;break;case"tint":Cs=ln+Qn*Hn,bs=dn+ys*Hn,ia=gn+vs*Hn}ze[Kn]=Cs,ze[Kn+1]=bs,ze[Kn+2]=ia}}sendUniformData(f,ze){const Ke=new Le(this.color).getSource();Ke[0]=this.alpha*Ke[0]/255,Ke[1]=this.alpha*Ke[1]/255,Ke[2]=this.alpha*Ke[2]/255,Ke[3]=this.alpha,f.uniform4fv(ze.uColor,Ke)}}t(Xa,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),t(Xa,"type","BlendColor"),t(Xa,"uniformLocations",["uColor"]),tt.setClass(Xa);const Ya={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},Wa=["type","image"];class Va extends Ia{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return Ya[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(f){const ze=f.context,Ke=this.createTexture(f.filterBackend,this.image);this.bindAdditionalTexture(ze,Ke,ze.TEXTURE1),super.applyToWebGL(f),this.unbindAdditionalTexture(ze,ze.TEXTURE1)}createTexture(f,ze){return f.getCachedTexture(ze.cacheKey,ze.getElement())}calculateMatrix(){const f=this.image,{width:ze,height:Ke}=f.getElement();return[1/f.scaleX,0,0,0,1/f.scaleY,0,-f.left/ze,-f.top/Ke,1]}applyTo2d(f){let{imageData:{data:ze,width:Ke,height:Ai},filterBackend:{resources:ln}}=f;const dn=this.image;ln.blendImage||(ln.blendImage=pt());const gn=ln.blendImage,Hn=gn.getContext("2d");gn.width!==Ke||gn.height!==Ai?(gn.width=Ke,gn.height=Ai):Hn.clearRect(0,0,Ke,Ai),Hn.setTransform(dn.scaleX,0,0,dn.scaleY,dn.left,dn.top),Hn.drawImage(dn.getElement(),0,0,Ke,Ai);const Kn=Hn.getImageData(0,0,Ke,Ai).data;for(let Qn=0;Qn<ze.length;Qn+=4){const ys=ze[Qn],vs=ze[Qn+1],Cs=ze[Qn+2],bs=ze[Qn+3],ia=Kn[Qn],la=Kn[Qn+1],ra=Kn[Qn+2],sa=Kn[Qn+3];switch(this.mode){case"multiply":ze[Qn]=ys*ia/255,ze[Qn+1]=vs*la/255,ze[Qn+2]=Cs*ra/255,ze[Qn+3]=bs*sa/255;break;case"mask":ze[Qn+3]=sa}}}sendUniformData(f,ze){const Ke=this.calculateMatrix();f.uniform1i(ze.uImage,1),f.uniformMatrix3fv(ze.uTransformMatrix,!1,Ke)}toObject(){return s(s({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(f,ze){let{type:Ke,image:Ai}=f,ln=i(f,Wa);return ea.fromObject(Ai,ze).then(dn=>new this(s(s({},ln),{},{image:dn})))}}t(Va,"type","BlendImage"),t(Va,"defaults",{mode:"multiply",alpha:1}),t(Va,"uniformLocations",["uTransformMatrix","uImage"]),tt.setClass(Va);class za extends Ia{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float total = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        float weight = 1.0 - abs(percent);
        color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
        total += weight;
      }
      gl_FragColor = color / total;
    }
  `}applyTo(f){Pa(f)?(this.aspectRatio=f.sourceWidth/f.sourceHeight,f.passes++,this._setupFrameBuffer(f),this.horizontal=!0,this.applyToWebGL(f),this._swapTextures(f),this._setupFrameBuffer(f),this.horizontal=!1,this.applyToWebGL(f),this._swapTextures(f)):this.applyTo2d(f)}applyTo2d(f){f.imageData=this.simpleBlur(f)}simpleBlur(f){let{ctx:ze,imageData:Ke,filterBackend:{resources:Ai}}=f;const{width:ln,height:dn}=Ke;Ai.blurLayer1||(Ai.blurLayer1=pt(),Ai.blurLayer2=pt());const gn=Ai.blurLayer1,Hn=Ai.blurLayer2;gn.width===ln&&gn.height===dn||(Hn.width=gn.width=ln,Hn.height=gn.height=dn);const Kn=gn.getContext("2d"),Qn=Hn.getContext("2d"),ys=15,vs=.06*this.blur*.5;let Cs,bs,ia,la;for(Kn.putImageData(Ke,0,0),Qn.clearRect(0,0,ln,dn),la=-15;la<=ys;la++)Cs=(Math.random()-.5)/4,bs=la/ys,ia=vs*bs*ln+Cs,Qn.globalAlpha=1-Math.abs(bs),Qn.drawImage(gn,ia,Cs),Kn.drawImage(Hn,0,0),Qn.globalAlpha=1,Qn.clearRect(0,0,Hn.width,Hn.height);for(la=-15;la<=ys;la++)Cs=(Math.random()-.5)/4,bs=la/ys,ia=vs*bs*dn+Cs,Qn.globalAlpha=1-Math.abs(bs),Qn.drawImage(gn,Cs,ia),Kn.drawImage(Hn,0,0),Qn.globalAlpha=1,Qn.clearRect(0,0,Hn.width,Hn.height);ze.drawImage(gn,0,0);const ra=ze.getImageData(0,0,gn.width,gn.height);return Kn.globalAlpha=1,Kn.clearRect(0,0,gn.width,gn.height),ra}sendUniformData(f,ze){const Ke=this.chooseRightDelta();f.uniform2fv(ze.uDelta,Ke)}isNeutralState(){return this.blur===0}chooseRightDelta(){let f=1;const ze=[0,0];this.horizontal?this.aspectRatio>1&&(f=1/this.aspectRatio):this.aspectRatio<1&&(f=this.aspectRatio);const Ke=f*this.blur*.12;return this.horizontal?ze[0]=Ke:ze[1]=Ke,ze}}t(za,"type","Blur"),t(za,"defaults",{blur:0}),t(za,"uniformLocations",["uDelta"]),tt.setClass(za);class Ga extends Ia{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(f){let{imageData:{data:ze}}=f;const Ke=Math.round(255*this.brightness);for(let Ai=0;Ai<ze.length;Ai+=4)ze[Ai]+=Ke,ze[Ai+1]+=Ke,ze[Ai+2]+=Ke}isNeutralState(){return this.brightness===0}sendUniformData(f,ze){f.uniform1f(ze.uBrightness,this.brightness)}}t(Ga,"type","Brightness"),t(Ga,"defaults",{brightness:0}),t(Ga,"uniformLocations",["uBrightness"]),tt.setClass(Ga);const Ha={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class Na extends Ia{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(f){const ze=f.imageData.data,Ke=this.matrix,Ai=this.colorsOnly;for(let ln=0;ln<ze.length;ln+=4){const dn=ze[ln],gn=ze[ln+1],Hn=ze[ln+2];if(ze[ln]=dn*Ke[0]+gn*Ke[1]+Hn*Ke[2]+255*Ke[4],ze[ln+1]=dn*Ke[5]+gn*Ke[6]+Hn*Ke[7]+255*Ke[9],ze[ln+2]=dn*Ke[10]+gn*Ke[11]+Hn*Ke[12]+255*Ke[14],!Ai){const Kn=ze[ln+3];ze[ln]+=Kn*Ke[3],ze[ln+1]+=Kn*Ke[8],ze[ln+2]+=Kn*Ke[13],ze[ln+3]=dn*Ke[15]+gn*Ke[16]+Hn*Ke[17]+Kn*Ke[18]+255*Ke[19]}}}sendUniformData(f,ze){const Ke=this.matrix,Ai=[Ke[0],Ke[1],Ke[2],Ke[3],Ke[5],Ke[6],Ke[7],Ke[8],Ke[10],Ke[11],Ke[12],Ke[13],Ke[15],Ke[16],Ke[17],Ke[18]],ln=[Ke[4],Ke[9],Ke[14],Ke[19]];f.uniformMatrix4fv(ze.uColorMatrix,!1,Ai),f.uniform4fv(ze.uConstants,ln)}toObject(){return s(s({},super.toObject()),{},{matrix:[...this.matrix]})}}function Ua(qe,f){var ze;const Ke=(t(ze=class extends Na{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",qe),t(ze,"defaults",{colorsOnly:!1,matrix:f}),ze);return tt.setClass(Ke,qe),Ke}t(Na,"type","ColorMatrix"),t(Na,"defaults",Ha),t(Na,"uniformLocations",["uColorMatrix","uConstants"]),tt.setClass(Na);Ua("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]);Ua("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]);Ua("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]);Ua("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]);Ua("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]);Ua("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]);Ua("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class eh extends Ia{constructor(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(f),this.subFilters=f.subFilters||[]}applyTo(f){Pa(f)&&(f.passes+=this.subFilters.length-1),this.subFilters.forEach(ze=>{ze.applyTo(f)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(f=>f.toObject())}}isNeutralState(){return!this.subFilters.some(f=>!f.isNeutralState())}static fromObject(f,ze){return Promise.all((f.subFilters||[]).map(Ke=>tt.getClass(Ke.type).fromObject(Ke,ze))).then(Ke=>new this({subFilters:Ke}))}}t(eh,"type","Composed"),tt.setClass(eh);class sh extends Ia{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(f){let{imageData:{data:ze}}=f;const Ke=Math.floor(255*this.contrast),Ai=259*(Ke+255)/(255*(259-Ke));for(let ln=0;ln<ze.length;ln+=4)ze[ln]=Ai*(ze[ln]-128)+128,ze[ln+1]=Ai*(ze[ln+1]-128)+128,ze[ln+2]=Ai*(ze[ln+2]-128)+128}sendUniformData(f,ze){f.uniform1f(ze.uContrast,this.contrast)}}t(sh,"type","Contrast"),t(sh,"defaults",{contrast:0}),t(sh,"uniformLocations",["uContrast"]),tt.setClass(sh);const ih={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class rh extends Ia{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return ih[this.getCacheKey()]}applyTo2d(f){const ze=f.imageData,Ke=ze.data,Ai=this.matrix,ln=Math.round(Math.sqrt(Ai.length)),dn=Math.floor(ln/2),gn=ze.width,Hn=ze.height,Kn=f.ctx.createImageData(gn,Hn),Qn=Kn.data,ys=this.opaque?1:0;let vs,Cs,bs,ia,la,ra,sa,na,aa,oa,ha,ga,va;for(ha=0;ha<Hn;ha++)for(oa=0;oa<gn;oa++){for(la=4*(ha*gn+oa),vs=0,Cs=0,bs=0,ia=0,va=0;va<ln;va++)for(ga=0;ga<ln;ga++)sa=ha+va-dn,ra=oa+ga-dn,sa<0||sa>=Hn||ra<0||ra>=gn||(na=4*(sa*gn+ra),aa=Ai[va*ln+ga],vs+=Ke[na]*aa,Cs+=Ke[na+1]*aa,bs+=Ke[na+2]*aa,ys||(ia+=Ke[na+3]*aa));Qn[la]=vs,Qn[la+1]=Cs,Qn[la+2]=bs,Qn[la+3]=ys?Ke[la+3]:ia}f.imageData=Kn}sendUniformData(f,ze){f.uniform1fv(ze.uMatrix,this.matrix)}toObject(){return s(s({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}t(rh,"type","Convolute"),t(rh,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),t(rh,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),tt.setClass(rh);const nh="Gamma";class oh extends Ia{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(f),this.gamma=f.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(f){let{imageData:{data:ze}}=f;const Ke=this.gamma,Ai=1/Ke[0],ln=1/Ke[1],dn=1/Ke[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const gn=this.rgbValues;for(let Hn=0;Hn<256;Hn++)gn.r[Hn]=255*Math.pow(Hn/255,Ai),gn.g[Hn]=255*Math.pow(Hn/255,ln),gn.b[Hn]=255*Math.pow(Hn/255,dn);for(let Hn=0;Hn<ze.length;Hn+=4)ze[Hn]=gn.r[ze[Hn]],ze[Hn+1]=gn.g[ze[Hn+1]],ze[Hn+2]=gn.b[ze[Hn+2]]}sendUniformData(f,ze){f.uniform3fv(ze.uGamma,this.gamma)}isNeutralState(){const{gamma:f}=this;return f[0]===1&&f[1]===1&&f[2]===1}toObject(){return{type:nh,gamma:this.gamma.concat()}}}t(oh,"type",nh),t(oh,"defaults",{gamma:[1,1,1]}),t(oh,"uniformLocations",["uGamma"]),tt.setClass(oh);const ah={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class hh extends Ia{applyTo2d(f){let{imageData:{data:ze}}=f;for(let Ke,Ai=0;Ai<ze.length;Ai+=4){const ln=ze[Ai],dn=ze[Ai+1],gn=ze[Ai+2];switch(this.mode){case"average":Ke=(ln+dn+gn)/3;break;case"lightness":Ke=(Math.min(ln,dn,gn)+Math.max(ln,dn,gn))/2;break;case"luminosity":Ke=.21*ln+.72*dn+.07*gn}ze[Ai+2]=ze[Ai+1]=ze[Ai]=Ke}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return ah[this.mode]}sendUniformData(f,ze){f.uniform1i(ze.uMode,1)}isNeutralState(){return!1}}t(hh,"type","Grayscale"),t(hh,"defaults",{mode:"average"}),t(hh,"uniformLocations",["uMode"]),tt.setClass(hh);const ch=s(s({},Ha),{},{rotation:0});class lh extends Na{calculateMatrix(){const f=this.rotation*Math.PI,ze=rt(f),Ke=nt(f),Ai=1/3,ln=Math.sqrt(Ai)*Ke,dn=1-ze;this.matrix=[ze+dn/3,Ai*dn-ln,Ai*dn+ln,0,0,Ai*dn+ln,ze+Ai*dn,Ai*dn-ln,0,0,Ai*dn-ln,Ai*dn+ln,ze+Ai*dn,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(f){this.calculateMatrix(),super.applyTo(f)}toObject(){return{type:this.type,rotation:this.rotation}}}t(lh,"type","HueRotation"),t(lh,"defaults",ch),tt.setClass(lh);class uh extends Ia{applyTo2d(f){let{imageData:{data:ze}}=f;for(let Ke=0;Ke<ze.length;Ke+=4)ze[Ke]=255-ze[Ke],ze[Ke+1]=255-ze[Ke+1],ze[Ke+2]=255-ze[Ke+2],this.alpha&&(ze[Ke+3]=255-ze[Ke+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(f,ze){f.uniform1i(ze.uInvert,Number(this.invert)),f.uniform1i(ze.uAlpha,Number(this.alpha))}}t(uh,"type","Invert"),t(uh,"defaults",{alpha:!1,invert:!0}),t(uh,"uniformLocations",["uInvert","uAlpha"]),tt.setClass(uh);class dh extends Ia{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(f){let{imageData:{data:ze}}=f;const Ke=this.noise;for(let Ai=0;Ai<ze.length;Ai+=4){const ln=(.5-Math.random())*Ke;ze[Ai]+=ln,ze[Ai+1]+=ln,ze[Ai+2]+=ln}}sendUniformData(f,ze){f.uniform1f(ze.uNoise,this.noise/255),f.uniform1f(ze.uSeed,Math.random())}isNeutralState(){return this.noise===0}}t(dh,"type","Noise"),t(dh,"defaults",{noise:0}),t(dh,"uniformLocations",["uNoise","uSeed"]),tt.setClass(dh);class gh extends Ia{applyTo2d(f){let{imageData:{data:ze,width:Ke,height:Ai}}=f;for(let ln=0;ln<Ai;ln+=this.blocksize)for(let dn=0;dn<Ke;dn+=this.blocksize){const gn=4*ln*Ke+4*dn,Hn=ze[gn],Kn=ze[gn+1],Qn=ze[gn+2],ys=ze[gn+3];for(let vs=ln;vs<Math.min(ln+this.blocksize,Ai);vs++)for(let Cs=dn;Cs<Math.min(dn+this.blocksize,Ke);Cs++){const bs=4*vs*Ke+4*Cs;ze[bs]=Hn,ze[bs+1]=Kn,ze[bs+2]=Qn,ze[bs+3]=ys}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(f,ze){f.uniform1f(ze.uBlocksize,this.blocksize)}}t(gh,"type","Pixelate"),t(gh,"defaults",{blocksize:4}),t(gh,"uniformLocations",["uBlocksize"]),tt.setClass(gh);class fh extends Ia{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(f){let{imageData:{data:ze}}=f;const Ke=255*this.distance,Ai=new Le(this.color).getSource(),ln=[Ai[0]-Ke,Ai[1]-Ke,Ai[2]-Ke],dn=[Ai[0]+Ke,Ai[1]+Ke,Ai[2]+Ke];for(let gn=0;gn<ze.length;gn+=4){const Hn=ze[gn],Kn=ze[gn+1],Qn=ze[gn+2];Hn>ln[0]&&Kn>ln[1]&&Qn>ln[2]&&Hn<dn[0]&&Kn<dn[1]&&Qn<dn[2]&&(ze[gn+3]=0)}}sendUniformData(f,ze){const Ke=new Le(this.color).getSource(),Ai=this.distance,ln=[0+Ke[0]/255-Ai,0+Ke[1]/255-Ai,0+Ke[2]/255-Ai,1],dn=[Ke[0]/255+Ai,Ke[1]/255+Ai,Ke[2]/255+Ai,1];f.uniform4fv(ze.uLow,ln),f.uniform4fv(ze.uHigh,dn)}}t(fh,"type","RemoveColor"),t(fh,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),t(fh,"uniformLocations",["uLow","uHigh"]),tt.setClass(fh);class ph extends Ia{sendUniformData(f,ze){f.uniform2fv(ze.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),f.uniform1fv(ze.uTaps,this.taps)}getFilterWindow(){const f=this.tempScale;return Math.ceil(this.lanczosLobes/f)}getCacheKey(){const f=this.getFilterWindow();return"".concat(this.type,"_").concat(f)}getFragmentSource(){const f=this.getFilterWindow();return this.generateShader(f)}getTaps(){const f=this.lanczosCreate(this.lanczosLobes),ze=this.tempScale,Ke=this.getFilterWindow(),Ai=new Array(Ke);for(let ln=1;ln<=Ke;ln++)Ai[ln-1]=f(ln*ze);return Ai}generateShader(f){const ze=new Array(f);for(let Ke=1;Ke<=f;Ke++)ze[Ke-1]="".concat(Ke,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(f,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(ze.map((Ke,Ai)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(Ke,") * uTaps[").concat(Ai,"] + texture2D(uTexture, vTexCoord - ").concat(Ke,") * uTaps[").concat(Ai,`];
              sum += 2.0 * uTaps[`).concat(Ai,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(f){f.passes++,this.width=f.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=f.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),f.destinationWidth=this.dW,super.applyTo(f),f.sourceWidth=f.destinationWidth,this.height=f.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),f.destinationHeight=this.dH,super.applyTo(f),f.sourceHeight=f.destinationHeight}applyTo(f){Pa(f)?this.applyToForWebgl(f):this.applyTo2d(f)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(f){return ze=>{if(ze>=f||ze<=-f)return 0;if(ze<11920929e-14&&ze>-11920929e-14)return 1;const Ke=(ze*=Math.PI)/f;return Math.sin(ze)/ze*Math.sin(Ke)/Ke}}applyTo2d(f){const ze=f.imageData,Ke=this.scaleX,Ai=this.scaleY;this.rcpScaleX=1/Ke,this.rcpScaleY=1/Ai;const ln=ze.width,dn=ze.height,gn=Math.round(ln*Ke),Hn=Math.round(dn*Ai);let Kn;Kn=this.resizeType==="sliceHack"?this.sliceByTwo(f,ln,dn,gn,Hn):this.resizeType==="hermite"?this.hermiteFastResize(f,ln,dn,gn,Hn):this.resizeType==="bilinear"?this.bilinearFiltering(f,ln,dn,gn,Hn):this.resizeType==="lanczos"?this.lanczosResize(f,ln,dn,gn,Hn):new ImageData(gn,Hn),f.imageData=Kn}sliceByTwo(f,ze,Ke,Ai,ln){const dn=f.imageData,gn=.5;let Hn=!1,Kn=!1,Qn=ze*gn,ys=Ke*gn;const vs=f.filterBackend.resources;let Cs=0,bs=0;const ia=ze;let la=0;vs.sliceByTwo||(vs.sliceByTwo=pt());const ra=vs.sliceByTwo;(ra.width<1.5*ze||ra.height<Ke)&&(ra.width=1.5*ze,ra.height=Ke);const sa=ra.getContext("2d");for(sa.clearRect(0,0,1.5*ze,Ke),sa.putImageData(dn,0,0),Ai=Math.floor(Ai),ln=Math.floor(ln);!Hn||!Kn;)ze=Qn,Ke=ys,Ai<Math.floor(Qn*gn)?Qn=Math.floor(Qn*gn):(Qn=Ai,Hn=!0),ln<Math.floor(ys*gn)?ys=Math.floor(ys*gn):(ys=ln,Kn=!0),sa.drawImage(ra,Cs,bs,ze,Ke,ia,la,Qn,ys),Cs=ia,bs=la,la+=ys;return sa.getImageData(Cs,bs,Ai,ln)}lanczosResize(f,ze,Ke,Ai,ln){const dn=f.imageData.data,gn=f.ctx.createImageData(Ai,ln),Hn=gn.data,Kn=this.lanczosCreate(this.lanczosLobes),Qn=this.rcpScaleX,ys=this.rcpScaleY,vs=2/this.rcpScaleX,Cs=2/this.rcpScaleY,bs=Math.ceil(Qn*this.lanczosLobes/2),ia=Math.ceil(ys*this.lanczosLobes/2),la={},ra={x:0,y:0},sa={x:0,y:0};return function na(aa){let oa,ha,ga,va,Sa,tl,Zo,Ta,Qa,$a,Ma;for(ra.x=(aa+.5)*Qn,sa.x=Math.floor(ra.x),oa=0;oa<ln;oa++){for(ra.y=(oa+.5)*ys,sa.y=Math.floor(ra.y),Sa=0,tl=0,Zo=0,Ta=0,Qa=0,ha=sa.x-bs;ha<=sa.x+bs;ha++)if(!(ha<0||ha>=ze)){$a=Math.floor(1e3*Math.abs(ha-ra.x)),la[$a]||(la[$a]={});for(let ua=sa.y-ia;ua<=sa.y+ia;ua++)ua<0||ua>=Ke||(Ma=Math.floor(1e3*Math.abs(ua-ra.y)),la[$a][Ma]||(la[$a][Ma]=Kn(Math.sqrt(Math.pow($a*vs,2)+Math.pow(Ma*Cs,2))/1e3)),ga=la[$a][Ma],ga>0&&(va=4*(ua*ze+ha),Sa+=ga,tl+=ga*dn[va],Zo+=ga*dn[va+1],Ta+=ga*dn[va+2],Qa+=ga*dn[va+3]))}va=4*(oa*Ai+aa),Hn[va]=tl/Sa,Hn[va+1]=Zo/Sa,Hn[va+2]=Ta/Sa,Hn[va+3]=Qa/Sa}return++aa<Ai?na(aa):gn}(0)}bilinearFiltering(f,ze,Ke,Ai,ln){let dn,gn,Hn,Kn,Qn,ys,vs,Cs,bs,ia,la,ra,sa,na=0;const aa=this.rcpScaleX,oa=this.rcpScaleY,ha=4*(ze-1),ga=f.imageData.data,va=f.ctx.createImageData(Ai,ln),Sa=va.data;for(vs=0;vs<ln;vs++)for(Cs=0;Cs<Ai;Cs++)for(Qn=Math.floor(aa*Cs),ys=Math.floor(oa*vs),bs=aa*Cs-Qn,ia=oa*vs-ys,sa=4*(ys*ze+Qn),la=0;la<4;la++)dn=ga[sa+la],gn=ga[sa+4+la],Hn=ga[sa+ha+la],Kn=ga[sa+ha+4+la],ra=dn*(1-bs)*(1-ia)+gn*bs*(1-ia)+Hn*ia*(1-bs)+Kn*bs*ia,Sa[na++]=ra;return va}hermiteFastResize(f,ze,Ke,Ai,ln){const dn=this.rcpScaleX,gn=this.rcpScaleY,Hn=Math.ceil(dn/2),Kn=Math.ceil(gn/2),Qn=f.imageData.data,ys=f.ctx.createImageData(Ai,ln),vs=ys.data;for(let Cs=0;Cs<ln;Cs++)for(let bs=0;bs<Ai;bs++){const ia=4*(bs+Cs*Ai);let la=0,ra=0,sa=0,na=0,aa=0,oa=0,ha=0;const ga=(Cs+.5)*gn;for(let va=Math.floor(Cs*gn);va<(Cs+1)*gn;va++){const Sa=Math.abs(ga-(va+.5))/Kn,tl=(bs+.5)*dn,Zo=Sa*Sa;for(let Ta=Math.floor(bs*dn);Ta<(bs+1)*dn;Ta++){let Qa=Math.abs(tl-(Ta+.5))/Hn;const $a=Math.sqrt(Zo+Qa*Qa);$a>1&&$a<-1||(la=2*$a*$a*$a-3*$a*$a+1,la>0&&(Qa=4*(Ta+va*ze),ha+=la*Qn[Qa+3],sa+=la,Qn[Qa+3]<255&&(la=la*Qn[Qa+3]/250),na+=la*Qn[Qa],aa+=la*Qn[Qa+1],oa+=la*Qn[Qa+2],ra+=la))}}vs[ia]=na/ra,vs[ia+1]=aa/ra,vs[ia+2]=oa/ra,vs[ia+3]=ha/sa}return ys}}t(ph,"type","Resize"),t(ph,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),t(ph,"uniformLocations",["uDelta","uTaps"]),tt.setClass(ph);class mh extends Ia{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(f){let{imageData:{data:ze}}=f;const Ke=-this.saturation;for(let Ai=0;Ai<ze.length;Ai+=4){const ln=ze[Ai],dn=ze[Ai+1],gn=ze[Ai+2],Hn=Math.max(ln,dn,gn);ze[Ai]+=Hn!==ln?(Hn-ln)*Ke:0,ze[Ai+1]+=Hn!==dn?(Hn-dn)*Ke:0,ze[Ai+2]+=Hn!==gn?(Hn-gn)*Ke:0}}sendUniformData(f,ze){f.uniform1f(ze.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}t(mh,"type","Saturation"),t(mh,"defaults",{saturation:0}),t(mh,"uniformLocations",["uSaturation"]),tt.setClass(mh);class vh extends Ia{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(f){let{imageData:{data:ze}}=f;const Ke=-this.vibrance;for(let Ai=0;Ai<ze.length;Ai+=4){const ln=ze[Ai],dn=ze[Ai+1],gn=ze[Ai+2],Hn=Math.max(ln,dn,gn),Kn=(ln+dn+gn)/3,Qn=2*Math.abs(Hn-Kn)/255*Ke;ze[Ai]+=Hn!==ln?(Hn-ln)*Qn:0,ze[Ai+1]+=Hn!==dn?(Hn-dn)*Qn:0,ze[Ai+2]+=Hn!==gn?(Hn-gn)*Qn:0}}sendUniformData(f,ze){f.uniform1f(ze.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}t(vh,"type","Vibrance"),t(vh,"defaults",{vibrance:0}),t(vh,"uniformLocations",["uVibrance"]),tt.setClass(vh);const useEngCanvas=qe=>{const f=reactExports.useRef(null),ze=reactExports.useRef(null),Ke=reactExports.useRef(null);reactExports.useEffect(()=>{if(f.current)return Ai(),ln(),()=>{ze.current&&(ze.current.dispose(),ze.current=null)}},[]),reactExports.useEffect(()=>{vs()},[qe]);const Ai=()=>{const bs=f.current;if(!bs)return;const ia=new wn(bs,{width:window.innerWidth-120,height:window.innerHeight-260});ia.backgroundColor=COLORS.background,ze.current=ia},ln=()=>{const bs=ze.current;if(!bs)return;const ia=dn(bs),la=gn(bs),ra=Hn(bs),sa=Qn(bs);bs.add(ia,la,ra),sa.forEach(na=>{bs.add(na)}),bs.requestRenderAll()},dn=bs=>{const ia=new ko("    ",{fontSize:28,fill:"#374151",fontWeight:"bold",textAlign:"center",fontFamily:"BMJUA",selectable:!1,top:bs.getHeight()*.1,left:bs.getWidth()/2});return ia.setPositionByOrigin(new ot(bs.getWidth()/2,bs.getHeight()*.1),"center","center"),ia},gn=bs=>{const ia=bs.getWidth()*.1,la=bs.getWidth()*.9,ra=bs.getHeight()*.4;return new eo([ia,ra,la,ra],{stroke:"#60a5fa",strokeWidth:3,selectable:!1,evented:!1})},Hn=bs=>{const ia=new vr({width:bs.getWidth()*.8,height:bs.getHeight()*.2,fill:"#fff7ed",stroke:"#fb923c",strokeWidth:2,strokeDashArray:[8,4],rx:20,ry:20,selectable:!1,evented:!1}),la=new ot(bs.getWidth()/2,bs.getHeight()/10*7);return ia.setPositionByOrigin(la,"center","center"),ia},Kn=(bs,ia)=>{const la=new vr({width:bs.length*30+20,height:40,fill:"#ffffff",stroke:"#374151",strokeWidth:2,rx:10,ry:10,shadow:new ds({color:"rgba(0,0,0,0.3)",offsetX:3,offsetY:3,blur:5})}),ra=new ko(bs,{fontSize:24,fill:"#374151",fontWeight:"bold",textAlign:"center",fontFamily:"BMJUA"}),sa=new ot(la.left+la.width/2,la.top+la.height/2);ra.setPositionByOrigin(sa,"center","center");const na=new Er([la,ra],{...ia,selectable:!0,hasBorders:!1,hasControls:!1,hoverCursor:"pointer",moveCursor:"",borderColor:"#3b82f6",cornerColor:"#3b82f6"});return na.set({text:bs}),na.on("modified",()=>ys(na)),na},Qn=bs=>{const ia=qe.reduce((na,aa)=>na+aa.length*30+40,0);let la=bs.getWidth()/2-ia/2;const ra=bs.getHeight()/10*7-20;return qe.map(na=>{const aa=na.length*30+20,oa=Kn(na,{left:la,top:ra});return la+=aa+40,oa})},ys=bs=>{const ia=ze.current;if(!ia)return;const la=ia.getHeight()*.4,ra=100;if(!(Math.abs(bs.top-la+60)<ra))return;const na=ia.getObjects().filter(oa=>oa instanceof Er&&Math.abs((oa.top??0)-la)<ra);na.sort((oa,ha)=>(oa.left??0)-(ha.left??0));let aa=ia.getWidth()*.1+10;na.forEach(oa=>{oa.set({left:aa,top:la-50}),aa+=oa.width+20}),Ke.current=na,ia.requestRenderAll()},vs=()=>{const bs=ze.current;if(!bs)return;bs.getObjects().forEach(la=>{la instanceof Er&&bs.remove(la)}),Qn(bs).forEach(la=>bs.add(la)),bs.requestRenderAll()};return{canvasRef:f,getCurrentAnswer:()=>{var ia;const bs=(ia=Ke.current)==null?void 0:ia.reduce((la,ra)=>{const sa=ra.get("text");return la+=sa?`${sa} `:"",la},"");return(bs==null?void 0:bs.trim())||""},resetAnswer:vs}},createStoreImpl=qe=>{let f;const ze=new Set,Ke=(Kn,Qn)=>{const ys=typeof Kn=="function"?Kn(f):Kn;if(!Object.is(ys,f)){const vs=f;f=Qn??(typeof ys!="object"||ys===null)?ys:Object.assign({},f,ys),ze.forEach(Cs=>Cs(f,vs))}},Ai=()=>f,gn={setState:Ke,getState:Ai,getInitialState:()=>Hn,subscribe:Kn=>(ze.add(Kn),()=>ze.delete(Kn))},Hn=f=qe(Ke,Ai,gn);return gn},createStore=qe=>qe?createStoreImpl(qe):createStoreImpl,identity=qe=>qe;function useStore(qe,f=identity){const ze=React.useSyncExternalStore(qe.subscribe,()=>f(qe.getState()),()=>f(qe.getInitialState()));return React.useDebugValue(ze),ze}const createImpl=qe=>{const f=createStore(qe),ze=Ke=>useStore(f,Ke);return Object.assign(ze,f),ze},create=qe=>qe?createImpl(qe):createImpl,useHeaderStore=create(qe=>({title:"",leftChance:3,setTitle:f=>qe({title:f}),decreaseLeftChance:()=>qe(f=>({leftChance:Math.max(f.leftChance-1,0)})),resetLeftChance:()=>qe(()=>({leftChance:3}))})),useModalStore=create(qe=>({modalType:null,modalMessage:"",openModal:(f,ze)=>qe({modalType:f,modalMessage:ze}),closeModal:()=>qe({modalType:null})})),useStepStore=create(qe=>({step:1,nextStep:()=>qe(f=>({step:Math.min(f.step+1,3)})),initStep:()=>qe({step:1})})),useQuizHandler=()=>{const{nextStep:qe,step:f}=useStepStore(dn=>dn),ze=useModalStore(dn=>dn.openModal),{leftChance:Ke,decreaseLeftChance:Ai}=useHeaderStore(dn=>dn);return{handleCheckAnswer:(dn,gn,Hn,Kn)=>{const Qn=dn();if(Kn?Kn(Qn,gn):Qn===gn){ze("correct","!"),setTimeout(()=>{qe(),f===3&&ze("gameClear"," !")},2e3);return}if(ze("incorrect","!"),Ai(),Hn(),Ke===1){ze("gameOver"," !");return}}}},EngQuiz=()=>{const{step:qe}=useStepStore(Kn=>Kn),f=useHeaderStore(Kn=>Kn.setTitle),{handleCheckAnswer:ze}=useQuizHandler(),Ke=ENG_QUIZ_LIST[qe-1].parts,Ai=ENG_QUIZ_LIST[qe-1].answer,{canvasRef:ln,getCurrentAnswer:dn,resetAnswer:gn}=useEngCanvas(Ke);reactExports.useEffect(()=>{f("2 - ")},[f]);const Hn=()=>{ze(dn,Ai,gn)};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center p-10 pt-0 box-border",children:[jsxRuntimeExports.jsx("canvas",{className:"rounded-2xl",ref:ln}),jsxRuntimeExports.jsx(CheckAnswerButton,{handleCheckAnswerButtonClick:Hn})]})};function SubjectButton({text:qe}){const f=useNavigate(),ze=()=>{let Ke=null;if(qe.match("")?Ke="/quiz/math":qe.match("")?Ke="/quiz/english":qe.match("")&&(Ke="/quiz/idol"),!Ke){alert("    .");return}f(Ke)};return jsxRuntimeExports.jsx("button",{className:"flex justify-center w-md fit border-6 border-gray-800 rounded-full p-4 bg-[#fccf8d] shadow-lg cursor-pointer transition-all duration-150 ease-in-out hover:-translate-y-1 hover:shadow-xl active:shadow-inner active:scale-95",onClick:ze,children:jsxRuntimeExports.jsx("span",{className:"text-5xl text-gray-800",style:{fontFamily:"BMJUA"},children:qe})})}function Home(){return jsxRuntimeExports.jsxs("div",{className:"w-screen h-screen flex flex-col items-centers bg-[url('assets/images/background.svg')] bg-cover bg-center",children:[jsxRuntimeExports.jsx("header",{className:"flex items-center justify-center m-14 mb-0",children:jsxRuntimeExports.jsx("span",{className:"text-9xl text-gray-800 tracking-wide",style:{fontFamily:"BMJUA"},children:""})}),jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-12 m-auto",children:SUBJECTS.map((qe,f)=>jsxRuntimeExports.jsx(SubjectButton,{text:`${f+1} ${qe}`},qe))})]})}const useIdolCanvas=(qe,f,ze)=>{const Ke=reactExports.useRef(null),Ai=reactExports.useRef(null),ln=reactExports.useRef(null),dn=reactExports.useRef(null),gn=reactExports.useRef(new Map);reactExports.useEffect(()=>{if(Ke.current)return Hn(),Qn(),Kn(),()=>{Ai.current&&(Ai.current.dispose(),Ai.current=null)}},[]),reactExports.useEffect(()=>{na(),aa()},[ze]);const Hn=()=>{const oa=Ke.current;if(!oa)return;const ha=new wn(oa,{width:window.innerWidth-120,height:window.innerHeight-260,selection:!1});ha.backgroundColor="#f9f9fb",Ai.current=ha},Kn=()=>{const oa=Ai.current;oa&&(oa.on("mouse:move",ha=>{if(!dn.current||!ln.current)return;const ga=oa.getScenePoint(ha.e);dn.current.set({x2:ga.x,y2:ga.y}),oa.requestRenderAll()}),oa.on("mouse:up",ha=>{var va;if(!dn.current)return;const ga=ha.target;(!ga||!ga.get("role")||ga.get("role")!=="back")&&((va=ln.current)==null||va.item(0).set({fill:COLORS.frontFill,stroke:COLORS.border,strokeWidth:1,strokeDashArray:[5,5]}),oa.remove(dn.current),oa.requestRenderAll(),ra())}))},Qn=()=>{const oa=Ai.current;if(!oa)return;const ha=ys(oa),ga=bs(oa,qe,!0),va=bs(oa,f,!1);oa.add(ha),ga.forEach(Sa=>oa.add(Sa)),va.forEach(Sa=>oa.add(Sa)),oa.requestRenderAll()},ys=oa=>{const ha=new ko("   ",{fontSize:28,fill:"#374151",fontWeight:"bold",textAlign:"center",fontFamily:"BMJUA",selectable:!1,top:oa.getHeight()*.1,left:oa.getWidth()/2});return ha.setPositionByOrigin(new ot(oa.getWidth()/2,oa.getHeight()*.1),"center","center"),ha},vs=oa=>{const ha=Ai.current;if(!ha)return;const ga=gn.current,va=ga.get(oa);va&&(ha.remove(va.line),va.frontBox.item(0).set({fill:COLORS.frontFill,strokeWidth:1}),va.backBox.item(0).set({fill:COLORS.backFill,strokeWidth:1}),ga.delete(oa)),ha.requestRenderAll()},Cs=(oa,ha,ga,va)=>{const Sa=new vr({width:200,height:60,fill:va?COLORS.frontFill:COLORS.backFill,stroke:COLORS.border,strokeWidth:1,strokeDashArray:[5,5],rx:12,ry:12,shadow:new ds(COLORS.shadow)}),tl=new ko(ha,{fontSize:24,fill:COLORS.text,fontWeight:500,textAlign:"center",fontFamily:"BMJUA"}),Zo=new ot(Sa.left+Sa.width/2,Sa.top+Sa.height/2);tl.setPositionByOrigin(Zo,"center","center");const Ta=new Er([Sa,tl],{...ga,selectable:!1,hasBorders:!1,hasControls:!1,hoverCursor:"pointer"});return Ta.set({text:ha,role:va?"front":"back"}),va?Ta.on("mousedown",Qa=>{ln.current=Ta,gn.current.has(ha)&&vs(ha);const $a=ia(Ta),Ma=oa.getScenePoint(Qa.e),ua=new eo([$a.x,$a.y,Ma.x,Ma.y],{stroke:COLORS.line,strokeWidth:3,selectable:!1,evented:!1});dn.current=ua,Ta.item(0).set({fill:COLORS.selectedFrontFill,strokeWidth:0}),oa.add(ua),oa.requestRenderAll()}):Ta.on("mouseup",Qa=>{if(!ln.current||!dn.current)return;Qa.e.stopPropagation();const $a=la(Ta);dn.current.set({x2:$a.x,y2:$a.y});const Ma=ln.current.get("text"),ua=gn.current;for(const[ya,ca]of ua)if(ca.text===ha){vs(ya);break}ua.set(Ma,{line:dn.current,frontBox:ln.current,backBox:Ta,text:ha}),ln.current.item(0).set("fill",COLORS.selectedFrontFill),Ta.item(0).set({fill:COLORS.selectedBackFill,strokeWidth:0}),oa.requestRenderAll(),ra()}),Ta},bs=(oa,ha,ga)=>{const va=ga?oa.getWidth()/3-200:oa.getWidth()*2/3;return ha.map((Sa,tl)=>{const Zo={left:va,top:oa.getHeight()*.2+tl*110};return Cs(oa,Sa,Zo,ga)})},ia=oa=>{const ha=oa.getBoundingRect();return new ot(ha.left+ha.width,ha.top+ha.height/2)},la=oa=>{const ha=oa.getBoundingRect();return new ot(ha.left,ha.top+ha.height/2)},ra=()=>{ln.current=null,dn.current=null},sa=()=>{const oa={};for(const[ha,ga]of gn.current)oa[ha]=ga.text;return oa},na=()=>{const oa=Ai.current;if(!oa)return;oa.getObjects().forEach(va=>{va instanceof Er&&oa.remove(va)});const ha=bs(oa,qe,!0),ga=bs(oa,f,!1);oa.add(...ha,...ga)},aa=()=>{const oa=Ai.current;if(!oa)return;const ha=oa.getObjects();for(let ga=ha.length-1;ga>=0;ga--){const va=ha[ga];va instanceof eo&&oa.remove(va)}ha.forEach(ga=>{const va=ga.get("role");ga instanceof Er&&va&&(va==="front"?ga.item(0).set("fill",COLORS.frontFill):ga.item(0).set("fill",COLORS.backFill))}),gn.current.clear(),ra(),oa.requestRenderAll()};return{canvasRef:Ke,getCurrentAnswers:sa,resetAnswer:aa}};function IdolQuiz(){const{step:qe}=useStepStore(Kn=>Kn),f=useHeaderStore(Kn=>Kn.setTitle),{handleCheckAnswer:ze}=useQuizHandler(),Ke=IDOL_QUIZ_LIST[qe-1],Ai=IDOL_QUIZ_LIST[qe-1].answer,{canvasRef:ln,getCurrentAnswers:dn,resetAnswer:gn}=useIdolCanvas(Ke.front,Ke.back,qe);reactExports.useEffect(()=>{f("3 - ")},[f]);const Hn=()=>{ze(dn,Ai,gn,(Qn,ys)=>Object.entries(ys).every(([vs,Cs])=>Qn[vs]===Cs))};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center p-10 pt-0 box-border",children:[jsxRuntimeExports.jsx("canvas",{className:"rounded-2xl",ref:ln}),jsxRuntimeExports.jsx(CheckAnswerButton,{handleCheckAnswerButtonClick:Hn})]})}const v="5.7.4",fr=30,ip=0,op=45,w=500,h=500,nm="Comp 1",ddd=0,assets=JSON.parse('[{"id":"comp_0","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Layer 2 Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[1],"y":[0]},"t":0,"s":[-30]},{"i":{"x":[0],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":13,"s":[15]},{"t":18,"s":[0]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":1},"o":{"x":0.39,"y":0},"t":0,"s":[410,346,0],"to":[0,31.833,0],"ti":[0,-31.833,0]},{"t":18,"s":[410,537,0]}],"ix":2,"l":2},"a":{"a":0,"k":[266,393,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":0,"s":[0,0,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":13,"s":[140,140,100]},{"t":18,"s":[100,100,100]}],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-9.831,-4.841],[4.723,0],[0,16.423],[0,0],[-16.423,0],[-3.965,-1.961],[0,-11.686],[0,0]],"o":[[-3.964,1.961],[-16.423,0],[0,0],[0,-16.409],[4.723,0],[-9.831,4.855],[0,0],[0,11.701]],"v":[[21.435,26.795],[8.293,29.854],[-21.435,0.126],[-21.435,-0.127],[8.293,-29.855],[21.435,-26.796],[4.833,-0.127],[4.833,0.126]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.5294,0.0941,0.2667,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[259.588,389.482],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[20.685,-7.322],[0,-29.343],[0,0],[-9.83,-4.841],[4.722,0],[0,16.424],[0,0],[-27.516,9.726],[1.605,21.977],[19.35,5.42],[-5.658,-0.371],[-1.752,-24.07]],"o":[[-27.501,9.726],[0,0],[0,11.702],[-3.964,1.96],[-16.424,0],[0,0],[0,-29.343],[20.686,-7.321],[-1.5,-20.671],[5.213,-1.47],[24.086,1.575],[1.603,21.977]],"v":[[19.118,-6.282],[-26.871,59.041],[-26.871,71.647],[-10.269,98.318],[-23.41,101.377],[-53.138,71.647],[-53.138,59.041],[-7.15,-6.282],[25.251,-56.027],[-10.18,-99.299],[6.214,-101.006],[51.535,-56.027]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.5294,0.0941,0.2667,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[291.293,229.501],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[6.846,-49.032],[0,-5.034],[-9.831,-4.841],[4.722,0],[0,16.423],[-0.698,4.96],[-56.383,-3.698],[-1.99,-0.253]],"o":[[-0.698,4.96],[0,11.701],[-3.964,1.96],[-16.41,0],[0,-5.034],[7.782,-55.834],[2.019,0.134],[-47.741,5.88]],"v":[[-33.434,25.943],[-34.474,41.001],[-17.887,67.67],[-31.028,70.729],[-60.757,41.001],[-59.703,25.943],[54.742,-67.031],[60.757,-66.45]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.5294,0.0941,0.2667,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[220.37,136.185],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[16.419,0],[0,16.418],[0,0],[-16.419,0],[0,-16.419],[0,0]],"o":[[-16.419,0],[0,0],[0,-16.419],[16.419,0],[0,0],[0,16.418]],"v":[[0,29.852],[-29.729,0.123],[-29.729,-0.122],[0,-29.853],[29.729,-0.122],[29.729,0.123]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.4,0.64,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[267.877,389.487],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[16.419,0],[0,16.418],[0,0],[-27.504,9.724],[1.604,21.978],[24.083,1.577],[3.506,-25.136],[0,-2.294],[16.419,0],[0,16.419],[-0.692,4.96],[-56.388,-3.7],[-3.899,-53.498],[45.877,-16.222],[0,-4.197],[0,0]],"o":[[-16.419,0],[0,0],[0,-29.344],[20.687,-7.315],[-1.755,-24.066],[-25.474,-1.683],[-0.314,2.247],[0,16.419],[-16.419,0],[0,-5.033],[7.79,-55.823],[53.532,3.506],[3.544,48.623],[-3.794,1.342],[0,0],[-0.001,16.418]],"v":[[-1.626,132.71],[-31.355,102.982],[-31.355,90.371],[14.626,25.053],[47.042,-24.698],[1.719,-69.677],[-49.958,-27.827],[-50.43,-20.983],[-80.16,8.746],[-109.889,-20.983],[-108.846,-36.044],[5.604,-129.01],[106.344,-29.021],[34.447,81.111],[28.103,90.371],[28.103,102.982]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.4,0.64,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[269.504,198.169],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":60,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Layer 3 Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[1],"y":[0]},"t":7,"s":[-30]},{"i":{"x":[0],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":18,"s":[13]},{"t":23,"s":[0]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.015,"y":0.965},"o":{"x":0.405,"y":0},"t":6,"s":[410,346,0],"to":[0,31.766,0],"ti":[0,-32.166,0]},{"t":24,"s":[499,536.798,0]}],"ix":2,"l":2},"a":{"a":0,"k":[357.132,416,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":7,"s":[0,0,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":18,"s":[120,120,100]},{"t":23,"s":[100,100,100]}],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-7.341,-6.431],[4.062,1.089],[-3.786,14.129],[0,0],[-14.129,-3.786],[-2.959,-2.6],[2.695,-10.054],[0,0]],"o":[[-3.863,0.772],[-14.13,-3.786],[0,0],[3.783,-14.117],[4.063,1.089],[-9.577,1.912],[0,0],[-2.696,10.067]],"v":[[11.083,27.391],[-0.928,26.992],[-19.651,-5.436],[-19.593,-5.654],[12.836,-24.376],[23.437,-18.715],[3.005,0.402],[2.947,0.62]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.765,0.235,0.447,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[351.782,415.174],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[19.484,-1.529],[6.764,-25.244],[0,0],[-7.341,-6.43],[4.062,1.089],[-3.786,14.13],[0,0],[-25.915,2.024],[-3.686,19.277],[15.397,9.123],[-4.782,-1.624],[4.042,-21.113]],"o":[[-25.902,2.028],[0,0],[-2.697,10.067],[-3.863,0.773],[-14.13,-3.786],[0,0],[6.765,-25.245],[19.484,-1.53],[3.475,-18.129],[4.823,-0.063],[20.359,6.906],[-3.686,19.278]],"v":[[20.259,1.427],[-34.365,47.024],[-37.272,57.87],[-29.137,84.641],[-41.148,84.244],[-59.871,51.814],[-56.965,40.968],[-2.341,-4.629],[37.003,-39.957],[16.496,-85.352],[30.994,-83.042],[59.615,-33.898]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.765,0.235,0.447,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[412.395,281.819],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[17.193,-40.606],[1.16,-4.331],[-7.341,-6.432],[4.062,1.089],[-3.786,14.13],[-1.744,4.105],[-47.656,-16.18],[-1.653,-0.676]],"o":[[-1.743,4.106],[-2.697,10.067],[-3.863,0.772],[-14.117,-3.783],[1.16,-4.332],[19.566,-46.242],[1.707,0.58],[-42.43,-5.946]],"v":[[-35.786,17.791],[-40.151,30.507],[-32.029,57.275],[-44.04,56.877],[-62.763,24.447],[-58.385,11.736],[61.508,-41.868],[66.549,-39.984]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.765,0.235,0.447,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[376.296,184.433],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[14.126,3.785],[-3.785,14.125],[0,0],[-14.125,-3.785],[3.785,-14.125],[0,0]],"o":[[-14.125,-3.785],[0,0],[3.785,-14.125],[14.125,3.785],[0,0],[-3.785,14.126]],"v":[[-6.882,25.683],[-25.606,-6.747],[-25.549,-6.96],[6.881,-25.683],[25.605,6.747],[25.548,6.959]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.8452,0.4348,0.599,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[357.731,416.485],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[14.125,3.785],[-3.785,14.125],[0,0],[-25.904,2.025],[-3.687,19.278],[20.356,6.908],[8.813,-20.817],[0.528,-1.974],[14.126,3.785],[-3.785,14.125],[-1.74,4.108],[-47.659,-16.184],[8.977,-46.924],[43.208,-3.381],[0.967,-3.61],[0,0]],"o":[[-14.125,-3.785],[0,0],[6.764,-25.246],[19.485,-1.524],[4.039,-21.109],[-21.528,-7.321],[-0.787,1.86],[-3.785,14.125],[-14.125,-3.785],[1.16,-4.331],[19.57,-46.23],[45.247,15.357],[-8.16,42.649],[-3.574,0.279],[0,0],[-3.786,14.124]],"v":[[-38.829,117.948],[-57.553,85.518],[-54.645,74.669],[-0.028,29.074],[39.329,-6.255],[10.706,-55.401],[-43.401,-31.309],[-45.384,-25.53],[-77.815,-6.805],[-96.538,-39.236],[-92.168,-51.952],[27.727,-105.548],[91.346,3.698],[4.102,81.874],[-3.49,88.376],[-6.398,99.225]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.8452,0.4348,0.599,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[410.071,248.117],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":60,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Layer 4 Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[1],"y":[0]},"t":2,"s":[-30]},{"i":{"x":[0],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":12,"s":[15]},{"t":17,"s":[0]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":1},"o":{"x":0.39,"y":0},"t":5,"s":[328,346,0],"to":[0,31.833,0],"ti":[0,-31.833,0]},{"t":23,"s":[328,537,0]}],"ix":2,"l":2},"a":{"a":0,"k":[179.019,417.509,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":2,"s":[0,0,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":12,"s":[120,120,100]},{"t":17,"s":[100,100,100]}],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-9.749,-0.452],[3.854,-1.682],[5.847,13.408],[0,0],[-13.408,5.848],[-3.935,-0.189],[-4.161,-9.541],[0,0]],"o":[[-2.539,3.012],[-13.408,5.848],[0,0],[-5.843,-13.396],[3.855,-1.681],[-6.297,7.465],[0,0],[4.167,9.552]],"v":[[25.214,15.458],[15.575,22.635],[-19.281,8.95],[-19.371,8.743],[-5.686,-26.113],[6.132,-28.294],[2.074,-0.609],[2.164,-0.403]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.26,0.556,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[175.955,418.224],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[14.282,-13.341],[-10.449,-23.956],[0,0],[-9.75,-0.452],[3.855,-1.682],[5.848,13.408],[0,0],[-19.001,17.738],[9.134,17.371],[17.725,-2.464],[-4.751,1.71],[-10.001,-19.028]],"o":[[-18.989,17.733],[0,0],[4.166,9.554],[-2.539,3.012],[-13.408,5.848],[0,0],[-10.448,-23.956],[14.281,-13.343],[-8.585,-16.342],[3.731,-3.056],[20.224,-7.291],[9.134,17.371]],"v":[[19.576,-14.427],[5.289,55.278],[9.777,65.57],[32.828,81.432],[23.188,88.609],[-11.667,74.924],[-16.156,64.632],[-1.87,-5.073],[6.87,-57.223],[-37.463,-79.935],[-24.688,-87.166],[28.328,-66.582]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.26,0.556,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[136.844,280.031],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-11.87,-42.468],[-1.793,-4.11],[-9.75,-0.451],[3.855,-1.681],[5.848,13.408],[1.197,4.297],[-47.348,17.057],[-1.714,0.503]],"o":[[1.196,4.298],[4.166,9.552],[-2.539,3.012],[-13.396,5.843],[-1.792,-4.11],[-13.528,-48.354],[1.696,-0.61],[-36.882,21.801]],"v":[[-5.068,33.709],[-0.555,46.372],[22.483,62.239],[12.843,69.416],[-22.013,55.731],[-26.514,43.063],[33.815,-73.59],[38.931,-75.26]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.26,0.556,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[38.931,225.984],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":4,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[13.404,-5.846],[5.846,13.405],[0,0],[-13.405,5.846],[-5.846,-13.405],[0,0]],"o":[[-13.404,5.846],[0,0],[-5.846,-13.404],[13.404,-5.846],[0,0],[5.846,13.405]],"v":[[10.63,24.372],[-24.228,10.686],[-24.316,10.485],[-10.63,-24.372],[24.227,-10.686],[24.315,-10.485]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.36,0.616,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[180.897,416.49],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[13.405,-5.846],[5.846,13.405],[0,0],[-18.991,17.732],[9.134,17.372],[20.223,-7.288],[-6.088,-21.769],[-0.817,-1.873],[13.405,-5.846],[5.846,13.405],[1.201,4.297],[-47.354,17.057],[-22.231,-42.288],[31.678,-29.578],[-1.494,-3.427],[0,0]],"o":[[-13.404,5.846],[0,0],[-10.449,-23.957],[14.285,-13.339],[-10.002,-19.023],[-21.397,7.696],[0.544,1.946],[5.846,13.404],[-13.404,5.846],[-1.793,-4.109],[-13.517,-48.347],[44.952,-16.199],[20.207,38.434],[-2.621,2.446],[0,0],[5.848,13.405]],"v":[[54.632,113.299],[19.775,99.614],[15.285,89.319],[29.567,19.62],[38.317,-32.539],[-14.701,-53.124],[-41.989,-0.556],[-39.938,5.2],[-53.624,40.057],[-88.481,26.37],[-92.992,13.703],[-32.656,-102.947],[85.191,-57.184],[65.708,58.328],[63.825,68.146],[68.316,78.441]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.36,0.616,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[105.398,255.344],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":4,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":60,"st":0,"bm":0}]}]'),layers=[{ddd:0,ind:1,ty:0,nm:"question-mark",refId:"comp_0",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[241,259,0],ix:2,l:2},a:{a:0,k:[400,400,0],ix:1,l:2},s:{a:0,k:[80,80,100],ix:6,l:2}},ao:0,w:800,h:800,ip:0,op:60,st:0,bm:0}],markers=[],questionMark={v,fr,ip,op,w,h,nm,ddd,assets,layers,markers};var lottie$1={exports:{}},lottie=lottie$1.exports,hasRequiredLottie;function requireLottie(){return hasRequiredLottie||(hasRequiredLottie=1,function(module,exports){typeof document<"u"&&typeof navigator<"u"&&function(qe,f){module.exports=f()}(lottie,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(f){_useWebWorker=!!f},getWebWorker=function(){return _useWebWorker},setLocationHref=function(f){locationHref=f},getLocationHref=function(){return locationHref};function createTag(qe){return document.createElement(qe)}function extendPrototype(qe,f){var ze,Ke=qe.length,Ai;for(ze=0;ze<Ke;ze+=1){Ai=qe[ze].prototype;for(var ln in Ai)Object.prototype.hasOwnProperty.call(Ai,ln)&&(f.prototype[ln]=Ai[ln])}}function getDescriptor(qe,f){return Object.getOwnPropertyDescriptor(qe,f)}function createProxyFunction(qe){function f(){}return f.prototype=qe,f}var audioControllerFactory=function(){function qe(f){this.audios=[],this.audioFactory=f,this._volume=1,this._isMuted=!1}return qe.prototype={addAudio:function(ze){this.audios.push(ze)},pause:function(){var ze,Ke=this.audios.length;for(ze=0;ze<Ke;ze+=1)this.audios[ze].pause()},resume:function(){var ze,Ke=this.audios.length;for(ze=0;ze<Ke;ze+=1)this.audios[ze].resume()},setRate:function(ze){var Ke,Ai=this.audios.length;for(Ke=0;Ke<Ai;Ke+=1)this.audios[Ke].setRate(ze)},createAudio:function(ze){return this.audioFactory?this.audioFactory(ze):window.Howl?new window.Howl({src:[ze]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(ze){this.audioFactory=ze},setVolume:function(ze){this._volume=ze,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var ze,Ke=this.audios.length;for(ze=0;ze<Ke;ze+=1)this.audios[ze].volume(this._volume*(this._isMuted?0:1))}},function(){return new qe}}(),createTypedArray=function(){function qe(ze,Ke){var Ai=0,ln=[],dn;switch(ze){case"int16":case"uint8c":dn=1;break;default:dn=1.1;break}for(Ai=0;Ai<Ke;Ai+=1)ln.push(dn);return ln}function f(ze,Ke){return ze==="float32"?new Float32Array(Ke):ze==="int16"?new Int16Array(Ke):ze==="uint8c"?new Uint8ClampedArray(Ke):qe(ze,Ke)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?f:qe}();function createSizedArray(qe){return Array.apply(null,{length:qe})}function _typeof$6(qe){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},_typeof$6(qe)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var qe=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],f,ze=qe.length;for(f=0;f<ze;f+=1)BMMath[qe[f]]=Math[qe[f]]})(),BMMath.random=Math.random,BMMath.abs=function(qe){var f=_typeof$6(qe);if(f==="object"&&qe.length){var ze=createSizedArray(qe.length),Ke,Ai=qe.length;for(Ke=0;Ke<Ai;Ke+=1)ze[Ke]=Math.abs(qe[Ke]);return ze}return Math.abs(qe)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(qe){qe.style.position="absolute",qe.style.top=0,qe.style.left=0,qe.style.display="block",qe.style.transformOrigin="0 0",qe.style.webkitTransformOrigin="0 0",qe.style.backfaceVisibility="visible",qe.style.webkitBackfaceVisibility="visible",qe.style.transformStyle="preserve-3d",qe.style.webkitTransformStyle="preserve-3d",qe.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(qe,f,ze,Ke){this.type=qe,this.currentTime=f,this.totalTime=ze,this.direction=Ke<0?-1:1}function BMCompleteEvent(qe,f){this.type=qe,this.direction=f<0?-1:1}function BMCompleteLoopEvent(qe,f,ze,Ke){this.type=qe,this.currentLoop=ze,this.totalLoops=f,this.direction=Ke<0?-1:1}function BMSegmentStartEvent(qe,f,ze){this.type=qe,this.firstFrame=f,this.totalFrames=ze}function BMDestroyEvent(qe,f){this.type=qe,this.target=f}function BMRenderFrameErrorEvent(qe,f){this.type="renderFrameError",this.nativeError=qe,this.currentTime=f}function BMConfigErrorEvent(qe){this.type="configError",this.nativeError=qe}var createElementID=function(){var qe=0;return function(){return qe+=1,idPrefix$1+"__lottie_element_"+qe}}();function HSVtoRGB(qe,f,ze){var Ke,Ai,ln,dn,gn,Hn,Kn,Qn;switch(dn=Math.floor(qe*6),gn=qe*6-dn,Hn=ze*(1-f),Kn=ze*(1-gn*f),Qn=ze*(1-(1-gn)*f),dn%6){case 0:Ke=ze,Ai=Qn,ln=Hn;break;case 1:Ke=Kn,Ai=ze,ln=Hn;break;case 2:Ke=Hn,Ai=ze,ln=Qn;break;case 3:Ke=Hn,Ai=Kn,ln=ze;break;case 4:Ke=Qn,Ai=Hn,ln=ze;break;case 5:Ke=ze,Ai=Hn,ln=Kn;break}return[Ke,Ai,ln]}function RGBtoHSV(qe,f,ze){var Ke=Math.max(qe,f,ze),Ai=Math.min(qe,f,ze),ln=Ke-Ai,dn,gn=Ke===0?0:ln/Ke,Hn=Ke/255;switch(Ke){case Ai:dn=0;break;case qe:dn=f-ze+ln*(f<ze?6:0),dn/=6*ln;break;case f:dn=ze-qe+ln*2,dn/=6*ln;break;case ze:dn=qe-f+ln*4,dn/=6*ln;break}return[dn,gn,Hn]}function addSaturationToRGB(qe,f){var ze=RGBtoHSV(qe[0]*255,qe[1]*255,qe[2]*255);return ze[1]+=f,ze[1]>1?ze[1]=1:ze[1]<=0&&(ze[1]=0),HSVtoRGB(ze[0],ze[1],ze[2])}function addBrightnessToRGB(qe,f){var ze=RGBtoHSV(qe[0]*255,qe[1]*255,qe[2]*255);return ze[2]+=f,ze[2]>1?ze[2]=1:ze[2]<0&&(ze[2]=0),HSVtoRGB(ze[0],ze[1],ze[2])}function addHueToRGB(qe,f){var ze=RGBtoHSV(qe[0]*255,qe[1]*255,qe[2]*255);return ze[0]+=f/360,ze[0]>1?ze[0]-=1:ze[0]<0&&(ze[0]+=1),HSVtoRGB(ze[0],ze[1],ze[2])}var rgbToHex=function(){var qe=[],f,ze;for(f=0;f<256;f+=1)ze=f.toString(16),qe[f]=ze.length===1?"0"+ze:ze;return function(Ke,Ai,ln){return Ke<0&&(Ke=0),Ai<0&&(Ai=0),ln<0&&(ln=0),"#"+qe[Ke]+qe[Ai]+qe[ln]}}(),setSubframeEnabled=function(f){subframeEnabled=!!f},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(f){expressionsPlugin=f},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(f){expressionsInterfaces=f},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(f){defaultCurveSegments=f},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(f){idPrefix$1=f};function createNS(qe){return document.createElementNS(svgNS,qe)}function _typeof$5(qe){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},_typeof$5(qe)}var dataManager=function(){var qe=1,f=[],ze,Ke,Ai={onmessage:function(){},postMessage:function(Cs){ze({data:Cs})}},ln={postMessage:function(Cs){Ai.onmessage({data:Cs})}};function dn(vs){if(window.Worker&&window.Blob&&getWebWorker()){var Cs=new Blob(["var _workerSelf = self; self.onmessage = ",vs.toString()],{type:"text/javascript"}),bs=URL.createObjectURL(Cs);return new Worker(bs)}return ze=vs,Ai}function gn(){Ke||(Ke=dn(function(Cs){function bs(){function la(Ma,ua){var ya,ca,da=Ma.length,pa,xa,Oa,Ja;for(ca=0;ca<da;ca+=1)if(ya=Ma[ca],"ks"in ya&&!ya.completed){if(ya.completed=!0,ya.hasMask){var rl=ya.masksProperties;for(xa=rl.length,pa=0;pa<xa;pa+=1)if(rl[pa].pt.k.i)oa(rl[pa].pt.k);else for(Ja=rl[pa].pt.k.length,Oa=0;Oa<Ja;Oa+=1)rl[pa].pt.k[Oa].s&&oa(rl[pa].pt.k[Oa].s[0]),rl[pa].pt.k[Oa].e&&oa(rl[pa].pt.k[Oa].e[0])}ya.ty===0?(ya.layers=na(ya.refId,ua),la(ya.layers,ua)):ya.ty===4?aa(ya.shapes):ya.ty===5&&Qa(ya)}}function ra(Ma,ua){if(Ma){var ya=0,ca=Ma.length;for(ya=0;ya<ca;ya+=1)Ma[ya].t===1&&(Ma[ya].data.layers=na(Ma[ya].data.refId,ua),la(Ma[ya].data.layers,ua))}}function sa(Ma,ua){for(var ya=0,ca=ua.length;ya<ca;){if(ua[ya].id===Ma)return ua[ya];ya+=1}return null}function na(Ma,ua){var ya=sa(Ma,ua);return ya?ya.layers.__used?JSON.parse(JSON.stringify(ya.layers)):(ya.layers.__used=!0,ya.layers):null}function aa(Ma){var ua,ya=Ma.length,ca,da;for(ua=ya-1;ua>=0;ua-=1)if(Ma[ua].ty==="sh")if(Ma[ua].ks.k.i)oa(Ma[ua].ks.k);else for(da=Ma[ua].ks.k.length,ca=0;ca<da;ca+=1)Ma[ua].ks.k[ca].s&&oa(Ma[ua].ks.k[ca].s[0]),Ma[ua].ks.k[ca].e&&oa(Ma[ua].ks.k[ca].e[0]);else Ma[ua].ty==="gr"&&aa(Ma[ua].it)}function oa(Ma){var ua,ya=Ma.i.length;for(ua=0;ua<ya;ua+=1)Ma.i[ua][0]+=Ma.v[ua][0],Ma.i[ua][1]+=Ma.v[ua][1],Ma.o[ua][0]+=Ma.v[ua][0],Ma.o[ua][1]+=Ma.v[ua][1]}function ha(Ma,ua){var ya=ua?ua.split("."):[100,100,100];return Ma[0]>ya[0]?!0:ya[0]>Ma[0]?!1:Ma[1]>ya[1]?!0:ya[1]>Ma[1]?!1:Ma[2]>ya[2]?!0:ya[2]>Ma[2]?!1:null}var ga=function(){var Ma=[4,4,14];function ua(ca){var da=ca.t.d;ca.t.d={k:[{s:da,t:0}]}}function ya(ca){var da,pa=ca.length;for(da=0;da<pa;da+=1)ca[da].ty===5&&ua(ca[da])}return function(ca){if(ha(Ma,ca.v)&&(ya(ca.layers),ca.assets)){var da,pa=ca.assets.length;for(da=0;da<pa;da+=1)ca.assets[da].layers&&ya(ca.assets[da].layers)}}}(),va=function(){var Ma=[4,7,99];return function(ua){if(ua.chars&&!ha(Ma,ua.v)){var ya,ca=ua.chars.length;for(ya=0;ya<ca;ya+=1){var da=ua.chars[ya];da.data&&da.data.shapes&&(aa(da.data.shapes),da.data.ip=0,da.data.op=99999,da.data.st=0,da.data.sr=1,da.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},ua.chars[ya].t||(da.data.shapes.push({ty:"no"}),da.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),Sa=function(){var Ma=[5,7,15];function ua(ca){var da=ca.t.p;typeof da.a=="number"&&(da.a={a:0,k:da.a}),typeof da.p=="number"&&(da.p={a:0,k:da.p}),typeof da.r=="number"&&(da.r={a:0,k:da.r})}function ya(ca){var da,pa=ca.length;for(da=0;da<pa;da+=1)ca[da].ty===5&&ua(ca[da])}return function(ca){if(ha(Ma,ca.v)&&(ya(ca.layers),ca.assets)){var da,pa=ca.assets.length;for(da=0;da<pa;da+=1)ca.assets[da].layers&&ya(ca.assets[da].layers)}}}(),tl=function(){var Ma=[4,1,9];function ua(ca){var da,pa=ca.length,xa,Oa;for(da=0;da<pa;da+=1)if(ca[da].ty==="gr")ua(ca[da].it);else if(ca[da].ty==="fl"||ca[da].ty==="st")if(ca[da].c.k&&ca[da].c.k[0].i)for(Oa=ca[da].c.k.length,xa=0;xa<Oa;xa+=1)ca[da].c.k[xa].s&&(ca[da].c.k[xa].s[0]/=255,ca[da].c.k[xa].s[1]/=255,ca[da].c.k[xa].s[2]/=255,ca[da].c.k[xa].s[3]/=255),ca[da].c.k[xa].e&&(ca[da].c.k[xa].e[0]/=255,ca[da].c.k[xa].e[1]/=255,ca[da].c.k[xa].e[2]/=255,ca[da].c.k[xa].e[3]/=255);else ca[da].c.k[0]/=255,ca[da].c.k[1]/=255,ca[da].c.k[2]/=255,ca[da].c.k[3]/=255}function ya(ca){var da,pa=ca.length;for(da=0;da<pa;da+=1)ca[da].ty===4&&ua(ca[da].shapes)}return function(ca){if(ha(Ma,ca.v)&&(ya(ca.layers),ca.assets)){var da,pa=ca.assets.length;for(da=0;da<pa;da+=1)ca.assets[da].layers&&ya(ca.assets[da].layers)}}}(),Zo=function(){var Ma=[4,4,18];function ua(ca){var da,pa=ca.length,xa,Oa;for(da=pa-1;da>=0;da-=1)if(ca[da].ty==="sh")if(ca[da].ks.k.i)ca[da].ks.k.c=ca[da].closed;else for(Oa=ca[da].ks.k.length,xa=0;xa<Oa;xa+=1)ca[da].ks.k[xa].s&&(ca[da].ks.k[xa].s[0].c=ca[da].closed),ca[da].ks.k[xa].e&&(ca[da].ks.k[xa].e[0].c=ca[da].closed);else ca[da].ty==="gr"&&ua(ca[da].it)}function ya(ca){var da,pa,xa=ca.length,Oa,Ja,rl,hl;for(pa=0;pa<xa;pa+=1){if(da=ca[pa],da.hasMask){var al=da.masksProperties;for(Ja=al.length,Oa=0;Oa<Ja;Oa+=1)if(al[Oa].pt.k.i)al[Oa].pt.k.c=al[Oa].cl;else for(hl=al[Oa].pt.k.length,rl=0;rl<hl;rl+=1)al[Oa].pt.k[rl].s&&(al[Oa].pt.k[rl].s[0].c=al[Oa].cl),al[Oa].pt.k[rl].e&&(al[Oa].pt.k[rl].e[0].c=al[Oa].cl)}da.ty===4&&ua(da.shapes)}}return function(ca){if(ha(Ma,ca.v)&&(ya(ca.layers),ca.assets)){var da,pa=ca.assets.length;for(da=0;da<pa;da+=1)ca.assets[da].layers&&ya(ca.assets[da].layers)}}}();function Ta(Ma){Ma.__complete||(tl(Ma),ga(Ma),va(Ma),Sa(Ma),Zo(Ma),la(Ma.layers,Ma.assets),ra(Ma.chars,Ma.assets),Ma.__complete=!0)}function Qa(Ma){Ma.t.a.length===0&&"m"in Ma.t.p}var $a={};return $a.completeData=Ta,$a.checkColors=tl,$a.checkChars=va,$a.checkPathProperties=Sa,$a.checkShapes=Zo,$a.completeLayers=la,$a}if(ln.dataManager||(ln.dataManager=bs()),ln.assetLoader||(ln.assetLoader=function(){function la(sa){var na=sa.getResponseHeader("content-type");return na&&sa.responseType==="json"&&na.indexOf("json")!==-1||sa.response&&_typeof$5(sa.response)==="object"?sa.response:sa.response&&typeof sa.response=="string"?JSON.parse(sa.response):sa.responseText?JSON.parse(sa.responseText):null}function ra(sa,na,aa,oa){var ha,ga=new XMLHttpRequest;try{ga.responseType="json"}catch{}ga.onreadystatechange=function(){if(ga.readyState===4)if(ga.status===200)ha=la(ga),aa(ha);else try{ha=la(ga),aa(ha)}catch(va){oa&&oa(va)}};try{ga.open(["G","E","T"].join(""),sa,!0)}catch{ga.open(["G","E","T"].join(""),na+"/"+sa,!0)}ga.send()}return{load:ra}}()),Cs.data.type==="loadAnimation")ln.assetLoader.load(Cs.data.path,Cs.data.fullPath,function(la){ln.dataManager.completeData(la),ln.postMessage({id:Cs.data.id,payload:la,status:"success"})},function(){ln.postMessage({id:Cs.data.id,status:"error"})});else if(Cs.data.type==="complete"){var ia=Cs.data.animation;ln.dataManager.completeData(ia),ln.postMessage({id:Cs.data.id,payload:ia,status:"success"})}else Cs.data.type==="loadData"&&ln.assetLoader.load(Cs.data.path,Cs.data.fullPath,function(la){ln.postMessage({id:Cs.data.id,payload:la,status:"success"})},function(){ln.postMessage({id:Cs.data.id,status:"error"})})}),Ke.onmessage=function(vs){var Cs=vs.data,bs=Cs.id,ia=f[bs];f[bs]=null,Cs.status==="success"?ia.onComplete(Cs.payload):ia.onError&&ia.onError()})}function Hn(vs,Cs){qe+=1;var bs="processId_"+qe;return f[bs]={onComplete:vs,onError:Cs},bs}function Kn(vs,Cs,bs){gn();var ia=Hn(Cs,bs);Ke.postMessage({type:"loadAnimation",path:vs,fullPath:window.location.origin+window.location.pathname,id:ia})}function Qn(vs,Cs,bs){gn();var ia=Hn(Cs,bs);Ke.postMessage({type:"loadData",path:vs,fullPath:window.location.origin+window.location.pathname,id:ia})}function ys(vs,Cs,bs){gn();var ia=Hn(Cs,bs);Ke.postMessage({type:"complete",animation:vs,id:ia})}return{loadAnimation:Kn,loadData:Qn,completeAnimation:ys}}(),ImagePreloader=function(){var qe=function(){var ra=createTag("canvas");ra.width=1,ra.height=1;var sa=ra.getContext("2d");return sa.fillStyle="rgba(0,0,0,0)",sa.fillRect(0,0,1,1),ra}();function f(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function ze(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function Ke(ra,sa,na){var aa="";if(ra.e)aa=ra.p;else if(sa){var oa=ra.p;oa.indexOf("images/")!==-1&&(oa=oa.split("/")[1]),aa=sa+oa}else aa=na,aa+=ra.u?ra.u:"",aa+=ra.p;return aa}function Ai(ra){var sa=0,na=setInterval((function(){var aa=ra.getBBox();(aa.width||sa>500)&&(this._imageLoaded(),clearInterval(na)),sa+=1}).bind(this),50)}function ln(ra){var sa=Ke(ra,this.assetsPath,this.path),na=createNS("image");isSafari?this.testImageLoaded(na):na.addEventListener("load",this._imageLoaded,!1),na.addEventListener("error",(function(){aa.img=qe,this._imageLoaded()}).bind(this),!1),na.setAttributeNS("http://www.w3.org/1999/xlink","href",sa),this._elementHelper.append?this._elementHelper.append(na):this._elementHelper.appendChild(na);var aa={img:na,assetData:ra};return aa}function dn(ra){var sa=Ke(ra,this.assetsPath,this.path),na=createTag("img");na.crossOrigin="anonymous",na.addEventListener("load",this._imageLoaded,!1),na.addEventListener("error",(function(){aa.img=qe,this._imageLoaded()}).bind(this),!1),na.src=sa;var aa={img:na,assetData:ra};return aa}function gn(ra){var sa={assetData:ra},na=Ke(ra,this.assetsPath,this.path);return dataManager.loadData(na,(function(aa){sa.img=aa,this._footageLoaded()}).bind(this),(function(){sa.img={},this._footageLoaded()}).bind(this)),sa}function Hn(ra,sa){this.imagesLoadedCb=sa;var na,aa=ra.length;for(na=0;na<aa;na+=1)ra[na].layers||(!ra[na].t||ra[na].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(ra[na]))):ra[na].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(ra[na]))))}function Kn(ra){this.path=ra||""}function Qn(ra){this.assetsPath=ra||""}function ys(ra){for(var sa=0,na=this.images.length;sa<na;){if(this.images[sa].assetData===ra)return this.images[sa].img;sa+=1}return null}function vs(){this.imagesLoadedCb=null,this.images.length=0}function Cs(){return this.totalImages===this.loadedAssets}function bs(){return this.totalFootages===this.loadedFootagesCount}function ia(ra,sa){ra==="svg"?(this._elementHelper=sa,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function la(){this._imageLoaded=f.bind(this),this._footageLoaded=ze.bind(this),this.testImageLoaded=Ai.bind(this),this.createFootageData=gn.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return la.prototype={loadAssets:Hn,setAssetsPath:Qn,setPath:Kn,loadedImages:Cs,loadedFootages:bs,destroy:vs,getAsset:ys,createImgData:dn,createImageData:ln,imageLoaded:f,footageLoaded:ze,setCacheType:ia},la}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(f,ze){if(this._cbs[f])for(var Ke=this._cbs[f],Ai=0;Ai<Ke.length;Ai+=1)Ke[Ai](ze)},addEventListener:function(f,ze){return this._cbs[f]||(this._cbs[f]=[]),this._cbs[f].push(ze),(function(){this.removeEventListener(f,ze)}).bind(this)},removeEventListener:function(f,ze){if(!ze)this._cbs[f]=null;else if(this._cbs[f]){for(var Ke=0,Ai=this._cbs[f].length;Ke<Ai;)this._cbs[f][Ke]===ze&&(this._cbs[f].splice(Ke,1),Ke-=1,Ai-=1),Ke+=1;this._cbs[f].length||(this._cbs[f]=null)}}};var markerParser=function(){function qe(f){for(var ze=f.split(`\r
`),Ke={},Ai,ln=0,dn=0;dn<ze.length;dn+=1)Ai=ze[dn].split(":"),Ai.length===2&&(Ke[Ai[0]]=Ai[1].trim(),ln+=1);if(ln===0)throw new Error;return Ke}return function(f){for(var ze=[],Ke=0;Ke<f.length;Ke+=1){var Ai=f[Ke],ln={time:Ai.tm,duration:Ai.dr};try{ln.payload=JSON.parse(f[Ke].cm)}catch{try{ln.payload=qe(f[Ke].cm)}catch{ln.payload={name:f[Ke].cm}}}ze.push(ln)}return ze}}(),ProjectInterface=function(){function qe(f){this.compositions.push(f)}return function(){function f(ze){for(var Ke=0,Ai=this.compositions.length;Ke<Ai;){if(this.compositions[Ke].data&&this.compositions[Ke].data.nm===ze)return this.compositions[Ke].prepareFrame&&this.compositions[Ke].data.xt&&this.compositions[Ke].prepareFrame(this.currentFrame),this.compositions[Ke].compInterface;Ke+=1}return null}return f.compositions=[],f.currentFrame=0,f.registerComposition=qe,f}}(),renderers={},registerRenderer=function(f,ze){renderers[f]=ze};function getRenderer(qe){return renderers[qe]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var qe in renderers)if(renderers[qe])return qe;return""}function _typeof$4(qe){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},_typeof$4(qe)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(qe){(qe.wrapper||qe.container)&&(this.wrapper=qe.wrapper||qe.container);var f="svg";qe.animType?f=qe.animType:qe.renderer&&(f=qe.renderer);var ze=getRenderer(f);this.renderer=new ze(this,qe.rendererSettings),this.imagePreloader.setCacheType(f,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=f,qe.loop===""||qe.loop===null||qe.loop===void 0||qe.loop===!0?this.loop=!0:qe.loop===!1?this.loop=!1:this.loop=parseInt(qe.loop,10),this.autoplay="autoplay"in qe?qe.autoplay:!0,this.name=qe.name?qe.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(qe,"autoloadSegments")?qe.autoloadSegments:!0,this.assetsPath=qe.assetsPath,this.initialSegment=qe.initialSegment,qe.audioFactory&&this.audioController.setAudioFactory(qe.audioFactory),qe.animationData?this.setupAnimation(qe.animationData):qe.path&&(qe.path.lastIndexOf("\\")!==-1?this.path=qe.path.substr(0,qe.path.lastIndexOf("\\")+1):this.path=qe.path.substr(0,qe.path.lastIndexOf("/")+1),this.fileName=qe.path.substr(qe.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(qe.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(qe){dataManager.completeAnimation(qe,this.configAnimation)},AnimationItem.prototype.setData=function(qe,f){f&&_typeof$4(f)!=="object"&&(f=JSON.parse(f));var ze={wrapper:qe,animationData:f},Ke=qe.attributes;ze.path=Ke.getNamedItem("data-animation-path")?Ke.getNamedItem("data-animation-path").value:Ke.getNamedItem("data-bm-path")?Ke.getNamedItem("data-bm-path").value:Ke.getNamedItem("bm-path")?Ke.getNamedItem("bm-path").value:"",ze.animType=Ke.getNamedItem("data-anim-type")?Ke.getNamedItem("data-anim-type").value:Ke.getNamedItem("data-bm-type")?Ke.getNamedItem("data-bm-type").value:Ke.getNamedItem("bm-type")?Ke.getNamedItem("bm-type").value:Ke.getNamedItem("data-bm-renderer")?Ke.getNamedItem("data-bm-renderer").value:Ke.getNamedItem("bm-renderer")?Ke.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var Ai=Ke.getNamedItem("data-anim-loop")?Ke.getNamedItem("data-anim-loop").value:Ke.getNamedItem("data-bm-loop")?Ke.getNamedItem("data-bm-loop").value:Ke.getNamedItem("bm-loop")?Ke.getNamedItem("bm-loop").value:"";Ai==="false"?ze.loop=!1:Ai==="true"?ze.loop=!0:Ai!==""&&(ze.loop=parseInt(Ai,10));var ln=Ke.getNamedItem("data-anim-autoplay")?Ke.getNamedItem("data-anim-autoplay").value:Ke.getNamedItem("data-bm-autoplay")?Ke.getNamedItem("data-bm-autoplay").value:Ke.getNamedItem("bm-autoplay")?Ke.getNamedItem("bm-autoplay").value:!0;ze.autoplay=ln!=="false",ze.name=Ke.getNamedItem("data-name")?Ke.getNamedItem("data-name").value:Ke.getNamedItem("data-bm-name")?Ke.getNamedItem("data-bm-name").value:Ke.getNamedItem("bm-name")?Ke.getNamedItem("bm-name").value:"";var dn=Ke.getNamedItem("data-anim-prerender")?Ke.getNamedItem("data-anim-prerender").value:Ke.getNamedItem("data-bm-prerender")?Ke.getNamedItem("data-bm-prerender").value:Ke.getNamedItem("bm-prerender")?Ke.getNamedItem("bm-prerender").value:"";dn==="false"&&(ze.prerender=!1),ze.path?this.setParams(ze):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(qe){qe.op>this.animationData.op&&(this.animationData.op=qe.op,this.totalFrames=Math.floor(qe.op-this.animationData.ip));var f=this.animationData.layers,ze,Ke=f.length,Ai=qe.layers,ln,dn=Ai.length;for(ln=0;ln<dn;ln+=1)for(ze=0;ze<Ke;){if(f[ze].id===Ai[ln].id){f[ze]=Ai[ln];break}ze+=1}if((qe.chars||qe.fonts)&&(this.renderer.globalData.fontManager.addChars(qe.chars),this.renderer.globalData.fontManager.addFonts(qe.fonts,this.renderer.globalData.defs)),qe.assets)for(Ke=qe.assets.length,ze=0;ze<Ke;ze+=1)this.animationData.assets.push(qe.assets[ze]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(qe){this.animationData=qe;var f=getExpressionsPlugin();f&&f.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var qe=this.animationData.segments;if(!qe||qe.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var f=qe.shift();this.timeCompleted=f.time*this.frameRate;var ze=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(ze,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var qe=this.animationData.segments;qe||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(qe){if(this.renderer)try{this.animationData=qe,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(qe),qe.assets||(qe.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(qe.assets),this.markers=markerParser(qe.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(f){this.triggerConfigError(f)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var qe=getExpressionsPlugin();qe&&qe.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(qe,f){var ze=typeof qe=="number"?qe:void 0,Ke=typeof f=="number"?f:void 0;this.renderer.updateContainerSize(ze,Ke)},AnimationItem.prototype.setSubframe=function(qe){this.isSubframeEnabled=!!qe},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(qe){this.triggerRenderFrameError(qe)}},AnimationItem.prototype.play=function(qe){qe&&this.name!==qe||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(qe){qe&&this.name!==qe||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(qe){qe&&this.name!==qe||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(qe){qe&&this.name!==qe||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(qe){for(var f,ze=0;ze<this.markers.length;ze+=1)if(f=this.markers[ze],f.payload&&f.payload.name===qe)return f;return null},AnimationItem.prototype.goToAndStop=function(qe,f,ze){if(!(ze&&this.name!==ze)){var Ke=Number(qe);if(isNaN(Ke)){var Ai=this.getMarkerData(qe);Ai&&this.goToAndStop(Ai.time,!0)}else f?this.setCurrentRawFrameValue(qe):this.setCurrentRawFrameValue(qe*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(qe,f,ze){if(!(ze&&this.name!==ze)){var Ke=Number(qe);if(isNaN(Ke)){var Ai=this.getMarkerData(qe);Ai&&(Ai.duration?this.playSegments([Ai.time,Ai.time+Ai.duration],!0):this.goToAndStop(Ai.time,!0))}else this.goToAndStop(Ke,f,ze);this.play()}},AnimationItem.prototype.advanceTime=function(qe){if(!(this.isPaused===!0||this.isLoaded===!1)){var f=this.currentRawFrame+qe*this.frameModifier,ze=!1;f>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(f>this.totalFrames?f%this.totalFrames:0)||(ze=!0,f=this.totalFrames-1):f>=this.totalFrames?(this.playCount+=1,this.checkSegments(f%this.totalFrames)||(this.setCurrentRawFrameValue(f%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(f):f<0?this.checkSegments(f%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+f%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(ze=!0,f=0)):this.setCurrentRawFrameValue(f),ze&&(this.setCurrentRawFrameValue(f),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(qe,f){this.playCount=0,qe[1]<qe[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=qe[0]-qe[1],this.timeCompleted=this.totalFrames,this.firstFrame=qe[1],this.setCurrentRawFrameValue(this.totalFrames-.001-f)):qe[1]>qe[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=qe[1]-qe[0],this.timeCompleted=this.totalFrames,this.firstFrame=qe[0],this.setCurrentRawFrameValue(.001+f)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(qe,f){var ze=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<qe?ze=qe:this.currentRawFrame+this.firstFrame>f&&(ze=f-qe)),this.firstFrame=qe,this.totalFrames=f-qe,this.timeCompleted=this.totalFrames,ze!==-1&&this.goToAndStop(ze,!0)},AnimationItem.prototype.playSegments=function(qe,f){if(f&&(this.segments.length=0),_typeof$4(qe[0])==="object"){var ze,Ke=qe.length;for(ze=0;ze<Ke;ze+=1)this.segments.push(qe[ze])}else this.segments.push(qe);this.segments.length&&f&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(qe){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),qe&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(qe){return this.segments.length?(this.adjustSegment(this.segments.shift(),qe),!0):!1},AnimationItem.prototype.destroy=function(qe){qe&&this.name!==qe||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(qe){this.currentRawFrame=qe,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(qe){this.playSpeed=qe,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(qe){this.playDirection=qe<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(qe){this.loop=qe},AnimationItem.prototype.setVolume=function(qe,f){f&&this.name!==f||this.audioController.setVolume(qe)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(qe){qe&&this.name!==qe||this.audioController.mute()},AnimationItem.prototype.unmute=function(qe){qe&&this.name!==qe||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(qe){var f="";if(qe.e)f=qe.p;else if(this.assetsPath){var ze=qe.p;ze.indexOf("images/")!==-1&&(ze=ze.split("/")[1]),f=this.assetsPath+ze}else f=this.path,f+=qe.u?qe.u:"",f+=qe.p;return f},AnimationItem.prototype.getAssetData=function(qe){for(var f=0,ze=this.assets.length;f<ze;){if(qe===this.assets[f].id)return this.assets[f];f+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(qe){return qe?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(qe,f,ze){try{var Ke=this.renderer.getElementByPath(qe);Ke.updateDocumentData(f,ze)}catch{}},AnimationItem.prototype.trigger=function(qe){if(this._cbs&&this._cbs[qe])switch(qe){case"enterFrame":this.triggerEvent(qe,new BMEnterFrameEvent(qe,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(qe,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(qe,new BMCompleteLoopEvent(qe,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(qe,new BMCompleteEvent(qe,this.frameMult));break;case"segmentStart":this.triggerEvent(qe,new BMSegmentStartEvent(qe,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(qe,new BMDestroyEvent(qe,this));break;default:this.triggerEvent(qe)}qe==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(qe,this.currentFrame,this.totalFrames,this.frameMult)),qe==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(qe,this.loop,this.playCount,this.frameMult)),qe==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(qe,this.frameMult)),qe==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(qe,this.firstFrame,this.totalFrames)),qe==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(qe,this))},AnimationItem.prototype.triggerRenderFrameError=function(qe){var f=new BMRenderFrameErrorEvent(qe,this.currentFrame);this.triggerEvent("error",f),this.onError&&this.onError.call(this,f)},AnimationItem.prototype.triggerConfigError=function(qe){var f=new BMConfigErrorEvent(qe,this.currentFrame);this.triggerEvent("error",f),this.onError&&this.onError.call(this,f)};var animationManager=function(){var qe={},f=[],ze=0,Ke=0,Ai=0,ln=!0,dn=!1;function gn(ua){for(var ya=0,ca=ua.target;ya<Ke;)f[ya].animation===ca&&(f.splice(ya,1),ya-=1,Ke-=1,ca.isPaused||ys()),ya+=1}function Hn(ua,ya){if(!ua)return null;for(var ca=0;ca<Ke;){if(f[ca].elem===ua&&f[ca].elem!==null)return f[ca].animation;ca+=1}var da=new AnimationItem;return vs(da,ua),da.setData(ua,ya),da}function Kn(){var ua,ya=f.length,ca=[];for(ua=0;ua<ya;ua+=1)ca.push(f[ua].animation);return ca}function Qn(){Ai+=1,tl()}function ys(){Ai-=1}function vs(ua,ya){ua.addEventListener("destroy",gn),ua.addEventListener("_active",Qn),ua.addEventListener("_idle",ys),f.push({elem:ya,animation:ua}),Ke+=1}function Cs(ua){var ya=new AnimationItem;return vs(ya,null),ya.setParams(ua),ya}function bs(ua,ya){var ca;for(ca=0;ca<Ke;ca+=1)f[ca].animation.setSpeed(ua,ya)}function ia(ua,ya){var ca;for(ca=0;ca<Ke;ca+=1)f[ca].animation.setDirection(ua,ya)}function la(ua){var ya;for(ya=0;ya<Ke;ya+=1)f[ya].animation.play(ua)}function ra(ua){var ya=ua-ze,ca;for(ca=0;ca<Ke;ca+=1)f[ca].animation.advanceTime(ya);ze=ua,Ai&&!dn?window.requestAnimationFrame(ra):ln=!0}function sa(ua){ze=ua,window.requestAnimationFrame(ra)}function na(ua){var ya;for(ya=0;ya<Ke;ya+=1)f[ya].animation.pause(ua)}function aa(ua,ya,ca){var da;for(da=0;da<Ke;da+=1)f[da].animation.goToAndStop(ua,ya,ca)}function oa(ua){var ya;for(ya=0;ya<Ke;ya+=1)f[ya].animation.stop(ua)}function ha(ua){var ya;for(ya=0;ya<Ke;ya+=1)f[ya].animation.togglePause(ua)}function ga(ua){var ya;for(ya=Ke-1;ya>=0;ya-=1)f[ya].animation.destroy(ua)}function va(ua,ya,ca){var da=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),pa,xa=da.length;for(pa=0;pa<xa;pa+=1)ca&&da[pa].setAttribute("data-bm-type",ca),Hn(da[pa],ua);if(ya&&xa===0){ca||(ca="svg");var Oa=document.getElementsByTagName("body")[0];Oa.innerText="";var Ja=createTag("div");Ja.style.width="100%",Ja.style.height="100%",Ja.setAttribute("data-bm-type",ca),Oa.appendChild(Ja),Hn(Ja,ua)}}function Sa(){var ua;for(ua=0;ua<Ke;ua+=1)f[ua].animation.resize()}function tl(){!dn&&Ai&&ln&&(window.requestAnimationFrame(sa),ln=!1)}function Zo(){dn=!0}function Ta(){dn=!1,tl()}function Qa(ua,ya){var ca;for(ca=0;ca<Ke;ca+=1)f[ca].animation.setVolume(ua,ya)}function $a(ua){var ya;for(ya=0;ya<Ke;ya+=1)f[ya].animation.mute(ua)}function Ma(ua){var ya;for(ya=0;ya<Ke;ya+=1)f[ya].animation.unmute(ua)}return qe.registerAnimation=Hn,qe.loadAnimation=Cs,qe.setSpeed=bs,qe.setDirection=ia,qe.play=la,qe.pause=na,qe.stop=oa,qe.togglePause=ha,qe.searchAnimations=va,qe.resize=Sa,qe.goToAndStop=aa,qe.destroy=ga,qe.freeze=Zo,qe.unfreeze=Ta,qe.setVolume=Qa,qe.mute=$a,qe.unmute=Ma,qe.getRegisteredAnimations=Kn,qe}(),BezierFactory=function(){var qe={};qe.getBezierEasing=ze;var f={};function ze(sa,na,aa,oa,ha){var ga=ha||("bez_"+sa+"_"+na+"_"+aa+"_"+oa).replace(/\./g,"p");if(f[ga])return f[ga];var va=new ra([sa,na,aa,oa]);return f[ga]=va,va}var Ke=4,Ai=.001,ln=1e-7,dn=10,gn=11,Hn=1/(gn-1),Kn=typeof Float32Array=="function";function Qn(sa,na){return 1-3*na+3*sa}function ys(sa,na){return 3*na-6*sa}function vs(sa){return 3*sa}function Cs(sa,na,aa){return((Qn(na,aa)*sa+ys(na,aa))*sa+vs(na))*sa}function bs(sa,na,aa){return 3*Qn(na,aa)*sa*sa+2*ys(na,aa)*sa+vs(na)}function ia(sa,na,aa,oa,ha){var ga,va,Sa=0;do va=na+(aa-na)/2,ga=Cs(va,oa,ha)-sa,ga>0?aa=va:na=va;while(Math.abs(ga)>ln&&++Sa<dn);return va}function la(sa,na,aa,oa){for(var ha=0;ha<Ke;++ha){var ga=bs(na,aa,oa);if(ga===0)return na;var va=Cs(na,aa,oa)-sa;na-=va/ga}return na}function ra(sa){this._p=sa,this._mSampleValues=Kn?new Float32Array(gn):new Array(gn),this._precomputed=!1,this.get=this.get.bind(this)}return ra.prototype={get:function(na){var aa=this._p[0],oa=this._p[1],ha=this._p[2],ga=this._p[3];return this._precomputed||this._precompute(),aa===oa&&ha===ga?na:na===0?0:na===1?1:Cs(this._getTForX(na),oa,ga)},_precompute:function(){var na=this._p[0],aa=this._p[1],oa=this._p[2],ha=this._p[3];this._precomputed=!0,(na!==aa||oa!==ha)&&this._calcSampleValues()},_calcSampleValues:function(){for(var na=this._p[0],aa=this._p[2],oa=0;oa<gn;++oa)this._mSampleValues[oa]=Cs(oa*Hn,na,aa)},_getTForX:function(na){for(var aa=this._p[0],oa=this._p[2],ha=this._mSampleValues,ga=0,va=1,Sa=gn-1;va!==Sa&&ha[va]<=na;++va)ga+=Hn;--va;var tl=(na-ha[va])/(ha[va+1]-ha[va]),Zo=ga+tl*Hn,Ta=bs(Zo,aa,oa);return Ta>=Ai?la(na,Zo,aa,oa):Ta===0?Zo:ia(na,ga,ga+Hn,aa,oa)}},qe}(),pooling=function(){function qe(f){return f.concat(createSizedArray(f.length))}return{double:qe}}(),poolFactory=function(){return function(qe,f,ze){var Ke=0,Ai=qe,ln=createSizedArray(Ai),dn={newElement:gn,release:Hn};function gn(){var Kn;return Ke?(Ke-=1,Kn=ln[Ke]):Kn=f(),Kn}function Hn(Kn){Ke===Ai&&(ln=pooling.double(ln),Ai*=2),ze&&ze(Kn),ln[Ke]=Kn,Ke+=1}return dn}}(),bezierLengthPool=function(){function qe(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,qe)}(),segmentsLengthPool=function(){function qe(){return{lengths:[],totalLength:0}}function f(ze){var Ke,Ai=ze.lengths.length;for(Ke=0;Ke<Ai;Ke+=1)bezierLengthPool.release(ze.lengths[Ke]);ze.lengths.length=0}return poolFactory(8,qe,f)}();function bezFunction(){var qe=Math;function f(vs,Cs,bs,ia,la,ra){var sa=vs*ia+Cs*la+bs*ra-la*ia-ra*vs-bs*Cs;return sa>-.001&&sa<.001}function ze(vs,Cs,bs,ia,la,ra,sa,na,aa){if(bs===0&&ra===0&&aa===0)return f(vs,Cs,ia,la,sa,na);var oa=qe.sqrt(qe.pow(ia-vs,2)+qe.pow(la-Cs,2)+qe.pow(ra-bs,2)),ha=qe.sqrt(qe.pow(sa-vs,2)+qe.pow(na-Cs,2)+qe.pow(aa-bs,2)),ga=qe.sqrt(qe.pow(sa-ia,2)+qe.pow(na-la,2)+qe.pow(aa-ra,2)),va;return oa>ha?oa>ga?va=oa-ha-ga:va=ga-ha-oa:ga>ha?va=ga-ha-oa:va=ha-oa-ga,va>-1e-4&&va<1e-4}var Ke=function(){return function(vs,Cs,bs,ia){var la=getDefaultCurveSegments(),ra,sa,na,aa,oa,ha=0,ga,va=[],Sa=[],tl=bezierLengthPool.newElement();for(na=bs.length,ra=0;ra<la;ra+=1){for(oa=ra/(la-1),ga=0,sa=0;sa<na;sa+=1)aa=bmPow(1-oa,3)*vs[sa]+3*bmPow(1-oa,2)*oa*bs[sa]+3*(1-oa)*bmPow(oa,2)*ia[sa]+bmPow(oa,3)*Cs[sa],va[sa]=aa,Sa[sa]!==null&&(ga+=bmPow(va[sa]-Sa[sa],2)),Sa[sa]=va[sa];ga&&(ga=bmSqrt(ga),ha+=ga),tl.percents[ra]=oa,tl.lengths[ra]=ha}return tl.addedLength=ha,tl}}();function Ai(vs){var Cs=segmentsLengthPool.newElement(),bs=vs.c,ia=vs.v,la=vs.o,ra=vs.i,sa,na=vs._length,aa=Cs.lengths,oa=0;for(sa=0;sa<na-1;sa+=1)aa[sa]=Ke(ia[sa],ia[sa+1],la[sa],ra[sa+1]),oa+=aa[sa].addedLength;return bs&&na&&(aa[sa]=Ke(ia[sa],ia[0],la[sa],ra[0]),oa+=aa[sa].addedLength),Cs.totalLength=oa,Cs}function ln(vs){this.segmentLength=0,this.points=new Array(vs)}function dn(vs,Cs){this.partialLength=vs,this.point=Cs}var gn=function(){var vs={};return function(Cs,bs,ia,la){var ra=(Cs[0]+"_"+Cs[1]+"_"+bs[0]+"_"+bs[1]+"_"+ia[0]+"_"+ia[1]+"_"+la[0]+"_"+la[1]).replace(/\./g,"p");if(!vs[ra]){var sa=getDefaultCurveSegments(),na,aa,oa,ha,ga,va=0,Sa,tl,Zo=null;Cs.length===2&&(Cs[0]!==bs[0]||Cs[1]!==bs[1])&&f(Cs[0],Cs[1],bs[0],bs[1],Cs[0]+ia[0],Cs[1]+ia[1])&&f(Cs[0],Cs[1],bs[0],bs[1],bs[0]+la[0],bs[1]+la[1])&&(sa=2);var Ta=new ln(sa);for(oa=ia.length,na=0;na<sa;na+=1){for(tl=createSizedArray(oa),ga=na/(sa-1),Sa=0,aa=0;aa<oa;aa+=1)ha=bmPow(1-ga,3)*Cs[aa]+3*bmPow(1-ga,2)*ga*(Cs[aa]+ia[aa])+3*(1-ga)*bmPow(ga,2)*(bs[aa]+la[aa])+bmPow(ga,3)*bs[aa],tl[aa]=ha,Zo!==null&&(Sa+=bmPow(tl[aa]-Zo[aa],2));Sa=bmSqrt(Sa),va+=Sa,Ta.points[na]=new dn(Sa,tl),Zo=tl}Ta.segmentLength=va,vs[ra]=Ta}return vs[ra]}}();function Hn(vs,Cs){var bs=Cs.percents,ia=Cs.lengths,la=bs.length,ra=bmFloor((la-1)*vs),sa=vs*Cs.addedLength,na=0;if(ra===la-1||ra===0||sa===ia[ra])return bs[ra];for(var aa=ia[ra]>sa?-1:1,oa=!0;oa;)if(ia[ra]<=sa&&ia[ra+1]>sa?(na=(sa-ia[ra])/(ia[ra+1]-ia[ra]),oa=!1):ra+=aa,ra<0||ra>=la-1){if(ra===la-1)return bs[ra];oa=!1}return bs[ra]+(bs[ra+1]-bs[ra])*na}function Kn(vs,Cs,bs,ia,la,ra){var sa=Hn(la,ra),na=1-sa,aa=qe.round((na*na*na*vs[0]+(sa*na*na+na*sa*na+na*na*sa)*bs[0]+(sa*sa*na+na*sa*sa+sa*na*sa)*ia[0]+sa*sa*sa*Cs[0])*1e3)/1e3,oa=qe.round((na*na*na*vs[1]+(sa*na*na+na*sa*na+na*na*sa)*bs[1]+(sa*sa*na+na*sa*sa+sa*na*sa)*ia[1]+sa*sa*sa*Cs[1])*1e3)/1e3;return[aa,oa]}var Qn=createTypedArray("float32",8);function ys(vs,Cs,bs,ia,la,ra,sa){la<0?la=0:la>1&&(la=1);var na=Hn(la,sa);ra=ra>1?1:ra;var aa=Hn(ra,sa),oa,ha=vs.length,ga=1-na,va=1-aa,Sa=ga*ga*ga,tl=na*ga*ga*3,Zo=na*na*ga*3,Ta=na*na*na,Qa=ga*ga*va,$a=na*ga*va+ga*na*va+ga*ga*aa,Ma=na*na*va+ga*na*aa+na*ga*aa,ua=na*na*aa,ya=ga*va*va,ca=na*va*va+ga*aa*va+ga*va*aa,da=na*aa*va+ga*aa*aa+na*va*aa,pa=na*aa*aa,xa=va*va*va,Oa=aa*va*va+va*aa*va+va*va*aa,Ja=aa*aa*va+va*aa*aa+aa*va*aa,rl=aa*aa*aa;for(oa=0;oa<ha;oa+=1)Qn[oa*4]=qe.round((Sa*vs[oa]+tl*bs[oa]+Zo*ia[oa]+Ta*Cs[oa])*1e3)/1e3,Qn[oa*4+1]=qe.round((Qa*vs[oa]+$a*bs[oa]+Ma*ia[oa]+ua*Cs[oa])*1e3)/1e3,Qn[oa*4+2]=qe.round((ya*vs[oa]+ca*bs[oa]+da*ia[oa]+pa*Cs[oa])*1e3)/1e3,Qn[oa*4+3]=qe.round((xa*vs[oa]+Oa*bs[oa]+Ja*ia[oa]+rl*Cs[oa])*1e3)/1e3;return Qn}return{getSegmentsLength:Ai,getNewSegment:ys,getPointInSegment:Kn,buildBezierData:gn,pointOnLine2D:f,pointOnLine3D:ze}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(qe,f){var ze=this.offsetTime,Ke;this.propType==="multidimensional"&&(Ke=createTypedArray("float32",this.pv.length));for(var Ai=f.lastIndex,ln=Ai,dn=this.keyframes.length-1,gn=!0,Hn,Kn,Qn;gn;){if(Hn=this.keyframes[ln],Kn=this.keyframes[ln+1],ln===dn-1&&qe>=Kn.t-ze){Hn.h&&(Hn=Kn),Ai=0;break}if(Kn.t-ze>qe){Ai=ln;break}ln<dn-1?ln+=1:(Ai=0,gn=!1)}Qn=this.keyframesMetadata[ln]||{};var ys,vs,Cs,bs,ia,la,ra=Kn.t-ze,sa=Hn.t-ze,na;if(Hn.to){Qn.bezierData||(Qn.bezierData=bez.buildBezierData(Hn.s,Kn.s||Hn.e,Hn.to,Hn.ti));var aa=Qn.bezierData;if(qe>=ra||qe<sa){var oa=qe>=ra?aa.points.length-1:0;for(vs=aa.points[oa].point.length,ys=0;ys<vs;ys+=1)Ke[ys]=aa.points[oa].point[ys]}else{Qn.__fnct?la=Qn.__fnct:(la=BezierFactory.getBezierEasing(Hn.o.x,Hn.o.y,Hn.i.x,Hn.i.y,Hn.n).get,Qn.__fnct=la),Cs=la((qe-sa)/(ra-sa));var ha=aa.segmentLength*Cs,ga,va=f.lastFrame<qe&&f._lastKeyframeIndex===ln?f._lastAddedLength:0;for(ia=f.lastFrame<qe&&f._lastKeyframeIndex===ln?f._lastPoint:0,gn=!0,bs=aa.points.length;gn;){if(va+=aa.points[ia].partialLength,ha===0||Cs===0||ia===aa.points.length-1){for(vs=aa.points[ia].point.length,ys=0;ys<vs;ys+=1)Ke[ys]=aa.points[ia].point[ys];break}else if(ha>=va&&ha<va+aa.points[ia+1].partialLength){for(ga=(ha-va)/aa.points[ia+1].partialLength,vs=aa.points[ia].point.length,ys=0;ys<vs;ys+=1)Ke[ys]=aa.points[ia].point[ys]+(aa.points[ia+1].point[ys]-aa.points[ia].point[ys])*ga;break}ia<bs-1?ia+=1:gn=!1}f._lastPoint=ia,f._lastAddedLength=va-aa.points[ia].partialLength,f._lastKeyframeIndex=ln}}else{var Sa,tl,Zo,Ta,Qa;if(dn=Hn.s.length,na=Kn.s||Hn.e,this.sh&&Hn.h!==1)if(qe>=ra)Ke[0]=na[0],Ke[1]=na[1],Ke[2]=na[2];else if(qe<=sa)Ke[0]=Hn.s[0],Ke[1]=Hn.s[1],Ke[2]=Hn.s[2];else{var $a=createQuaternion(Hn.s),Ma=createQuaternion(na),ua=(qe-sa)/(ra-sa);quaternionToEuler(Ke,slerp($a,Ma,ua))}else for(ln=0;ln<dn;ln+=1)Hn.h!==1&&(qe>=ra?Cs=1:qe<sa?Cs=0:(Hn.o.x.constructor===Array?(Qn.__fnct||(Qn.__fnct=[]),Qn.__fnct[ln]?la=Qn.__fnct[ln]:(Sa=Hn.o.x[ln]===void 0?Hn.o.x[0]:Hn.o.x[ln],tl=Hn.o.y[ln]===void 0?Hn.o.y[0]:Hn.o.y[ln],Zo=Hn.i.x[ln]===void 0?Hn.i.x[0]:Hn.i.x[ln],Ta=Hn.i.y[ln]===void 0?Hn.i.y[0]:Hn.i.y[ln],la=BezierFactory.getBezierEasing(Sa,tl,Zo,Ta).get,Qn.__fnct[ln]=la)):Qn.__fnct?la=Qn.__fnct:(Sa=Hn.o.x,tl=Hn.o.y,Zo=Hn.i.x,Ta=Hn.i.y,la=BezierFactory.getBezierEasing(Sa,tl,Zo,Ta).get,Hn.keyframeMetadata=la),Cs=la((qe-sa)/(ra-sa)))),na=Kn.s||Hn.e,Qa=Hn.h===1?Hn.s[ln]:Hn.s[ln]+(na[ln]-Hn.s[ln])*Cs,this.propType==="multidimensional"?Ke[ln]=Qa:Ke=Qa}return f.lastIndex=Ai,Ke}function slerp(qe,f,ze){var Ke=[],Ai=qe[0],ln=qe[1],dn=qe[2],gn=qe[3],Hn=f[0],Kn=f[1],Qn=f[2],ys=f[3],vs,Cs,bs,ia,la;return Cs=Ai*Hn+ln*Kn+dn*Qn+gn*ys,Cs<0&&(Cs=-Cs,Hn=-Hn,Kn=-Kn,Qn=-Qn,ys=-ys),1-Cs>1e-6?(vs=Math.acos(Cs),bs=Math.sin(vs),ia=Math.sin((1-ze)*vs)/bs,la=Math.sin(ze*vs)/bs):(ia=1-ze,la=ze),Ke[0]=ia*Ai+la*Hn,Ke[1]=ia*ln+la*Kn,Ke[2]=ia*dn+la*Qn,Ke[3]=ia*gn+la*ys,Ke}function quaternionToEuler(qe,f){var ze=f[0],Ke=f[1],Ai=f[2],ln=f[3],dn=Math.atan2(2*Ke*ln-2*ze*Ai,1-2*Ke*Ke-2*Ai*Ai),gn=Math.asin(2*ze*Ke+2*Ai*ln),Hn=Math.atan2(2*ze*ln-2*Ke*Ai,1-2*ze*ze-2*Ai*Ai);qe[0]=dn/degToRads,qe[1]=gn/degToRads,qe[2]=Hn/degToRads}function createQuaternion(qe){var f=qe[0]*degToRads,ze=qe[1]*degToRads,Ke=qe[2]*degToRads,Ai=Math.cos(f/2),ln=Math.cos(ze/2),dn=Math.cos(Ke/2),gn=Math.sin(f/2),Hn=Math.sin(ze/2),Kn=Math.sin(Ke/2),Qn=Ai*ln*dn-gn*Hn*Kn,ys=gn*Hn*dn+Ai*ln*Kn,vs=gn*ln*dn+Ai*Hn*Kn,Cs=Ai*Hn*dn-gn*ln*Kn;return[ys,vs,Cs,Qn]}function getValueAtCurrentTime(){var qe=this.comp.renderedFrame-this.offsetTime,f=this.keyframes[0].t-this.offsetTime,ze=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(qe===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=ze&&qe>=ze||this._caching.lastFrame<f&&qe<f))){this._caching.lastFrame>=qe&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var Ke=this.interpolateValue(qe,this._caching);this.pv=Ke}return this._caching.lastFrame=qe,this.pv}function setVValue(qe){var f;if(this.propType==="unidimensional")f=qe*this.mult,mathAbs(this.v-f)>1e-5&&(this.v=f,this._mdf=!0);else for(var ze=0,Ke=this.v.length;ze<Ke;)f=qe[ze]*this.mult,mathAbs(this.v[ze]-f)>1e-5&&(this.v[ze]=f,this._mdf=!0),ze+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var qe,f=this.effectsSequence.length,ze=this.kf?this.pv:this.data.k;for(qe=0;qe<f;qe+=1)ze=this.effectsSequence[qe](ze);this.setVValue(ze),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(qe){this.effectsSequence.push(qe),this.container.addDynamicProperty(this)}function ValueProperty(qe,f,ze,Ke){this.propType="unidimensional",this.mult=ze||1,this.data=f,this.v=ze?f.k*ze:f.k,this.pv=f.k,this._mdf=!1,this.elem=qe,this.container=Ke,this.comp=qe.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(qe,f,ze,Ke){this.propType="multidimensional",this.mult=ze||1,this.data=f,this._mdf=!1,this.elem=qe,this.container=Ke,this.comp=qe.comp,this.k=!1,this.kf=!1,this.frameId=-1;var Ai,ln=f.k.length;for(this.v=createTypedArray("float32",ln),this.pv=createTypedArray("float32",ln),this.vel=createTypedArray("float32",ln),Ai=0;Ai<ln;Ai+=1)this.v[Ai]=f.k[Ai]*this.mult,this.pv[Ai]=f.k[Ai];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(qe,f,ze,Ke){this.propType="unidimensional",this.keyframes=f.k,this.keyframesMetadata=[],this.offsetTime=qe.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=f,this.mult=ze||1,this.elem=qe,this.container=Ke,this.comp=qe.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(qe,f,ze,Ke){this.propType="multidimensional";var Ai,ln=f.k.length,dn,gn,Hn,Kn;for(Ai=0;Ai<ln-1;Ai+=1)f.k[Ai].to&&f.k[Ai].s&&f.k[Ai+1]&&f.k[Ai+1].s&&(dn=f.k[Ai].s,gn=f.k[Ai+1].s,Hn=f.k[Ai].to,Kn=f.k[Ai].ti,(dn.length===2&&!(dn[0]===gn[0]&&dn[1]===gn[1])&&bez.pointOnLine2D(dn[0],dn[1],gn[0],gn[1],dn[0]+Hn[0],dn[1]+Hn[1])&&bez.pointOnLine2D(dn[0],dn[1],gn[0],gn[1],gn[0]+Kn[0],gn[1]+Kn[1])||dn.length===3&&!(dn[0]===gn[0]&&dn[1]===gn[1]&&dn[2]===gn[2])&&bez.pointOnLine3D(dn[0],dn[1],dn[2],gn[0],gn[1],gn[2],dn[0]+Hn[0],dn[1]+Hn[1],dn[2]+Hn[2])&&bez.pointOnLine3D(dn[0],dn[1],dn[2],gn[0],gn[1],gn[2],gn[0]+Kn[0],gn[1]+Kn[1],gn[2]+Kn[2]))&&(f.k[Ai].to=null,f.k[Ai].ti=null),dn[0]===gn[0]&&dn[1]===gn[1]&&Hn[0]===0&&Hn[1]===0&&Kn[0]===0&&Kn[1]===0&&(dn.length===2||dn[2]===gn[2]&&Hn[2]===0&&Kn[2]===0)&&(f.k[Ai].to=null,f.k[Ai].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=f,this.keyframes=f.k,this.keyframesMetadata=[],this.offsetTime=qe.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=ze||1,this.elem=qe,this.container=Ke,this.comp=qe.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var Qn=f.k[0].s.length;for(this.v=createTypedArray("float32",Qn),this.pv=createTypedArray("float32",Qn),Ai=0;Ai<Qn;Ai+=1)this.v[Ai]=initFrame,this.pv[Ai]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",Qn)},this.addEffect=addEffect}var PropertyFactory=function(){function qe(ze,Ke,Ai,ln,dn){Ke.sid&&(Ke=ze.globalData.slotManager.getProp(Ke));var gn;if(!Ke.k.length)gn=new ValueProperty(ze,Ke,ln,dn);else if(typeof Ke.k[0]=="number")gn=new MultiDimensionalProperty(ze,Ke,ln,dn);else switch(Ai){case 0:gn=new KeyframedValueProperty(ze,Ke,ln,dn);break;case 1:gn=new KeyframedMultidimensionalProperty(ze,Ke,ln,dn);break}return gn.effectsSequence.length&&dn.addDynamicProperty(gn),gn}var f={getProp:qe};return f}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(f){this.dynamicProperties.indexOf(f)===-1&&(this.dynamicProperties.push(f),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var f,ze=this.dynamicProperties.length;for(f=0;f<ze;f+=1)this.dynamicProperties[f].getValue(),this.dynamicProperties[f]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(f){this.container=f,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function qe(){return createTypedArray("float32",2)}return poolFactory(8,qe)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(qe,f){this.c=qe,this.setLength(f);for(var ze=0;ze<f;)this.v[ze]=pointPool.newElement(),this.o[ze]=pointPool.newElement(),this.i[ze]=pointPool.newElement(),ze+=1},ShapePath.prototype.setLength=function(qe){for(;this._maxLength<qe;)this.doubleArrayLength();this._length=qe},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(qe,f,ze,Ke,Ai){var ln;switch(this._length=Math.max(this._length,Ke+1),this._length>=this._maxLength&&this.doubleArrayLength(),ze){case"v":ln=this.v;break;case"i":ln=this.i;break;case"o":ln=this.o;break;default:ln=[];break}(!ln[Ke]||ln[Ke]&&!Ai)&&(ln[Ke]=pointPool.newElement()),ln[Ke][0]=qe,ln[Ke][1]=f},ShapePath.prototype.setTripleAt=function(qe,f,ze,Ke,Ai,ln,dn,gn){this.setXYAt(qe,f,"v",dn,gn),this.setXYAt(ze,Ke,"o",dn,gn),this.setXYAt(Ai,ln,"i",dn,gn)},ShapePath.prototype.reverse=function(){var qe=new ShapePath;qe.setPathData(this.c,this._length);var f=this.v,ze=this.o,Ke=this.i,Ai=0;this.c&&(qe.setTripleAt(f[0][0],f[0][1],Ke[0][0],Ke[0][1],ze[0][0],ze[0][1],0,!1),Ai=1);var ln=this._length-1,dn=this._length,gn;for(gn=Ai;gn<dn;gn+=1)qe.setTripleAt(f[ln][0],f[ln][1],Ke[ln][0],Ke[ln][1],ze[ln][0],ze[ln][1],gn,!1),ln-=1;return qe},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function qe(){return new ShapePath}function f(Ai){var ln=Ai._length,dn;for(dn=0;dn<ln;dn+=1)pointPool.release(Ai.v[dn]),pointPool.release(Ai.i[dn]),pointPool.release(Ai.o[dn]),Ai.v[dn]=null,Ai.i[dn]=null,Ai.o[dn]=null;Ai._length=0,Ai.c=!1}function ze(Ai){var ln=Ke.newElement(),dn,gn=Ai._length===void 0?Ai.v.length:Ai._length;for(ln.setLength(gn),ln.c=Ai.c,dn=0;dn<gn;dn+=1)ln.setTripleAt(Ai.v[dn][0],Ai.v[dn][1],Ai.o[dn][0],Ai.o[dn][1],Ai.i[dn][0],Ai.i[dn][1],dn);return ln}var Ke=poolFactory(4,qe,f);return Ke.clone=ze,Ke}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(qe){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=qe,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var qe;for(qe=0;qe<this._length;qe+=1)shapePool.release(this.shapes[qe]);this._length=0};var shapeCollectionPool=function(){var qe={newShapeCollection:Ai,release:ln},f=0,ze=4,Ke=createSizedArray(ze);function Ai(){var dn;return f?(f-=1,dn=Ke[f]):dn=new ShapeCollection,dn}function ln(dn){var gn,Hn=dn._length;for(gn=0;gn<Hn;gn+=1)shapePool.release(dn.shapes[gn]);dn._length=0,f===ze&&(Ke=pooling.double(Ke),ze*=2),Ke[f]=dn,f+=1}return qe}(),ShapePropertyFactory=function(){var qe=-999999;function f(ra,sa,na){var aa=na.lastIndex,oa,ha,ga,va,Sa,tl,Zo,Ta,Qa,$a=this.keyframes;if(ra<$a[0].t-this.offsetTime)oa=$a[0].s[0],ga=!0,aa=0;else if(ra>=$a[$a.length-1].t-this.offsetTime)oa=$a[$a.length-1].s?$a[$a.length-1].s[0]:$a[$a.length-2].e[0],ga=!0;else{for(var Ma=aa,ua=$a.length-1,ya=!0,ca,da,pa;ya&&(ca=$a[Ma],da=$a[Ma+1],!(da.t-this.offsetTime>ra));)Ma<ua-1?Ma+=1:ya=!1;if(pa=this.keyframesMetadata[Ma]||{},ga=ca.h===1,aa=Ma,!ga){if(ra>=da.t-this.offsetTime)Ta=1;else if(ra<ca.t-this.offsetTime)Ta=0;else{var xa;pa.__fnct?xa=pa.__fnct:(xa=BezierFactory.getBezierEasing(ca.o.x,ca.o.y,ca.i.x,ca.i.y).get,pa.__fnct=xa),Ta=xa((ra-(ca.t-this.offsetTime))/(da.t-this.offsetTime-(ca.t-this.offsetTime)))}ha=da.s?da.s[0]:ca.e[0]}oa=ca.s[0]}for(tl=sa._length,Zo=oa.i[0].length,na.lastIndex=aa,va=0;va<tl;va+=1)for(Sa=0;Sa<Zo;Sa+=1)Qa=ga?oa.i[va][Sa]:oa.i[va][Sa]+(ha.i[va][Sa]-oa.i[va][Sa])*Ta,sa.i[va][Sa]=Qa,Qa=ga?oa.o[va][Sa]:oa.o[va][Sa]+(ha.o[va][Sa]-oa.o[va][Sa])*Ta,sa.o[va][Sa]=Qa,Qa=ga?oa.v[va][Sa]:oa.v[va][Sa]+(ha.v[va][Sa]-oa.v[va][Sa])*Ta,sa.v[va][Sa]=Qa}function ze(){var ra=this.comp.renderedFrame-this.offsetTime,sa=this.keyframes[0].t-this.offsetTime,na=this.keyframes[this.keyframes.length-1].t-this.offsetTime,aa=this._caching.lastFrame;return aa!==qe&&(aa<sa&&ra<sa||aa>na&&ra>na)||(this._caching.lastIndex=aa<ra?this._caching.lastIndex:0,this.interpolateShape(ra,this.pv,this._caching)),this._caching.lastFrame=ra,this.pv}function Ke(){this.paths=this.localShapeCollection}function Ai(ra,sa){if(ra._length!==sa._length||ra.c!==sa.c)return!1;var na,aa=ra._length;for(na=0;na<aa;na+=1)if(ra.v[na][0]!==sa.v[na][0]||ra.v[na][1]!==sa.v[na][1]||ra.o[na][0]!==sa.o[na][0]||ra.o[na][1]!==sa.o[na][1]||ra.i[na][0]!==sa.i[na][0]||ra.i[na][1]!==sa.i[na][1])return!1;return!0}function ln(ra){Ai(this.v,ra)||(this.v=shapePool.clone(ra),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function dn(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var ra;this.kf?ra=this.pv:this.data.ks?ra=this.data.ks.k:ra=this.data.pt.k;var sa,na=this.effectsSequence.length;for(sa=0;sa<na;sa+=1)ra=this.effectsSequence[sa](ra);this.setVValue(ra),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function gn(ra,sa,na){this.propType="shape",this.comp=ra.comp,this.container=ra,this.elem=ra,this.data=sa,this.k=!1,this.kf=!1,this._mdf=!1;var aa=na===3?sa.pt.k:sa.ks.k;this.v=shapePool.clone(aa),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=Ke,this.effectsSequence=[]}function Hn(ra){this.effectsSequence.push(ra),this.container.addDynamicProperty(this)}gn.prototype.interpolateShape=f,gn.prototype.getValue=dn,gn.prototype.setVValue=ln,gn.prototype.addEffect=Hn;function Kn(ra,sa,na){this.propType="shape",this.comp=ra.comp,this.elem=ra,this.container=ra,this.offsetTime=ra.data.st,this.keyframes=na===3?sa.pt.k:sa.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var aa=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,aa),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=qe,this.reset=Ke,this._caching={lastFrame:qe,lastIndex:0},this.effectsSequence=[ze.bind(this)]}Kn.prototype.getValue=dn,Kn.prototype.interpolateShape=f,Kn.prototype.setVValue=ln,Kn.prototype.addEffect=Hn;var Qn=function(){var ra=roundCorner;function sa(na,aa){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=aa.d,this.elem=na,this.comp=na.comp,this.frameId=-1,this.initDynamicPropertyContainer(na),this.p=PropertyFactory.getProp(na,aa.p,1,0,this),this.s=PropertyFactory.getProp(na,aa.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return sa.prototype={reset:Ke,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var aa=this.p.v[0],oa=this.p.v[1],ha=this.s.v[0]/2,ga=this.s.v[1]/2,va=this.d!==3,Sa=this.v;Sa.v[0][0]=aa,Sa.v[0][1]=oa-ga,Sa.v[1][0]=va?aa+ha:aa-ha,Sa.v[1][1]=oa,Sa.v[2][0]=aa,Sa.v[2][1]=oa+ga,Sa.v[3][0]=va?aa-ha:aa+ha,Sa.v[3][1]=oa,Sa.i[0][0]=va?aa-ha*ra:aa+ha*ra,Sa.i[0][1]=oa-ga,Sa.i[1][0]=va?aa+ha:aa-ha,Sa.i[1][1]=oa-ga*ra,Sa.i[2][0]=va?aa+ha*ra:aa-ha*ra,Sa.i[2][1]=oa+ga,Sa.i[3][0]=va?aa-ha:aa+ha,Sa.i[3][1]=oa+ga*ra,Sa.o[0][0]=va?aa+ha*ra:aa-ha*ra,Sa.o[0][1]=oa-ga,Sa.o[1][0]=va?aa+ha:aa-ha,Sa.o[1][1]=oa+ga*ra,Sa.o[2][0]=va?aa-ha*ra:aa+ha*ra,Sa.o[2][1]=oa+ga,Sa.o[3][0]=va?aa-ha:aa+ha,Sa.o[3][1]=oa-ga*ra}},extendPrototype([DynamicPropertyContainer],sa),sa}(),ys=function(){function ra(sa,na){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=sa,this.comp=sa.comp,this.data=na,this.frameId=-1,this.d=na.d,this.initDynamicPropertyContainer(sa),na.sy===1?(this.ir=PropertyFactory.getProp(sa,na.ir,0,0,this),this.is=PropertyFactory.getProp(sa,na.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(sa,na.pt,0,0,this),this.p=PropertyFactory.getProp(sa,na.p,1,0,this),this.r=PropertyFactory.getProp(sa,na.r,0,degToRads,this),this.or=PropertyFactory.getProp(sa,na.or,0,0,this),this.os=PropertyFactory.getProp(sa,na.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return ra.prototype={reset:Ke,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var na=Math.floor(this.pt.v)*2,aa=Math.PI*2/na,oa=!0,ha=this.or.v,ga=this.ir.v,va=this.os.v,Sa=this.is.v,tl=2*Math.PI*ha/(na*2),Zo=2*Math.PI*ga/(na*2),Ta,Qa,$a,Ma,ua=-Math.PI/2;ua+=this.r.v;var ya=this.data.d===3?-1:1;for(this.v._length=0,Ta=0;Ta<na;Ta+=1){Qa=oa?ha:ga,$a=oa?va:Sa,Ma=oa?tl:Zo;var ca=Qa*Math.cos(ua),da=Qa*Math.sin(ua),pa=ca===0&&da===0?0:da/Math.sqrt(ca*ca+da*da),xa=ca===0&&da===0?0:-ca/Math.sqrt(ca*ca+da*da);ca+=+this.p.v[0],da+=+this.p.v[1],this.v.setTripleAt(ca,da,ca-pa*Ma*$a*ya,da-xa*Ma*$a*ya,ca+pa*Ma*$a*ya,da+xa*Ma*$a*ya,Ta,!0),oa=!oa,ua+=aa*ya}},convertPolygonToPath:function(){var na=Math.floor(this.pt.v),aa=Math.PI*2/na,oa=this.or.v,ha=this.os.v,ga=2*Math.PI*oa/(na*4),va,Sa=-Math.PI*.5,tl=this.data.d===3?-1:1;for(Sa+=this.r.v,this.v._length=0,va=0;va<na;va+=1){var Zo=oa*Math.cos(Sa),Ta=oa*Math.sin(Sa),Qa=Zo===0&&Ta===0?0:Ta/Math.sqrt(Zo*Zo+Ta*Ta),$a=Zo===0&&Ta===0?0:-Zo/Math.sqrt(Zo*Zo+Ta*Ta);Zo+=+this.p.v[0],Ta+=+this.p.v[1],this.v.setTripleAt(Zo,Ta,Zo-Qa*ga*ha*tl,Ta-$a*ga*ha*tl,Zo+Qa*ga*ha*tl,Ta+$a*ga*ha*tl,va,!0),Sa+=aa*tl}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],ra),ra}(),vs=function(){function ra(sa,na){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=sa,this.comp=sa.comp,this.frameId=-1,this.d=na.d,this.initDynamicPropertyContainer(sa),this.p=PropertyFactory.getProp(sa,na.p,1,0,this),this.s=PropertyFactory.getProp(sa,na.s,1,0,this),this.r=PropertyFactory.getProp(sa,na.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return ra.prototype={convertRectToPath:function(){var na=this.p.v[0],aa=this.p.v[1],oa=this.s.v[0]/2,ha=this.s.v[1]/2,ga=bmMin(oa,ha,this.r.v),va=ga*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(na+oa,aa-ha+ga,na+oa,aa-ha+ga,na+oa,aa-ha+va,0,!0),this.v.setTripleAt(na+oa,aa+ha-ga,na+oa,aa+ha-va,na+oa,aa+ha-ga,1,!0),ga!==0?(this.v.setTripleAt(na+oa-ga,aa+ha,na+oa-ga,aa+ha,na+oa-va,aa+ha,2,!0),this.v.setTripleAt(na-oa+ga,aa+ha,na-oa+va,aa+ha,na-oa+ga,aa+ha,3,!0),this.v.setTripleAt(na-oa,aa+ha-ga,na-oa,aa+ha-ga,na-oa,aa+ha-va,4,!0),this.v.setTripleAt(na-oa,aa-ha+ga,na-oa,aa-ha+va,na-oa,aa-ha+ga,5,!0),this.v.setTripleAt(na-oa+ga,aa-ha,na-oa+ga,aa-ha,na-oa+va,aa-ha,6,!0),this.v.setTripleAt(na+oa-ga,aa-ha,na+oa-va,aa-ha,na+oa-ga,aa-ha,7,!0)):(this.v.setTripleAt(na-oa,aa+ha,na-oa+va,aa+ha,na-oa,aa+ha,2),this.v.setTripleAt(na-oa,aa-ha,na-oa,aa-ha+va,na-oa,aa-ha,3))):(this.v.setTripleAt(na+oa,aa-ha+ga,na+oa,aa-ha+va,na+oa,aa-ha+ga,0,!0),ga!==0?(this.v.setTripleAt(na+oa-ga,aa-ha,na+oa-ga,aa-ha,na+oa-va,aa-ha,1,!0),this.v.setTripleAt(na-oa+ga,aa-ha,na-oa+va,aa-ha,na-oa+ga,aa-ha,2,!0),this.v.setTripleAt(na-oa,aa-ha+ga,na-oa,aa-ha+ga,na-oa,aa-ha+va,3,!0),this.v.setTripleAt(na-oa,aa+ha-ga,na-oa,aa+ha-va,na-oa,aa+ha-ga,4,!0),this.v.setTripleAt(na-oa+ga,aa+ha,na-oa+ga,aa+ha,na-oa+va,aa+ha,5,!0),this.v.setTripleAt(na+oa-ga,aa+ha,na+oa-va,aa+ha,na+oa-ga,aa+ha,6,!0),this.v.setTripleAt(na+oa,aa+ha-ga,na+oa,aa+ha-ga,na+oa,aa+ha-va,7,!0)):(this.v.setTripleAt(na-oa,aa-ha,na-oa+va,aa-ha,na-oa,aa-ha,1,!0),this.v.setTripleAt(na-oa,aa+ha,na-oa,aa+ha-va,na-oa,aa+ha,2,!0),this.v.setTripleAt(na+oa,aa+ha,na+oa-va,aa+ha,na+oa,aa+ha,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:Ke},extendPrototype([DynamicPropertyContainer],ra),ra}();function Cs(ra,sa,na){var aa;if(na===3||na===4){var oa=na===3?sa.pt:sa.ks,ha=oa.k;ha.length?aa=new Kn(ra,sa,na):aa=new gn(ra,sa,na)}else na===5?aa=new vs(ra,sa):na===6?aa=new Qn(ra,sa):na===7&&(aa=new ys(ra,sa));return aa.k&&ra.addDynamicProperty(aa),aa}function bs(){return gn}function ia(){return Kn}var la={};return la.getShapeProp=Cs,la.getConstructorFunction=bs,la.getKeyframedConstructorFunction=ia,la}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var qe=Math.cos,f=Math.sin,ze=Math.tan,Ke=Math.round;function Ai(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function ln(ca){if(ca===0)return this;var da=qe(ca),pa=f(ca);return this._t(da,-pa,0,0,pa,da,0,0,0,0,1,0,0,0,0,1)}function dn(ca){if(ca===0)return this;var da=qe(ca),pa=f(ca);return this._t(1,0,0,0,0,da,-pa,0,0,pa,da,0,0,0,0,1)}function gn(ca){if(ca===0)return this;var da=qe(ca),pa=f(ca);return this._t(da,0,pa,0,0,1,0,0,-pa,0,da,0,0,0,0,1)}function Hn(ca){if(ca===0)return this;var da=qe(ca),pa=f(ca);return this._t(da,-pa,0,0,pa,da,0,0,0,0,1,0,0,0,0,1)}function Kn(ca,da){return this._t(1,da,ca,1,0,0)}function Qn(ca,da){return this.shear(ze(ca),ze(da))}function ys(ca,da){var pa=qe(da),xa=f(da);return this._t(pa,xa,0,0,-xa,pa,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,ze(ca),1,0,0,0,0,1,0,0,0,0,1)._t(pa,-xa,0,0,xa,pa,0,0,0,0,1,0,0,0,0,1)}function vs(ca,da,pa){return!pa&&pa!==0&&(pa=1),ca===1&&da===1&&pa===1?this:this._t(ca,0,0,0,0,da,0,0,0,0,pa,0,0,0,0,1)}function Cs(ca,da,pa,xa,Oa,Ja,rl,hl,al,Tl,Cl,Yl,El,jl,yh,Dl){return this.props[0]=ca,this.props[1]=da,this.props[2]=pa,this.props[3]=xa,this.props[4]=Oa,this.props[5]=Ja,this.props[6]=rl,this.props[7]=hl,this.props[8]=al,this.props[9]=Tl,this.props[10]=Cl,this.props[11]=Yl,this.props[12]=El,this.props[13]=jl,this.props[14]=yh,this.props[15]=Dl,this}function bs(ca,da,pa){return pa=pa||0,ca!==0||da!==0||pa!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,ca,da,pa,1):this}function ia(ca,da,pa,xa,Oa,Ja,rl,hl,al,Tl,Cl,Yl,El,jl,yh,Dl){var ll=this.props;if(ca===1&&da===0&&pa===0&&xa===0&&Oa===0&&Ja===1&&rl===0&&hl===0&&al===0&&Tl===0&&Cl===1&&Yl===0)return ll[12]=ll[12]*ca+ll[15]*El,ll[13]=ll[13]*Ja+ll[15]*jl,ll[14]=ll[14]*Cl+ll[15]*yh,ll[15]*=Dl,this._identityCalculated=!1,this;var Nh=ll[0],Uh=ll[1],Kl=ll[2],Yh=ll[3],Xh=ll[4],qh=ll[5],_h=ll[6],Dh=ll[7],Oh=ll[8],jh=ll[9],Wh=ll[10],ql=ll[11],zl=ll[12],zh=ll[13],xh=ll[14],Xc=ll[15];return ll[0]=Nh*ca+Uh*Oa+Kl*al+Yh*El,ll[1]=Nh*da+Uh*Ja+Kl*Tl+Yh*jl,ll[2]=Nh*pa+Uh*rl+Kl*Cl+Yh*yh,ll[3]=Nh*xa+Uh*hl+Kl*Yl+Yh*Dl,ll[4]=Xh*ca+qh*Oa+_h*al+Dh*El,ll[5]=Xh*da+qh*Ja+_h*Tl+Dh*jl,ll[6]=Xh*pa+qh*rl+_h*Cl+Dh*yh,ll[7]=Xh*xa+qh*hl+_h*Yl+Dh*Dl,ll[8]=Oh*ca+jh*Oa+Wh*al+ql*El,ll[9]=Oh*da+jh*Ja+Wh*Tl+ql*jl,ll[10]=Oh*pa+jh*rl+Wh*Cl+ql*yh,ll[11]=Oh*xa+jh*hl+Wh*Yl+ql*Dl,ll[12]=zl*ca+zh*Oa+xh*al+Xc*El,ll[13]=zl*da+zh*Ja+xh*Tl+Xc*jl,ll[14]=zl*pa+zh*rl+xh*Cl+Xc*yh,ll[15]=zl*xa+zh*hl+xh*Yl+Xc*Dl,this._identityCalculated=!1,this}function la(ca){var da=ca.props;return this.transform(da[0],da[1],da[2],da[3],da[4],da[5],da[6],da[7],da[8],da[9],da[10],da[11],da[12],da[13],da[14],da[15])}function ra(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function sa(ca){for(var da=0;da<16;){if(ca.props[da]!==this.props[da])return!1;da+=1}return!0}function na(ca){var da;for(da=0;da<16;da+=1)ca.props[da]=this.props[da];return ca}function aa(ca){var da;for(da=0;da<16;da+=1)this.props[da]=ca[da]}function oa(ca,da,pa){return{x:ca*this.props[0]+da*this.props[4]+pa*this.props[8]+this.props[12],y:ca*this.props[1]+da*this.props[5]+pa*this.props[9]+this.props[13],z:ca*this.props[2]+da*this.props[6]+pa*this.props[10]+this.props[14]}}function ha(ca,da,pa){return ca*this.props[0]+da*this.props[4]+pa*this.props[8]+this.props[12]}function ga(ca,da,pa){return ca*this.props[1]+da*this.props[5]+pa*this.props[9]+this.props[13]}function va(ca,da,pa){return ca*this.props[2]+da*this.props[6]+pa*this.props[10]+this.props[14]}function Sa(){var ca=this.props[0]*this.props[5]-this.props[1]*this.props[4],da=this.props[5]/ca,pa=-this.props[1]/ca,xa=-this.props[4]/ca,Oa=this.props[0]/ca,Ja=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/ca,rl=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/ca,hl=new Matrix;return hl.props[0]=da,hl.props[1]=pa,hl.props[4]=xa,hl.props[5]=Oa,hl.props[12]=Ja,hl.props[13]=rl,hl}function tl(ca){var da=this.getInverseMatrix();return da.applyToPointArray(ca[0],ca[1],ca[2]||0)}function Zo(ca){var da,pa=ca.length,xa=[];for(da=0;da<pa;da+=1)xa[da]=tl(ca[da]);return xa}function Ta(ca,da,pa){var xa=createTypedArray("float32",6);if(this.isIdentity())xa[0]=ca[0],xa[1]=ca[1],xa[2]=da[0],xa[3]=da[1],xa[4]=pa[0],xa[5]=pa[1];else{var Oa=this.props[0],Ja=this.props[1],rl=this.props[4],hl=this.props[5],al=this.props[12],Tl=this.props[13];xa[0]=ca[0]*Oa+ca[1]*rl+al,xa[1]=ca[0]*Ja+ca[1]*hl+Tl,xa[2]=da[0]*Oa+da[1]*rl+al,xa[3]=da[0]*Ja+da[1]*hl+Tl,xa[4]=pa[0]*Oa+pa[1]*rl+al,xa[5]=pa[0]*Ja+pa[1]*hl+Tl}return xa}function Qa(ca,da,pa){var xa;return this.isIdentity()?xa=[ca,da,pa]:xa=[ca*this.props[0]+da*this.props[4]+pa*this.props[8]+this.props[12],ca*this.props[1]+da*this.props[5]+pa*this.props[9]+this.props[13],ca*this.props[2]+da*this.props[6]+pa*this.props[10]+this.props[14]],xa}function $a(ca,da){if(this.isIdentity())return ca+","+da;var pa=this.props;return Math.round((ca*pa[0]+da*pa[4]+pa[12])*100)/100+","+Math.round((ca*pa[1]+da*pa[5]+pa[13])*100)/100}function Ma(){for(var ca=0,da=this.props,pa="matrix3d(",xa=1e4;ca<16;)pa+=Ke(da[ca]*xa)/xa,pa+=ca===15?")":",",ca+=1;return pa}function ua(ca){var da=1e4;return ca<1e-6&&ca>0||ca>-1e-6&&ca<0?Ke(ca*da)/da:ca}function ya(){var ca=this.props,da=ua(ca[0]),pa=ua(ca[1]),xa=ua(ca[4]),Oa=ua(ca[5]),Ja=ua(ca[12]),rl=ua(ca[13]);return"matrix("+da+","+pa+","+xa+","+Oa+","+Ja+","+rl+")"}return function(){this.reset=Ai,this.rotate=ln,this.rotateX=dn,this.rotateY=gn,this.rotateZ=Hn,this.skew=Qn,this.skewFromAxis=ys,this.shear=Kn,this.scale=vs,this.setTransform=Cs,this.translate=bs,this.transform=ia,this.multiply=la,this.applyToPoint=oa,this.applyToX=ha,this.applyToY=ga,this.applyToZ=va,this.applyToPointArray=Qa,this.applyToTriplePoints=Ta,this.applyToPointStringified=$a,this.toCSS=Ma,this.to2dCSS=ya,this.clone=na,this.cloneFromProps=aa,this.equals=sa,this.inversePoints=Zo,this.inversePoint=tl,this.getInverseMatrix=Sa,this._t=this.transform,this.isIdentity=ra,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(qe){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},_typeof$3(qe)}var lottie={};function setLocation(qe){setLocationHref(qe)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(qe){setSubframeEnabled(qe)}function setPrefix(qe){setIdPrefix(qe)}function loadAnimation(qe){return animationManager.loadAnimation(qe)}function setQuality(qe){if(typeof qe=="string")switch(qe){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(qe)&&qe>1&&setDefaultCurveSegments(qe)}function inBrowser(){return typeof navigator<"u"}function installPlugin(qe,f){qe==="expressions"&&setExpressionsPlugin(f)}function getFactory(qe){switch(qe){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(qe){for(var f=queryString.split("&"),ze=0;ze<f.length;ze+=1){var Ke=f[ze].split("=");if(decodeURIComponent(Ke[0])==qe)return decodeURIComponent(Ke[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(qe){}var ShapeModifiers=function(){var qe={},f={};qe.registerModifier=ze,qe.getModifier=Ke;function ze(Ai,ln){f[Ai]||(f[Ai]=ln)}function Ke(Ai,ln,dn){return new f[Ai](ln,dn)}return qe}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(qe){if(!this.closed){qe.sh.container.addDynamicProperty(qe.sh);var f={shape:qe.sh,data:qe,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(f),this.addShapeToModifier(f),this._isAnimated&&qe.setAsAnimated()}},ShapeModifier.prototype.init=function(qe,f){this.shapes=[],this.elem=qe,this.initDynamicPropertyContainer(qe),this.initModifierProperties(qe,f),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(qe,f){this.s=PropertyFactory.getProp(qe,f.s,0,.01,this),this.e=PropertyFactory.getProp(qe,f.e,0,.01,this),this.o=PropertyFactory.getProp(qe,f.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=f.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(qe){qe.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(qe,f,ze,Ke,Ai){var ln=[];f<=1?ln.push({s:qe,e:f}):qe>=1?ln.push({s:qe-1,e:f-1}):(ln.push({s:qe,e:1}),ln.push({s:0,e:f-1}));var dn=[],gn,Hn=ln.length,Kn;for(gn=0;gn<Hn;gn+=1)if(Kn=ln[gn],!(Kn.e*Ai<Ke||Kn.s*Ai>Ke+ze)){var Qn,ys;Kn.s*Ai<=Ke?Qn=0:Qn=(Kn.s*Ai-Ke)/ze,Kn.e*Ai>=Ke+ze?ys=1:ys=(Kn.e*Ai-Ke)/ze,dn.push([Qn,ys])}return dn.length||dn.push([0,0]),dn},TrimModifier.prototype.releasePathsData=function(qe){var f,ze=qe.length;for(f=0;f<ze;f+=1)segmentsLengthPool.release(qe[f]);return qe.length=0,qe},TrimModifier.prototype.processShapes=function(qe){var f,ze;if(this._mdf||qe){var Ke=this.o.v%360/360;if(Ke<0&&(Ke+=1),this.s.v>1?f=1+Ke:this.s.v<0?f=0+Ke:f=this.s.v+Ke,this.e.v>1?ze=1+Ke:this.e.v<0?ze=0+Ke:ze=this.e.v+Ke,f>ze){var Ai=f;f=ze,ze=Ai}f=Math.round(f*1e4)*1e-4,ze=Math.round(ze*1e4)*1e-4,this.sValue=f,this.eValue=ze}else f=this.sValue,ze=this.eValue;var ln,dn,gn=this.shapes.length,Hn,Kn,Qn,ys,vs,Cs=0;if(ze===f)for(dn=0;dn<gn;dn+=1)this.shapes[dn].localShapeCollection.releaseShapes(),this.shapes[dn].shape._mdf=!0,this.shapes[dn].shape.paths=this.shapes[dn].localShapeCollection,this._mdf&&(this.shapes[dn].pathsData.length=0);else if(ze===1&&f===0||ze===0&&f===1){if(this._mdf)for(dn=0;dn<gn;dn+=1)this.shapes[dn].pathsData.length=0,this.shapes[dn].shape._mdf=!0}else{var bs=[],ia,la;for(dn=0;dn<gn;dn+=1)if(ia=this.shapes[dn],!ia.shape._mdf&&!this._mdf&&!qe&&this.m!==2)ia.shape.paths=ia.localShapeCollection;else{if(ln=ia.shape.paths,Kn=ln._length,vs=0,!ia.shape._mdf&&ia.pathsData.length)vs=ia.totalShapeLength;else{for(Qn=this.releasePathsData(ia.pathsData),Hn=0;Hn<Kn;Hn+=1)ys=bez.getSegmentsLength(ln.shapes[Hn]),Qn.push(ys),vs+=ys.totalLength;ia.totalShapeLength=vs,ia.pathsData=Qn}Cs+=vs,ia.shape._mdf=!0}var ra=f,sa=ze,na=0,aa;for(dn=gn-1;dn>=0;dn-=1)if(ia=this.shapes[dn],ia.shape._mdf){for(la=ia.localShapeCollection,la.releaseShapes(),this.m===2&&gn>1?(aa=this.calculateShapeEdges(f,ze,ia.totalShapeLength,na,Cs),na+=ia.totalShapeLength):aa=[[ra,sa]],Kn=aa.length,Hn=0;Hn<Kn;Hn+=1){ra=aa[Hn][0],sa=aa[Hn][1],bs.length=0,sa<=1?bs.push({s:ia.totalShapeLength*ra,e:ia.totalShapeLength*sa}):ra>=1?bs.push({s:ia.totalShapeLength*(ra-1),e:ia.totalShapeLength*(sa-1)}):(bs.push({s:ia.totalShapeLength*ra,e:ia.totalShapeLength}),bs.push({s:0,e:ia.totalShapeLength*(sa-1)}));var oa=this.addShapes(ia,bs[0]);if(bs[0].s!==bs[0].e){if(bs.length>1){var ha=ia.shape.paths.shapes[ia.shape.paths._length-1];if(ha.c){var ga=oa.pop();this.addPaths(oa,la),oa=this.addShapes(ia,bs[1],ga)}else this.addPaths(oa,la),oa=this.addShapes(ia,bs[1])}this.addPaths(oa,la)}}ia.shape.paths=la}}},TrimModifier.prototype.addPaths=function(qe,f){var ze,Ke=qe.length;for(ze=0;ze<Ke;ze+=1)f.addShape(qe[ze])},TrimModifier.prototype.addSegment=function(qe,f,ze,Ke,Ai,ln,dn){Ai.setXYAt(f[0],f[1],"o",ln),Ai.setXYAt(ze[0],ze[1],"i",ln+1),dn&&Ai.setXYAt(qe[0],qe[1],"v",ln),Ai.setXYAt(Ke[0],Ke[1],"v",ln+1)},TrimModifier.prototype.addSegmentFromArray=function(qe,f,ze,Ke){f.setXYAt(qe[1],qe[5],"o",ze),f.setXYAt(qe[2],qe[6],"i",ze+1),Ke&&f.setXYAt(qe[0],qe[4],"v",ze),f.setXYAt(qe[3],qe[7],"v",ze+1)},TrimModifier.prototype.addShapes=function(qe,f,ze){var Ke=qe.pathsData,Ai=qe.shape.paths.shapes,ln,dn=qe.shape.paths._length,gn,Hn,Kn=0,Qn,ys,vs,Cs,bs=[],ia,la=!0;for(ze?(ys=ze._length,ia=ze._length):(ze=shapePool.newElement(),ys=0,ia=0),bs.push(ze),ln=0;ln<dn;ln+=1){for(vs=Ke[ln].lengths,ze.c=Ai[ln].c,Hn=Ai[ln].c?vs.length:vs.length+1,gn=1;gn<Hn;gn+=1)if(Qn=vs[gn-1],Kn+Qn.addedLength<f.s)Kn+=Qn.addedLength,ze.c=!1;else if(Kn>f.e){ze.c=!1;break}else f.s<=Kn&&f.e>=Kn+Qn.addedLength?(this.addSegment(Ai[ln].v[gn-1],Ai[ln].o[gn-1],Ai[ln].i[gn],Ai[ln].v[gn],ze,ys,la),la=!1):(Cs=bez.getNewSegment(Ai[ln].v[gn-1],Ai[ln].v[gn],Ai[ln].o[gn-1],Ai[ln].i[gn],(f.s-Kn)/Qn.addedLength,(f.e-Kn)/Qn.addedLength,vs[gn-1]),this.addSegmentFromArray(Cs,ze,ys,la),la=!1,ze.c=!1),Kn+=Qn.addedLength,ys+=1;if(Ai[ln].c&&vs.length){if(Qn=vs[gn-1],Kn<=f.e){var ra=vs[gn-1].addedLength;f.s<=Kn&&f.e>=Kn+ra?(this.addSegment(Ai[ln].v[gn-1],Ai[ln].o[gn-1],Ai[ln].i[0],Ai[ln].v[0],ze,ys,la),la=!1):(Cs=bez.getNewSegment(Ai[ln].v[gn-1],Ai[ln].v[0],Ai[ln].o[gn-1],Ai[ln].i[0],(f.s-Kn)/ra,(f.e-Kn)/ra,vs[gn-1]),this.addSegmentFromArray(Cs,ze,ys,la),la=!1,ze.c=!1)}else ze.c=!1;Kn+=Qn.addedLength,ys+=1}if(ze._length&&(ze.setXYAt(ze.v[ia][0],ze.v[ia][1],"i",ia),ze.setXYAt(ze.v[ze._length-1][0],ze.v[ze._length-1][1],"o",ze._length-1)),Kn>f.e)break;ln<dn-1&&(ze=shapePool.newElement(),la=!0,bs.push(ze),ys=0)}return bs};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(qe,f){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(qe,f.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(qe,f){var ze=f/100,Ke=[0,0],Ai=qe._length,ln=0;for(ln=0;ln<Ai;ln+=1)Ke[0]+=qe.v[ln][0],Ke[1]+=qe.v[ln][1];Ke[0]/=Ai,Ke[1]/=Ai;var dn=shapePool.newElement();dn.c=qe.c;var gn,Hn,Kn,Qn,ys,vs;for(ln=0;ln<Ai;ln+=1)gn=qe.v[ln][0]+(Ke[0]-qe.v[ln][0])*ze,Hn=qe.v[ln][1]+(Ke[1]-qe.v[ln][1])*ze,Kn=qe.o[ln][0]+(Ke[0]-qe.o[ln][0])*-ze,Qn=qe.o[ln][1]+(Ke[1]-qe.o[ln][1])*-ze,ys=qe.i[ln][0]+(Ke[0]-qe.i[ln][0])*-ze,vs=qe.i[ln][1]+(Ke[1]-qe.i[ln][1])*-ze,dn.setTripleAt(gn,Hn,Kn,Qn,ys,vs,ln);return dn},PuckerAndBloatModifier.prototype.processShapes=function(qe){var f,ze,Ke=this.shapes.length,Ai,ln,dn=this.amount.v;if(dn!==0){var gn,Hn;for(ze=0;ze<Ke;ze+=1){if(gn=this.shapes[ze],Hn=gn.localShapeCollection,!(!gn.shape._mdf&&!this._mdf&&!qe))for(Hn.releaseShapes(),gn.shape._mdf=!0,f=gn.shape.paths.shapes,ln=gn.shape.paths._length,Ai=0;Ai<ln;Ai+=1)Hn.addShape(this.processPath(f[Ai],dn));gn.shape.paths=gn.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var qe=[0,0];function f(Hn){var Kn=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||Kn,this.a&&Hn.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&Hn.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&Hn.skewFromAxis(-this.sk.v,this.sa.v),this.r?Hn.rotate(-this.r.v):Hn.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?Hn.translate(this.px.v,this.py.v,-this.pz.v):Hn.translate(this.px.v,this.py.v,0):Hn.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function ze(Hn){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||Hn){var Kn;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var Qn,ys;if(Kn=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(Qn=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/Kn,0),ys=this.p.getValueAtTime(this.p.keyframes[0].t/Kn,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(Qn=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/Kn,0),ys=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/Kn,0)):(Qn=this.p.pv,ys=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/Kn,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){Qn=[],ys=[];var vs=this.px,Cs=this.py;vs._caching.lastFrame+vs.offsetTime<=vs.keyframes[0].t?(Qn[0]=vs.getValueAtTime((vs.keyframes[0].t+.01)/Kn,0),Qn[1]=Cs.getValueAtTime((Cs.keyframes[0].t+.01)/Kn,0),ys[0]=vs.getValueAtTime(vs.keyframes[0].t/Kn,0),ys[1]=Cs.getValueAtTime(Cs.keyframes[0].t/Kn,0)):vs._caching.lastFrame+vs.offsetTime>=vs.keyframes[vs.keyframes.length-1].t?(Qn[0]=vs.getValueAtTime(vs.keyframes[vs.keyframes.length-1].t/Kn,0),Qn[1]=Cs.getValueAtTime(Cs.keyframes[Cs.keyframes.length-1].t/Kn,0),ys[0]=vs.getValueAtTime((vs.keyframes[vs.keyframes.length-1].t-.01)/Kn,0),ys[1]=Cs.getValueAtTime((Cs.keyframes[Cs.keyframes.length-1].t-.01)/Kn,0)):(Qn=[vs.pv,Cs.pv],ys[0]=vs.getValueAtTime((vs._caching.lastFrame+vs.offsetTime-.01)/Kn,vs.offsetTime),ys[1]=Cs.getValueAtTime((Cs._caching.lastFrame+Cs.offsetTime-.01)/Kn,Cs.offsetTime))}else ys=qe,Qn=ys;this.v.rotate(-Math.atan2(Qn[1]-ys[1],Qn[0]-ys[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function Ke(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function Ai(){}function ln(Hn){this._addDynamicProperty(Hn),this.elem.addDynamicProperty(Hn),this._isDirty=!0}function dn(Hn,Kn,Qn){if(this.elem=Hn,this.frameId=-1,this.propType="transform",this.data=Kn,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(Qn||Hn),Kn.p&&Kn.p.s?(this.px=PropertyFactory.getProp(Hn,Kn.p.x,0,0,this),this.py=PropertyFactory.getProp(Hn,Kn.p.y,0,0,this),Kn.p.z&&(this.pz=PropertyFactory.getProp(Hn,Kn.p.z,0,0,this))):this.p=PropertyFactory.getProp(Hn,Kn.p||{k:[0,0,0]},1,0,this),Kn.rx){if(this.rx=PropertyFactory.getProp(Hn,Kn.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(Hn,Kn.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(Hn,Kn.rz,0,degToRads,this),Kn.or.k[0].ti){var ys,vs=Kn.or.k.length;for(ys=0;ys<vs;ys+=1)Kn.or.k[ys].to=null,Kn.or.k[ys].ti=null}this.or=PropertyFactory.getProp(Hn,Kn.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(Hn,Kn.r||{k:0},0,degToRads,this);Kn.sk&&(this.sk=PropertyFactory.getProp(Hn,Kn.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(Hn,Kn.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(Hn,Kn.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(Hn,Kn.s||{k:[100,100,100]},1,.01,this),Kn.o?this.o=PropertyFactory.getProp(Hn,Kn.o,0,.01,Hn):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}dn.prototype={applyToMatrix:f,getValue:ze,precalculateMatrix:Ke,autoOrient:Ai},extendPrototype([DynamicPropertyContainer],dn),dn.prototype.addDynamicProperty=ln,dn.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function gn(Hn,Kn,Qn){return new dn(Hn,Kn,Qn)}return{getTransformProperty:gn}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(qe,f){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(qe,f.c,0,null,this),this.o=PropertyFactory.getProp(qe,f.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(qe,f.tr,this),this.so=PropertyFactory.getProp(qe,f.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(qe,f.tr.eo,0,.01,this),this.data=f,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(qe,f,ze,Ke,Ai,ln){var dn=ln?-1:1,gn=Ke.s.v[0]+(1-Ke.s.v[0])*(1-Ai),Hn=Ke.s.v[1]+(1-Ke.s.v[1])*(1-Ai);qe.translate(Ke.p.v[0]*dn*Ai,Ke.p.v[1]*dn*Ai,Ke.p.v[2]),f.translate(-Ke.a.v[0],-Ke.a.v[1],Ke.a.v[2]),f.rotate(-Ke.r.v*dn*Ai),f.translate(Ke.a.v[0],Ke.a.v[1],Ke.a.v[2]),ze.translate(-Ke.a.v[0],-Ke.a.v[1],Ke.a.v[2]),ze.scale(ln?1/gn:gn,ln?1/Hn:Hn),ze.translate(Ke.a.v[0],Ke.a.v[1],Ke.a.v[2])},RepeaterModifier.prototype.init=function(qe,f,ze,Ke){for(this.elem=qe,this.arr=f,this.pos=ze,this.elemsData=Ke,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(qe),this.initModifierProperties(qe,f[ze]);ze>0;)ze-=1,this._elements.unshift(f[ze]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(qe){var f,ze=qe.length;for(f=0;f<ze;f+=1)qe[f]._processed=!1,qe[f].ty==="gr"&&this.resetElements(qe[f].it)},RepeaterModifier.prototype.cloneElements=function(qe){var f=JSON.parse(JSON.stringify(qe));return this.resetElements(f),f},RepeaterModifier.prototype.changeGroupRender=function(qe,f){var ze,Ke=qe.length;for(ze=0;ze<Ke;ze+=1)qe[ze]._render=f,qe[ze].ty==="gr"&&this.changeGroupRender(qe[ze].it,f)},RepeaterModifier.prototype.processShapes=function(qe){var f,ze,Ke,Ai,ln,dn=!1;if(this._mdf||qe){var gn=Math.ceil(this.c.v);if(this._groups.length<gn){for(;this._groups.length<gn;){var Hn={it:this.cloneElements(this._elements),ty:"gr"};Hn.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,Hn),this._groups.splice(0,0,Hn),this._currentCopies+=1}this.elem.reloadShapes(),dn=!0}ln=0;var Kn;for(Ke=0;Ke<=this._groups.length-1;Ke+=1){if(Kn=ln<gn,this._groups[Ke]._render=Kn,this.changeGroupRender(this._groups[Ke].it,Kn),!Kn){var Qn=this.elemsData[Ke].it,ys=Qn[Qn.length-1];ys.transform.op.v!==0?(ys.transform.op._mdf=!0,ys.transform.op.v=0):ys.transform.op._mdf=!1}ln+=1}this._currentCopies=gn;var vs=this.o.v,Cs=vs%1,bs=vs>0?Math.floor(vs):Math.ceil(vs),ia=this.pMatrix.props,la=this.rMatrix.props,ra=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var sa=0;if(vs>0){for(;sa<bs;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),sa+=1;Cs&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,Cs,!1),sa+=Cs)}else if(vs<0){for(;sa>bs;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),sa-=1;Cs&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-Cs,!0),sa-=Cs)}Ke=this.data.m===1?0:this._currentCopies-1,Ai=this.data.m===1?1:-1,ln=this._currentCopies;for(var na,aa;ln;){if(f=this.elemsData[Ke].it,ze=f[f.length-1].transform.mProps.v.props,aa=ze.length,f[f.length-1].transform.mProps._mdf=!0,f[f.length-1].transform.op._mdf=!0,f[f.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(Ke/(this._currentCopies-1)),sa!==0){for((Ke!==0&&Ai===1||Ke!==this._currentCopies-1&&Ai===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(la[0],la[1],la[2],la[3],la[4],la[5],la[6],la[7],la[8],la[9],la[10],la[11],la[12],la[13],la[14],la[15]),this.matrix.transform(ra[0],ra[1],ra[2],ra[3],ra[4],ra[5],ra[6],ra[7],ra[8],ra[9],ra[10],ra[11],ra[12],ra[13],ra[14],ra[15]),this.matrix.transform(ia[0],ia[1],ia[2],ia[3],ia[4],ia[5],ia[6],ia[7],ia[8],ia[9],ia[10],ia[11],ia[12],ia[13],ia[14],ia[15]),na=0;na<aa;na+=1)ze[na]=this.matrix.props[na];this.matrix.reset()}else for(this.matrix.reset(),na=0;na<aa;na+=1)ze[na]=this.matrix.props[na];sa+=1,ln-=1,Ke+=Ai}}else for(ln=this._currentCopies,Ke=0,Ai=1;ln;)f=this.elemsData[Ke].it,ze=f[f.length-1].transform.mProps.v.props,f[f.length-1].transform.mProps._mdf=!1,f[f.length-1].transform.op._mdf=!1,ln-=1,Ke+=Ai;return dn},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(qe,f){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(qe,f.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(qe,f){var ze=shapePool.newElement();ze.c=qe.c;var Ke,Ai=qe._length,ln,dn,gn,Hn,Kn,Qn,ys=0,vs,Cs,bs,ia,la,ra;for(Ke=0;Ke<Ai;Ke+=1)ln=qe.v[Ke],gn=qe.o[Ke],dn=qe.i[Ke],ln[0]===gn[0]&&ln[1]===gn[1]&&ln[0]===dn[0]&&ln[1]===dn[1]?(Ke===0||Ke===Ai-1)&&!qe.c?(ze.setTripleAt(ln[0],ln[1],gn[0],gn[1],dn[0],dn[1],ys),ys+=1):(Ke===0?Hn=qe.v[Ai-1]:Hn=qe.v[Ke-1],Kn=Math.sqrt(Math.pow(ln[0]-Hn[0],2)+Math.pow(ln[1]-Hn[1],2)),Qn=Kn?Math.min(Kn/2,f)/Kn:0,la=ln[0]+(Hn[0]-ln[0])*Qn,vs=la,ra=ln[1]-(ln[1]-Hn[1])*Qn,Cs=ra,bs=vs-(vs-ln[0])*roundCorner,ia=Cs-(Cs-ln[1])*roundCorner,ze.setTripleAt(vs,Cs,bs,ia,la,ra,ys),ys+=1,Ke===Ai-1?Hn=qe.v[0]:Hn=qe.v[Ke+1],Kn=Math.sqrt(Math.pow(ln[0]-Hn[0],2)+Math.pow(ln[1]-Hn[1],2)),Qn=Kn?Math.min(Kn/2,f)/Kn:0,bs=ln[0]+(Hn[0]-ln[0])*Qn,vs=bs,ia=ln[1]+(Hn[1]-ln[1])*Qn,Cs=ia,la=vs-(vs-ln[0])*roundCorner,ra=Cs-(Cs-ln[1])*roundCorner,ze.setTripleAt(vs,Cs,bs,ia,la,ra,ys),ys+=1):(ze.setTripleAt(qe.v[Ke][0],qe.v[Ke][1],qe.o[Ke][0],qe.o[Ke][1],qe.i[Ke][0],qe.i[Ke][1],ys),ys+=1);return ze},RoundCornersModifier.prototype.processShapes=function(qe){var f,ze,Ke=this.shapes.length,Ai,ln,dn=this.rd.v;if(dn!==0){var gn,Hn;for(ze=0;ze<Ke;ze+=1){if(gn=this.shapes[ze],Hn=gn.localShapeCollection,!(!gn.shape._mdf&&!this._mdf&&!qe))for(Hn.releaseShapes(),gn.shape._mdf=!0,f=gn.shape.paths.shapes,ln=gn.shape.paths._length,Ai=0;Ai<ln;Ai+=1)Hn.addShape(this.processPath(f[Ai],dn));gn.shape.paths=gn.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(qe,f){return Math.abs(qe-f)*1e5<=Math.min(Math.abs(qe),Math.abs(f))}function floatZero(qe){return Math.abs(qe)<=1e-5}function lerp(qe,f,ze){return qe*(1-ze)+f*ze}function lerpPoint(qe,f,ze){return[lerp(qe[0],f[0],ze),lerp(qe[1],f[1],ze)]}function quadRoots(qe,f,ze){if(qe===0)return[];var Ke=f*f-4*qe*ze;if(Ke<0)return[];var Ai=-f/(2*qe);if(Ke===0)return[Ai];var ln=Math.sqrt(Ke)/(2*qe);return[Ai-ln,Ai+ln]}function polynomialCoefficients(qe,f,ze,Ke){return[-qe+3*f-3*ze+Ke,3*qe-6*f+3*ze,-3*qe+3*f,qe]}function singlePoint(qe){return new PolynomialBezier(qe,qe,qe,qe,!1)}function PolynomialBezier(qe,f,ze,Ke,Ai){Ai&&pointEqual(qe,f)&&(f=lerpPoint(qe,Ke,1/3)),Ai&&pointEqual(ze,Ke)&&(ze=lerpPoint(qe,Ke,2/3));var ln=polynomialCoefficients(qe[0],f[0],ze[0],Ke[0]),dn=polynomialCoefficients(qe[1],f[1],ze[1],Ke[1]);this.a=[ln[0],dn[0]],this.b=[ln[1],dn[1]],this.c=[ln[2],dn[2]],this.d=[ln[3],dn[3]],this.points=[qe,f,ze,Ke]}PolynomialBezier.prototype.point=function(qe){return[((this.a[0]*qe+this.b[0])*qe+this.c[0])*qe+this.d[0],((this.a[1]*qe+this.b[1])*qe+this.c[1])*qe+this.d[1]]},PolynomialBezier.prototype.derivative=function(qe){return[(3*qe*this.a[0]+2*this.b[0])*qe+this.c[0],(3*qe*this.a[1]+2*this.b[1])*qe+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(qe){var f=this.derivative(qe);return Math.atan2(f[1],f[0])},PolynomialBezier.prototype.normalAngle=function(qe){var f=this.derivative(qe);return Math.atan2(f[0],f[1])},PolynomialBezier.prototype.inflectionPoints=function(){var qe=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(qe))return[];var f=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/qe,ze=f*f-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/qe;if(ze<0)return[];var Ke=Math.sqrt(ze);return floatZero(Ke)?Ke>0&&Ke<1?[f]:[]:[f-Ke,f+Ke].filter(function(Ai){return Ai>0&&Ai<1})},PolynomialBezier.prototype.split=function(qe){if(qe<=0)return[singlePoint(this.points[0]),this];if(qe>=1)return[this,singlePoint(this.points[this.points.length-1])];var f=lerpPoint(this.points[0],this.points[1],qe),ze=lerpPoint(this.points[1],this.points[2],qe),Ke=lerpPoint(this.points[2],this.points[3],qe),Ai=lerpPoint(f,ze,qe),ln=lerpPoint(ze,Ke,qe),dn=lerpPoint(Ai,ln,qe);return[new PolynomialBezier(this.points[0],f,Ai,dn,!0),new PolynomialBezier(dn,ln,Ke,this.points[3],!0)]};function extrema(qe,f){var ze=qe.points[0][f],Ke=qe.points[qe.points.length-1][f];if(ze>Ke){var Ai=Ke;Ke=ze,ze=Ai}for(var ln=quadRoots(3*qe.a[f],2*qe.b[f],qe.c[f]),dn=0;dn<ln.length;dn+=1)if(ln[dn]>0&&ln[dn]<1){var gn=qe.point(ln[dn])[f];gn<ze?ze=gn:gn>Ke&&(Ke=gn)}return{min:ze,max:Ke}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var qe=this.bounds();return{left:qe.x.min,right:qe.x.max,top:qe.y.min,bottom:qe.y.max,width:qe.x.max-qe.x.min,height:qe.y.max-qe.y.min,cx:(qe.x.max+qe.x.min)/2,cy:(qe.y.max+qe.y.min)/2}};function intersectData(qe,f,ze){var Ke=qe.boundingBox();return{cx:Ke.cx,cy:Ke.cy,width:Ke.width,height:Ke.height,bez:qe,t:(f+ze)/2,t1:f,t2:ze}}function splitData(qe){var f=qe.bez.split(.5);return[intersectData(f[0],qe.t1,qe.t),intersectData(f[1],qe.t,qe.t2)]}function boxIntersect(qe,f){return Math.abs(qe.cx-f.cx)*2<qe.width+f.width&&Math.abs(qe.cy-f.cy)*2<qe.height+f.height}function intersectsImpl(qe,f,ze,Ke,Ai,ln){if(boxIntersect(qe,f)){if(ze>=ln||qe.width<=Ke&&qe.height<=Ke&&f.width<=Ke&&f.height<=Ke){Ai.push([qe.t,f.t]);return}var dn=splitData(qe),gn=splitData(f);intersectsImpl(dn[0],gn[0],ze+1,Ke,Ai,ln),intersectsImpl(dn[0],gn[1],ze+1,Ke,Ai,ln),intersectsImpl(dn[1],gn[0],ze+1,Ke,Ai,ln),intersectsImpl(dn[1],gn[1],ze+1,Ke,Ai,ln)}}PolynomialBezier.prototype.intersections=function(qe,f,ze){f===void 0&&(f=2),ze===void 0&&(ze=7);var Ke=[];return intersectsImpl(intersectData(this,0,1),intersectData(qe,0,1),0,f,Ke,ze),Ke},PolynomialBezier.shapeSegment=function(qe,f){var ze=(f+1)%qe.length();return new PolynomialBezier(qe.v[f],qe.o[f],qe.i[ze],qe.v[ze],!0)},PolynomialBezier.shapeSegmentInverted=function(qe,f){var ze=(f+1)%qe.length();return new PolynomialBezier(qe.v[ze],qe.i[ze],qe.o[f],qe.v[f],!0)};function crossProduct(qe,f){return[qe[1]*f[2]-qe[2]*f[1],qe[2]*f[0]-qe[0]*f[2],qe[0]*f[1]-qe[1]*f[0]]}function lineIntersection(qe,f,ze,Ke){var Ai=[qe[0],qe[1],1],ln=[f[0],f[1],1],dn=[ze[0],ze[1],1],gn=[Ke[0],Ke[1],1],Hn=crossProduct(crossProduct(Ai,ln),crossProduct(dn,gn));return floatZero(Hn[2])?null:[Hn[0]/Hn[2],Hn[1]/Hn[2]]}function polarOffset(qe,f,ze){return[qe[0]+Math.cos(f)*ze,qe[1]-Math.sin(f)*ze]}function pointDistance(qe,f){return Math.hypot(qe[0]-f[0],qe[1]-f[1])}function pointEqual(qe,f){return floatEqual(qe[0],f[0])&&floatEqual(qe[1],f[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(qe,f){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(qe,f.s,0,null,this),this.frequency=PropertyFactory.getProp(qe,f.r,0,null,this),this.pointsType=PropertyFactory.getProp(qe,f.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(qe,f,ze,Ke,Ai,ln,dn){var gn=ze-Math.PI/2,Hn=ze+Math.PI/2,Kn=f[0]+Math.cos(ze)*Ke*Ai,Qn=f[1]-Math.sin(ze)*Ke*Ai;qe.setTripleAt(Kn,Qn,Kn+Math.cos(gn)*ln,Qn-Math.sin(gn)*ln,Kn+Math.cos(Hn)*dn,Qn-Math.sin(Hn)*dn,qe.length())}function getPerpendicularVector(qe,f){var ze=[f[0]-qe[0],f[1]-qe[1]],Ke=-Math.PI*.5,Ai=[Math.cos(Ke)*ze[0]-Math.sin(Ke)*ze[1],Math.sin(Ke)*ze[0]+Math.cos(Ke)*ze[1]];return Ai}function getProjectingAngle(qe,f){var ze=f===0?qe.length()-1:f-1,Ke=(f+1)%qe.length(),Ai=qe.v[ze],ln=qe.v[Ke],dn=getPerpendicularVector(Ai,ln);return Math.atan2(0,1)-Math.atan2(dn[1],dn[0])}function zigZagCorner(qe,f,ze,Ke,Ai,ln,dn){var gn=getProjectingAngle(f,ze),Hn=f.v[ze%f._length],Kn=f.v[ze===0?f._length-1:ze-1],Qn=f.v[(ze+1)%f._length],ys=ln===2?Math.sqrt(Math.pow(Hn[0]-Kn[0],2)+Math.pow(Hn[1]-Kn[1],2)):0,vs=ln===2?Math.sqrt(Math.pow(Hn[0]-Qn[0],2)+Math.pow(Hn[1]-Qn[1],2)):0;setPoint(qe,f.v[ze%f._length],gn,dn,Ke,vs/((Ai+1)*2),ys/((Ai+1)*2))}function zigZagSegment(qe,f,ze,Ke,Ai,ln){for(var dn=0;dn<Ke;dn+=1){var gn=(dn+1)/(Ke+1),Hn=Ai===2?Math.sqrt(Math.pow(f.points[3][0]-f.points[0][0],2)+Math.pow(f.points[3][1]-f.points[0][1],2)):0,Kn=f.normalAngle(gn),Qn=f.point(gn);setPoint(qe,Qn,Kn,ln,ze,Hn/((Ke+1)*2),Hn/((Ke+1)*2)),ln=-ln}return ln}ZigZagModifier.prototype.processPath=function(qe,f,ze,Ke){var Ai=qe._length,ln=shapePool.newElement();if(ln.c=qe.c,qe.c||(Ai-=1),Ai===0)return ln;var dn=-1,gn=PolynomialBezier.shapeSegment(qe,0);zigZagCorner(ln,qe,0,f,ze,Ke,dn);for(var Hn=0;Hn<Ai;Hn+=1)dn=zigZagSegment(ln,gn,f,ze,Ke,-dn),Hn===Ai-1&&!qe.c?gn=null:gn=PolynomialBezier.shapeSegment(qe,(Hn+1)%Ai),zigZagCorner(ln,qe,Hn+1,f,ze,Ke,dn);return ln},ZigZagModifier.prototype.processShapes=function(qe){var f,ze,Ke=this.shapes.length,Ai,ln,dn=this.amplitude.v,gn=Math.max(0,Math.round(this.frequency.v)),Hn=this.pointsType.v;if(dn!==0){var Kn,Qn;for(ze=0;ze<Ke;ze+=1){if(Kn=this.shapes[ze],Qn=Kn.localShapeCollection,!(!Kn.shape._mdf&&!this._mdf&&!qe))for(Qn.releaseShapes(),Kn.shape._mdf=!0,f=Kn.shape.paths.shapes,ln=Kn.shape.paths._length,Ai=0;Ai<ln;Ai+=1)Qn.addShape(this.processPath(f[Ai],dn,gn,Hn));Kn.shape.paths=Kn.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(qe,f,ze){var Ke=Math.atan2(f[0]-qe[0],f[1]-qe[1]);return[polarOffset(qe,Ke,ze),polarOffset(f,Ke,ze)]}function offsetSegment(qe,f){var ze,Ke,Ai,ln,dn,gn,Hn;Hn=linearOffset(qe.points[0],qe.points[1],f),ze=Hn[0],Ke=Hn[1],Hn=linearOffset(qe.points[1],qe.points[2],f),Ai=Hn[0],ln=Hn[1],Hn=linearOffset(qe.points[2],qe.points[3],f),dn=Hn[0],gn=Hn[1];var Kn=lineIntersection(ze,Ke,Ai,ln);Kn===null&&(Kn=Ke);var Qn=lineIntersection(dn,gn,Ai,ln);return Qn===null&&(Qn=dn),new PolynomialBezier(ze,Kn,Qn,gn)}function joinLines(qe,f,ze,Ke,Ai){var ln=f.points[3],dn=ze.points[0];if(Ke===3||pointEqual(ln,dn))return ln;if(Ke===2){var gn=-f.tangentAngle(1),Hn=-ze.tangentAngle(0)+Math.PI,Kn=lineIntersection(ln,polarOffset(ln,gn+Math.PI/2,100),dn,polarOffset(dn,gn+Math.PI/2,100)),Qn=Kn?pointDistance(Kn,ln):pointDistance(ln,dn)/2,ys=polarOffset(ln,gn,2*Qn*roundCorner);return qe.setXYAt(ys[0],ys[1],"o",qe.length()-1),ys=polarOffset(dn,Hn,2*Qn*roundCorner),qe.setTripleAt(dn[0],dn[1],dn[0],dn[1],ys[0],ys[1],qe.length()),dn}var vs=pointEqual(ln,f.points[2])?f.points[0]:f.points[2],Cs=pointEqual(dn,ze.points[1])?ze.points[3]:ze.points[1],bs=lineIntersection(vs,ln,dn,Cs);return bs&&pointDistance(bs,ln)<Ai?(qe.setTripleAt(bs[0],bs[1],bs[0],bs[1],bs[0],bs[1],qe.length()),bs):ln}function getIntersection(qe,f){var ze=qe.intersections(f);return ze.length&&floatEqual(ze[0][0],1)&&ze.shift(),ze.length?ze[0]:null}function pruneSegmentIntersection(qe,f){var ze=qe.slice(),Ke=f.slice(),Ai=getIntersection(qe[qe.length-1],f[0]);return Ai&&(ze[qe.length-1]=qe[qe.length-1].split(Ai[0])[0],Ke[0]=f[0].split(Ai[1])[1]),qe.length>1&&f.length>1&&(Ai=getIntersection(qe[0],f[f.length-1]),Ai)?[[qe[0].split(Ai[0])[0]],[f[f.length-1].split(Ai[1])[1]]]:[ze,Ke]}function pruneIntersections(qe){for(var f,ze=1;ze<qe.length;ze+=1)f=pruneSegmentIntersection(qe[ze-1],qe[ze]),qe[ze-1]=f[0],qe[ze]=f[1];return qe.length>1&&(f=pruneSegmentIntersection(qe[qe.length-1],qe[0]),qe[qe.length-1]=f[0],qe[0]=f[1]),qe}function offsetSegmentSplit(qe,f){var ze=qe.inflectionPoints(),Ke,Ai,ln,dn;if(ze.length===0)return[offsetSegment(qe,f)];if(ze.length===1||floatEqual(ze[1],1))return ln=qe.split(ze[0]),Ke=ln[0],Ai=ln[1],[offsetSegment(Ke,f),offsetSegment(Ai,f)];ln=qe.split(ze[0]),Ke=ln[0];var gn=(ze[1]-ze[0])/(1-ze[0]);return ln=ln[1].split(gn),dn=ln[0],Ai=ln[1],[offsetSegment(Ke,f),offsetSegment(dn,f),offsetSegment(Ai,f)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(qe,f){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(qe,f.a,0,null,this),this.miterLimit=PropertyFactory.getProp(qe,f.ml,0,null,this),this.lineJoin=f.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(qe,f,ze,Ke){var Ai=shapePool.newElement();Ai.c=qe.c;var ln=qe.length();qe.c||(ln-=1);var dn,gn,Hn,Kn=[];for(dn=0;dn<ln;dn+=1)Hn=PolynomialBezier.shapeSegment(qe,dn),Kn.push(offsetSegmentSplit(Hn,f));if(!qe.c)for(dn=ln-1;dn>=0;dn-=1)Hn=PolynomialBezier.shapeSegmentInverted(qe,dn),Kn.push(offsetSegmentSplit(Hn,f));Kn=pruneIntersections(Kn);var Qn=null,ys=null;for(dn=0;dn<Kn.length;dn+=1){var vs=Kn[dn];for(ys&&(Qn=joinLines(Ai,ys,vs[0],ze,Ke)),ys=vs[vs.length-1],gn=0;gn<vs.length;gn+=1)Hn=vs[gn],Qn&&pointEqual(Hn.points[0],Qn)?Ai.setXYAt(Hn.points[1][0],Hn.points[1][1],"o",Ai.length()-1):Ai.setTripleAt(Hn.points[0][0],Hn.points[0][1],Hn.points[1][0],Hn.points[1][1],Hn.points[0][0],Hn.points[0][1],Ai.length()),Ai.setTripleAt(Hn.points[3][0],Hn.points[3][1],Hn.points[3][0],Hn.points[3][1],Hn.points[2][0],Hn.points[2][1],Ai.length()),Qn=Hn.points[3]}return Kn.length&&joinLines(Ai,ys,Kn[0][0],ze,Ke),Ai},OffsetPathModifier.prototype.processShapes=function(qe){var f,ze,Ke=this.shapes.length,Ai,ln,dn=this.amount.v,gn=this.miterLimit.v,Hn=this.lineJoin;if(dn!==0){var Kn,Qn;for(ze=0;ze<Ke;ze+=1){if(Kn=this.shapes[ze],Qn=Kn.localShapeCollection,!(!Kn.shape._mdf&&!this._mdf&&!qe))for(Qn.releaseShapes(),Kn.shape._mdf=!0,f=Kn.shape.paths.shapes,ln=Kn.shape.paths._length,Ai=0;Ai<ln;Ai+=1)Qn.addShape(this.processPath(f[Ai],dn,Hn,gn));Kn.shape.paths=Kn.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(qe){for(var f=qe.fStyle?qe.fStyle.split(" "):[],ze="normal",Ke="normal",Ai=f.length,ln,dn=0;dn<Ai;dn+=1)switch(ln=f[dn].toLowerCase(),ln){case"italic":Ke="italic";break;case"bold":ze="700";break;case"black":ze="900";break;case"medium":ze="500";break;case"regular":case"normal":ze="400";break;case"light":case"thin":ze="200";break}return{style:Ke,weight:qe.fWeight||ze}}var FontManager=function(){var qe=5e3,f={w:0,size:0,shapes:[],data:{shapes:[]}},ze=[];ze=ze.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var Ke=127988,Ai=917631,ln=917601,dn=917626,gn=65039,Hn=8205,Kn=127462,Qn=127487,ys=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function vs(ua){var ya=ua.split(","),ca,da=ya.length,pa=[];for(ca=0;ca<da;ca+=1)ya[ca]!=="sans-serif"&&ya[ca]!=="monospace"&&pa.push(ya[ca]);return pa.join(",")}function Cs(ua,ya){var ca=createTag("span");ca.setAttribute("aria-hidden",!0),ca.style.fontFamily=ya;var da=createTag("span");da.innerText="giItT1WQy@!-/#",ca.style.position="absolute",ca.style.left="-10000px",ca.style.top="-10000px",ca.style.fontSize="300px",ca.style.fontVariant="normal",ca.style.fontStyle="normal",ca.style.fontWeight="normal",ca.style.letterSpacing="0",ca.appendChild(da),document.body.appendChild(ca);var pa=da.offsetWidth;return da.style.fontFamily=vs(ua)+", "+ya,{node:da,w:pa,parent:ca}}function bs(){var ua,ya=this.fonts.length,ca,da,pa=ya;for(ua=0;ua<ya;ua+=1)this.fonts[ua].loaded?pa-=1:this.fonts[ua].fOrigin==="n"||this.fonts[ua].origin===0?this.fonts[ua].loaded=!0:(ca=this.fonts[ua].monoCase.node,da=this.fonts[ua].monoCase.w,ca.offsetWidth!==da?(pa-=1,this.fonts[ua].loaded=!0):(ca=this.fonts[ua].sansCase.node,da=this.fonts[ua].sansCase.w,ca.offsetWidth!==da&&(pa-=1,this.fonts[ua].loaded=!0)),this.fonts[ua].loaded&&(this.fonts[ua].sansCase.parent.parentNode.removeChild(this.fonts[ua].sansCase.parent),this.fonts[ua].monoCase.parent.parentNode.removeChild(this.fonts[ua].monoCase.parent)));pa!==0&&Date.now()-this.initTime<qe?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function ia(ua,ya){var ca=document.body&&ya?"svg":"canvas",da,pa=getFontProperties(ua);if(ca==="svg"){var xa=createNS("text");xa.style.fontSize="100px",xa.setAttribute("font-family",ua.fFamily),xa.setAttribute("font-style",pa.style),xa.setAttribute("font-weight",pa.weight),xa.textContent="1",ua.fClass?(xa.style.fontFamily="inherit",xa.setAttribute("class",ua.fClass)):xa.style.fontFamily=ua.fFamily,ya.appendChild(xa),da=xa}else{var Oa=new OffscreenCanvas(500,500).getContext("2d");Oa.font=pa.style+" "+pa.weight+" 100px "+ua.fFamily,da=Oa}function Ja(rl){return ca==="svg"?(da.textContent=rl,da.getComputedTextLength()):da.measureText(rl).width}return{measureText:Ja}}function la(ua,ya){if(!ua){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=ua.list;return}if(!document.body){this.isLoaded=!0,ua.list.forEach(function(Cl){Cl.helper=ia(Cl),Cl.cache={}}),this.fonts=ua.list;return}var ca=ua.list,da,pa=ca.length,xa=pa;for(da=0;da<pa;da+=1){var Oa=!0,Ja,rl;if(ca[da].loaded=!1,ca[da].monoCase=Cs(ca[da].fFamily,"monospace"),ca[da].sansCase=Cs(ca[da].fFamily,"sans-serif"),!ca[da].fPath)ca[da].loaded=!0,xa-=1;else if(ca[da].fOrigin==="p"||ca[da].origin===3){if(Ja=document.querySelectorAll('style[f-forigin="p"][f-family="'+ca[da].fFamily+'"], style[f-origin="3"][f-family="'+ca[da].fFamily+'"]'),Ja.length>0&&(Oa=!1),Oa){var hl=createTag("style");hl.setAttribute("f-forigin",ca[da].fOrigin),hl.setAttribute("f-origin",ca[da].origin),hl.setAttribute("f-family",ca[da].fFamily),hl.type="text/css",hl.innerText="@font-face {font-family: "+ca[da].fFamily+"; font-style: normal; src: url('"+ca[da].fPath+"');}",ya.appendChild(hl)}}else if(ca[da].fOrigin==="g"||ca[da].origin===1){for(Ja=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),rl=0;rl<Ja.length;rl+=1)Ja[rl].href.indexOf(ca[da].fPath)!==-1&&(Oa=!1);if(Oa){var al=createTag("link");al.setAttribute("f-forigin",ca[da].fOrigin),al.setAttribute("f-origin",ca[da].origin),al.type="text/css",al.rel="stylesheet",al.href=ca[da].fPath,document.body.appendChild(al)}}else if(ca[da].fOrigin==="t"||ca[da].origin===2){for(Ja=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),rl=0;rl<Ja.length;rl+=1)ca[da].fPath===Ja[rl].src&&(Oa=!1);if(Oa){var Tl=createTag("link");Tl.setAttribute("f-forigin",ca[da].fOrigin),Tl.setAttribute("f-origin",ca[da].origin),Tl.setAttribute("rel","stylesheet"),Tl.setAttribute("href",ca[da].fPath),ya.appendChild(Tl)}}ca[da].helper=ia(ca[da],ya),ca[da].cache={},this.fonts.push(ca[da])}xa===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function ra(ua){if(ua){this.chars||(this.chars=[]);var ya,ca=ua.length,da,pa=this.chars.length,xa;for(ya=0;ya<ca;ya+=1){for(da=0,xa=!1;da<pa;)this.chars[da].style===ua[ya].style&&this.chars[da].fFamily===ua[ya].fFamily&&this.chars[da].ch===ua[ya].ch&&(xa=!0),da+=1;xa||(this.chars.push(ua[ya]),pa+=1)}}}function sa(ua,ya,ca){for(var da=0,pa=this.chars.length;da<pa;){if(this.chars[da].ch===ua&&this.chars[da].style===ya&&this.chars[da].fFamily===ca)return this.chars[da];da+=1}return(typeof ua=="string"&&ua.charCodeAt(0)!==13||!ua)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",ua,ya,ca)),f}function na(ua,ya,ca){var da=this.getFontByName(ya),pa=ua;if(!da.cache[pa]){var xa=da.helper;if(ua===" "){var Oa=xa.measureText("|"+ua+"|"),Ja=xa.measureText("||");da.cache[pa]=(Oa-Ja)/100}else da.cache[pa]=xa.measureText(ua)/100}return da.cache[pa]*ca}function aa(ua){for(var ya=0,ca=this.fonts.length;ya<ca;){if(this.fonts[ya].fName===ua)return this.fonts[ya];ya+=1}return this.fonts[0]}function oa(ua){var ya=0,ca=ua.charCodeAt(0);if(ca>=55296&&ca<=56319){var da=ua.charCodeAt(1);da>=56320&&da<=57343&&(ya=(ca-55296)*1024+da-56320+65536)}return ya}function ha(ua,ya){var ca=ua.toString(16)+ya.toString(16);return ys.indexOf(ca)!==-1}function ga(ua){return ua===Hn}function va(ua){return ua===gn}function Sa(ua){var ya=oa(ua);return ya>=Kn&&ya<=Qn}function tl(ua){return Sa(ua.substr(0,2))&&Sa(ua.substr(2,2))}function Zo(ua){return ze.indexOf(ua)!==-1}function Ta(ua,ya){var ca=oa(ua.substr(ya,2));if(ca!==Ke)return!1;var da=0;for(ya+=2;da<5;){if(ca=oa(ua.substr(ya,2)),ca<ln||ca>dn)return!1;da+=1,ya+=2}return oa(ua.substr(ya,2))===Ai}function Qa(){this.isLoaded=!0}var $a=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};$a.isModifier=ha,$a.isZeroWidthJoiner=ga,$a.isFlagEmoji=tl,$a.isRegionalCode=Sa,$a.isCombinedCharacter=Zo,$a.isRegionalFlag=Ta,$a.isVariationSelector=va,$a.BLACK_FLAG_CODE_POINT=Ke;var Ma={addChars:ra,addFonts:la,getCharData:sa,getFontByName:aa,measureText:na,checkLoadedFonts:bs,setIsLoaded:Qa};return $a.prototype=Ma,$a}();function SlotManager(qe){this.animationData=qe}SlotManager.prototype.getProp=function(qe){return this.animationData.slots&&this.animationData.slots[qe.sid]?Object.assign(qe,this.animationData.slots[qe.sid].p):qe};function slotFactory(qe){return new SlotManager(qe)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(f){this.renderableComponents.indexOf(f)===-1&&this.renderableComponents.push(f)},removeRenderableComponent:function(f){this.renderableComponents.indexOf(f)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(f),1)},prepareRenderableFrame:function(f){this.checkLayerLimits(f)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(f){this.data.ip-this.data.st<=f&&this.data.op-this.data.st>f?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var f,ze=this.renderableComponents.length;for(f=0;f<ze;f+=1)this.renderableComponents[f].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var qe={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(f){return qe[f]||""}}();function SliderEffect(qe,f,ze){this.p=PropertyFactory.getProp(f,qe.v,0,0,ze)}function AngleEffect(qe,f,ze){this.p=PropertyFactory.getProp(f,qe.v,0,0,ze)}function ColorEffect(qe,f,ze){this.p=PropertyFactory.getProp(f,qe.v,1,0,ze)}function PointEffect(qe,f,ze){this.p=PropertyFactory.getProp(f,qe.v,1,0,ze)}function LayerIndexEffect(qe,f,ze){this.p=PropertyFactory.getProp(f,qe.v,0,0,ze)}function MaskIndexEffect(qe,f,ze){this.p=PropertyFactory.getProp(f,qe.v,0,0,ze)}function CheckboxEffect(qe,f,ze){this.p=PropertyFactory.getProp(f,qe.v,0,0,ze)}function NoValueEffect(){this.p={}}function EffectsManager(qe,f){var ze=qe.ef||[];this.effectElements=[];var Ke,Ai=ze.length,ln;for(Ke=0;Ke<Ai;Ke+=1)ln=new GroupEffect(ze[Ke],f),this.effectElements.push(ln)}function GroupEffect(qe,f){this.init(qe,f)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(qe,f){this.data=qe,this.effectElements=[],this.initDynamicPropertyContainer(f);var ze,Ke=this.data.ef.length,Ai,ln=this.data.ef;for(ze=0;ze<Ke;ze+=1){switch(Ai=null,ln[ze].ty){case 0:Ai=new SliderEffect(ln[ze],f,this);break;case 1:Ai=new AngleEffect(ln[ze],f,this);break;case 2:Ai=new ColorEffect(ln[ze],f,this);break;case 3:Ai=new PointEffect(ln[ze],f,this);break;case 4:case 7:Ai=new CheckboxEffect(ln[ze],f,this);break;case 10:Ai=new LayerIndexEffect(ln[ze],f,this);break;case 11:Ai=new MaskIndexEffect(ln[ze],f,this);break;case 5:Ai=new EffectsManager(ln[ze],f);break;default:Ai=new NoValueEffect(ln[ze]);break}Ai&&this.effectElements.push(Ai)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var f=0,ze=this.data.masksProperties.length;f<ze;){if(this.data.masksProperties[f].mode!=="n"&&this.data.masksProperties[f].cl!==!1)return!0;f+=1}return!1},initExpressions:function(){var f=getExpressionInterfaces();if(f){var ze=f("layer"),Ke=f("effects"),Ai=f("shape"),ln=f("text"),dn=f("comp");this.layerInterface=ze(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var gn=Ke.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(gn),this.data.ty===0||this.data.xt?this.compInterface=dn(this):this.data.ty===4?(this.layerInterface.shapeInterface=Ai(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=ln(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var f=getBlendMode(this.data.bm),ze=this.baseElement||this.layerElement;ze.style["mix-blend-mode"]=f},initBaseData:function(f,ze,Ke){this.globalData=ze,this.comp=Ke,this.data=f,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(f,ze){var Ke,Ai=this.dynamicProperties.length;for(Ke=0;Ke<Ai;Ke+=1)(ze||this._isParent&&this.dynamicProperties[Ke].propType==="transform")&&(this.dynamicProperties[Ke].getValue(),this.dynamicProperties[Ke]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(f){this.dynamicProperties.indexOf(f)===-1&&this.dynamicProperties.push(f)}};function FootageElement(qe,f,ze){this.initFrame(),this.initRenderable(),this.assetData=f.getAssetData(qe.refId),this.footageData=f.imageLoader.getAsset(this.assetData),this.initBaseData(qe,f,ze)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var qe=getExpressionInterfaces();if(qe){var f=qe("footage");this.layerInterface=f(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(qe,f,ze){this.initFrame(),this.initRenderable(),this.assetData=f.getAssetData(qe.refId),this.initBaseData(qe,f,ze),this._isPlaying=!1,this._canPlay=!1;var Ke=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(Ke),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=qe.tm?PropertyFactory.getProp(this,qe.tm,0,f.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,qe.au&&qe.au.lv?qe.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(qe){if(this.prepareRenderableFrame(qe,!0),this.prepareProperties(qe,!0),this.tm._placeholder)this._currentTime=qe/this.data.sr;else{var f=this.tm.v;this._currentTime=f}this._volume=this.lv.v[0];var ze=this._volume*this._volumeMultiplier;this._previousVolume!==ze&&(this._previousVolume=ze,this.audio.volume(ze))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(qe){this.audio.rate(qe)},AudioElement.prototype.volume=function(qe){this._volumeMultiplier=qe,this._previousVolume=qe*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(qe){var f,ze=this.layers.length,Ke;for(this.completeLayers=!0,f=ze-1;f>=0;f-=1)this.elements[f]||(Ke=this.layers[f],Ke.ip-Ke.st<=qe-this.layers[f].st&&Ke.op-Ke.st>qe-this.layers[f].st&&this.buildItem(f)),this.completeLayers=this.elements[f]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(qe){switch(qe.ty){case 2:return this.createImage(qe);case 0:return this.createComp(qe);case 1:return this.createSolid(qe);case 3:return this.createNull(qe);case 4:return this.createShape(qe);case 5:return this.createText(qe);case 6:return this.createAudio(qe);case 13:return this.createCamera(qe);case 15:return this.createFootage(qe);default:return this.createNull(qe)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(qe){return new AudioElement(qe,this.globalData,this)},BaseRenderer.prototype.createFootage=function(qe){return new FootageElement(qe,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var qe,f=this.layers.length;for(qe=0;qe<f;qe+=1)this.buildItem(qe);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(qe){this.completeLayers=!1;var f,ze=qe.length,Ke,Ai=this.layers.length;for(f=0;f<ze;f+=1)for(Ke=0;Ke<Ai;){if(this.layers[Ke].id===qe[f].id){this.layers[Ke]=qe[f];break}Ke+=1}},BaseRenderer.prototype.setProjectInterface=function(qe){this.globalData.projectInterface=qe},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(qe,f,ze){for(var Ke=this.elements,Ai=this.layers,ln=0,dn=Ai.length;ln<dn;)Ai[ln].ind==f&&(!Ke[ln]||Ke[ln]===!0?(this.buildItem(ln),this.addPendingElement(qe)):(ze.push(Ke[ln]),Ke[ln].setAsParent(),Ai[ln].parent!==void 0?this.buildElementParenting(qe,Ai[ln].parent,ze):qe.setHierarchy(ze))),ln+=1},BaseRenderer.prototype.addPendingElement=function(qe){this.pendingElements.push(qe)},BaseRenderer.prototype.searchExtraCompositions=function(qe){var f,ze=qe.length;for(f=0;f<ze;f+=1)if(qe[f].xt){var Ke=this.createComp(qe[f]);Ke.initExpressions(),this.globalData.projectInterface.registerComposition(Ke)}},BaseRenderer.prototype.getElementById=function(qe){var f,ze=this.elements.length;for(f=0;f<ze;f+=1)if(this.elements[f].data.ind===qe)return this.elements[f];return null},BaseRenderer.prototype.getElementByPath=function(qe){var f=qe.shift(),ze;if(typeof f=="number")ze=this.elements[f];else{var Ke,Ai=this.elements.length;for(Ke=0;Ke<Ai;Ke+=1)if(this.elements[Ke].data.nm===f){ze=this.elements[Ke];break}}return qe.length===0?ze:ze.getElementByPath(qe)},BaseRenderer.prototype.setupGlobalData=function(qe,f){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(qe),this.globalData.fontManager.addChars(qe.chars),this.globalData.fontManager.addFonts(qe.fonts,f),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=qe.fr,this.globalData.nm=qe.nm,this.globalData.compSize={w:qe.w,h:qe.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var f=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:f,localMat:f,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var f,ze=this.finalTransform.mat,Ke=0,Ai=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;Ke<Ai;){if(this.hierarchy[Ke].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}Ke+=1}if(this.finalTransform._matMdf)for(f=this.finalTransform.mProp.v.props,ze.cloneFromProps(f),Ke=0;Ke<Ai;Ke+=1)ze.multiply(this.hierarchy[Ke].finalTransform.mProp.v)}(!this.localTransforms||this.finalTransform._matMdf)&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var f=0,ze=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;f<ze;)this.localTransforms[f]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[f]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),f+=1;if(this.finalTransform._localMatMdf){var Ke=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(Ke),f=1;f<ze;f+=1){var Ai=this.localTransforms[f].matrix;Ke.multiply(Ai)}Ke.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var ln=this.finalTransform.localOpacity;for(f=0;f<ze;f+=1)ln*=this.localTransforms[f].opacity*.01;this.finalTransform.localOpacity=ln}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var f=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(f.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var ze=0,Ke=f.length;for(ze=0;ze<Ke;ze+=1)this.localTransforms.push(f[ze])}}},globalToLocal:function(f){var ze=[];ze.push(this.finalTransform);for(var Ke=!0,Ai=this.comp;Ke;)Ai.finalTransform?(Ai.data.hasMask&&ze.splice(0,0,Ai.finalTransform),Ai=Ai.comp):Ke=!1;var ln,dn=ze.length,gn;for(ln=0;ln<dn;ln+=1)gn=ze[ln].mat.applyToPointArray(0,0,0),f=[f[0]-gn[0],f[1]-gn[1],0];return f},mHelper:new Matrix};function MaskElement(qe,f,ze){this.data=qe,this.element=f,this.globalData=ze,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var Ke=this.globalData.defs,Ai,ln=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(ln),this.solidPath="";var dn,gn=this.masksProperties,Hn=0,Kn=[],Qn,ys,vs=createElementID(),Cs,bs,ia,la,ra="clipPath",sa="clip-path";for(Ai=0;Ai<ln;Ai+=1)if((gn[Ai].mode!=="a"&&gn[Ai].mode!=="n"||gn[Ai].inv||gn[Ai].o.k!==100||gn[Ai].o.x)&&(ra="mask",sa="mask"),(gn[Ai].mode==="s"||gn[Ai].mode==="i")&&Hn===0?(Cs=createNS("rect"),Cs.setAttribute("fill","#ffffff"),Cs.setAttribute("width",this.element.comp.data.w||0),Cs.setAttribute("height",this.element.comp.data.h||0),Kn.push(Cs)):Cs=null,dn=createNS("path"),gn[Ai].mode==="n")this.viewData[Ai]={op:PropertyFactory.getProp(this.element,gn[Ai].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,gn[Ai],3),elem:dn,lastPath:""},Ke.appendChild(dn);else{Hn+=1,dn.setAttribute("fill",gn[Ai].mode==="s"?"#000000":"#ffffff"),dn.setAttribute("clip-rule","nonzero");var na;if(gn[Ai].x.k!==0?(ra="mask",sa="mask",la=PropertyFactory.getProp(this.element,gn[Ai].x,0,null,this.element),na=createElementID(),bs=createNS("filter"),bs.setAttribute("id",na),ia=createNS("feMorphology"),ia.setAttribute("operator","erode"),ia.setAttribute("in","SourceGraphic"),ia.setAttribute("radius","0"),bs.appendChild(ia),Ke.appendChild(bs),dn.setAttribute("stroke",gn[Ai].mode==="s"?"#000000":"#ffffff")):(ia=null,la=null),this.storedData[Ai]={elem:dn,x:la,expan:ia,lastPath:"",lastOperator:"",filterId:na,lastRadius:0},gn[Ai].mode==="i"){ys=Kn.length;var aa=createNS("g");for(Qn=0;Qn<ys;Qn+=1)aa.appendChild(Kn[Qn]);var oa=createNS("mask");oa.setAttribute("mask-type","alpha"),oa.setAttribute("id",vs+"_"+Hn),oa.appendChild(dn),Ke.appendChild(oa),aa.setAttribute("mask","url("+getLocationHref()+"#"+vs+"_"+Hn+")"),Kn.length=0,Kn.push(aa)}else Kn.push(dn);gn[Ai].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[Ai]={elem:dn,lastPath:"",op:PropertyFactory.getProp(this.element,gn[Ai].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,gn[Ai],3),invRect:Cs},this.viewData[Ai].prop.k||this.drawPath(gn[Ai],this.viewData[Ai].prop.v,this.viewData[Ai])}for(this.maskElement=createNS(ra),ln=Kn.length,Ai=0;Ai<ln;Ai+=1)this.maskElement.appendChild(Kn[Ai]);Hn>0&&(this.maskElement.setAttribute("id",vs),this.element.maskedElement.setAttribute(sa,"url("+getLocationHref()+"#"+vs+")"),Ke.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(qe){return this.viewData[qe].prop},MaskElement.prototype.renderFrame=function(qe){var f=this.element.finalTransform.mat,ze,Ke=this.masksProperties.length;for(ze=0;ze<Ke;ze+=1)if((this.viewData[ze].prop._mdf||qe)&&this.drawPath(this.masksProperties[ze],this.viewData[ze].prop.v,this.viewData[ze]),(this.viewData[ze].op._mdf||qe)&&this.viewData[ze].elem.setAttribute("fill-opacity",this.viewData[ze].op.v),this.masksProperties[ze].mode!=="n"&&(this.viewData[ze].invRect&&(this.element.finalTransform.mProp._mdf||qe)&&this.viewData[ze].invRect.setAttribute("transform",f.getInverseMatrix().to2dCSS()),this.storedData[ze].x&&(this.storedData[ze].x._mdf||qe))){var Ai=this.storedData[ze].expan;this.storedData[ze].x.v<0?(this.storedData[ze].lastOperator!=="erode"&&(this.storedData[ze].lastOperator="erode",this.storedData[ze].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[ze].filterId+")")),Ai.setAttribute("radius",-this.storedData[ze].x.v)):(this.storedData[ze].lastOperator!=="dilate"&&(this.storedData[ze].lastOperator="dilate",this.storedData[ze].elem.setAttribute("filter",null)),this.storedData[ze].elem.setAttribute("stroke-width",this.storedData[ze].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var qe="M0,0 ";return qe+=" h"+this.globalData.compSize.w,qe+=" v"+this.globalData.compSize.h,qe+=" h-"+this.globalData.compSize.w,qe+=" v-"+this.globalData.compSize.h+" ",qe},MaskElement.prototype.drawPath=function(qe,f,ze){var Ke=" M"+f.v[0][0]+","+f.v[0][1],Ai,ln;for(ln=f._length,Ai=1;Ai<ln;Ai+=1)Ke+=" C"+f.o[Ai-1][0]+","+f.o[Ai-1][1]+" "+f.i[Ai][0]+","+f.i[Ai][1]+" "+f.v[Ai][0]+","+f.v[Ai][1];if(f.c&&ln>1&&(Ke+=" C"+f.o[Ai-1][0]+","+f.o[Ai-1][1]+" "+f.i[0][0]+","+f.i[0][1]+" "+f.v[0][0]+","+f.v[0][1]),ze.lastPath!==Ke){var dn="";ze.elem&&(f.c&&(dn=qe.inv?this.solidPath+Ke:Ke),ze.elem.setAttribute("d",dn)),ze.lastPath=Ke}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var qe={};qe.createFilter=f,qe.createAlphaToLuminanceFilter=ze;function f(Ke,Ai){var ln=createNS("filter");return ln.setAttribute("id",Ke),Ai!==!0&&(ln.setAttribute("filterUnits","objectBoundingBox"),ln.setAttribute("x","0%"),ln.setAttribute("y","0%"),ln.setAttribute("width","100%"),ln.setAttribute("height","100%")),ln}function ze(){var Ke=createNS("feColorMatrix");return Ke.setAttribute("type","matrix"),Ke.setAttribute("color-interpolation-filters","sRGB"),Ke.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),Ke}return qe}(),featureSupport=function(){var qe={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(qe.maskType=!1),/firefox/i.test(navigator.userAgent)&&(qe.svgLumaHidden=!1),qe}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(qe){var f,ze="SourceGraphic",Ke=qe.data.ef?qe.data.ef.length:0,Ai=createElementID(),ln=filtersFactory.createFilter(Ai,!0),dn=0;this.filters=[];var gn;for(f=0;f<Ke;f+=1){gn=null;var Hn=qe.data.ef[f].ty;if(registeredEffects$1[Hn]){var Kn=registeredEffects$1[Hn].effect;gn=new Kn(ln,qe.effectsManager.effectElements[f],qe,idPrefix+dn,ze),ze=idPrefix+dn,registeredEffects$1[Hn].countsAsEffect&&(dn+=1)}gn&&this.filters.push(gn)}dn&&(qe.globalData.defs.appendChild(ln),qe.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+Ai+")")),this.filters.length&&qe.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(qe){var f,ze=this.filters.length;for(f=0;f<ze;f+=1)this.filters[f].renderFrame(qe)},SVGEffects.prototype.getEffects=function(qe){var f,ze=this.filters.length,Ke=[];for(f=0;f<ze;f+=1)this.filters[f].type===qe&&Ke.push(this.filters[f]);return Ke};function registerEffect$1(qe,f,ze){registeredEffects$1[qe]={effect:f,countsAsEffect:ze}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var f=null;if(this.data.td){this.matteMasks={};var ze=createNS("g");ze.setAttribute("id",this.layerId),ze.appendChild(this.layerElement),f=ze,this.globalData.defs.appendChild(ze)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),f=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var Ke=createNS("clipPath"),Ai=createNS("path");Ai.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var ln=createElementID();if(Ke.setAttribute("id",ln),Ke.appendChild(Ai),this.globalData.defs.appendChild(Ke),this.checkMasks()){var dn=createNS("g");dn.setAttribute("clip-path","url("+getLocationHref()+"#"+ln+")"),dn.appendChild(this.layerElement),this.transformedElement=dn,f?f.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+ln+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(f){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[f]){var ze=this.layerId+"_"+f,Ke,Ai,ln,dn;if(f===1||f===3){var gn=createNS("mask");gn.setAttribute("id",ze),gn.setAttribute("mask-type",f===3?"luminance":"alpha"),ln=createNS("use"),ln.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),gn.appendChild(ln),this.globalData.defs.appendChild(gn),!featureSupport.maskType&&f===1&&(gn.setAttribute("mask-type","luminance"),Ke=createElementID(),Ai=filtersFactory.createFilter(Ke),this.globalData.defs.appendChild(Ai),Ai.appendChild(filtersFactory.createAlphaToLuminanceFilter()),dn=createNS("g"),dn.appendChild(ln),gn.appendChild(dn),dn.setAttribute("filter","url("+getLocationHref()+"#"+Ke+")"))}else if(f===2){var Hn=createNS("mask");Hn.setAttribute("id",ze),Hn.setAttribute("mask-type","alpha");var Kn=createNS("g");Hn.appendChild(Kn),Ke=createElementID(),Ai=filtersFactory.createFilter(Ke);var Qn=createNS("feComponentTransfer");Qn.setAttribute("in","SourceGraphic"),Ai.appendChild(Qn);var ys=createNS("feFuncA");ys.setAttribute("type","table"),ys.setAttribute("tableValues","1.0 0.0"),Qn.appendChild(ys),this.globalData.defs.appendChild(Ai);var vs=createNS("rect");vs.setAttribute("width",this.comp.data.w),vs.setAttribute("height",this.comp.data.h),vs.setAttribute("x","0"),vs.setAttribute("y","0"),vs.setAttribute("fill","#ffffff"),vs.setAttribute("opacity","0"),Kn.setAttribute("filter","url("+getLocationHref()+"#"+Ke+")"),Kn.appendChild(vs),ln=createNS("use"),ln.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),Kn.appendChild(ln),featureSupport.maskType||(Hn.setAttribute("mask-type","luminance"),Ai.appendChild(filtersFactory.createAlphaToLuminanceFilter()),dn=createNS("g"),Kn.appendChild(vs),dn.appendChild(this.layerElement),Kn.appendChild(dn)),this.globalData.defs.appendChild(Hn)}this.matteMasks[f]=ze}return this.matteMasks[f]},setMatte:function(f){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+f+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(f){this.hierarchy=f},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var qe={initElement:function(ze,Ke,Ai){this.initFrame(),this.initBaseData(ze,Ke,Ai),this.initTransform(ze,Ke,Ai),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var ze=this.baseElement||this.layerElement;ze.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var ze=this.baseElement||this.layerElement;ze.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(ze){this._mdf=!1,this.prepareRenderableFrame(ze),this.prepareProperties(ze,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(qe)],RenderableDOMElement)})();function IImageElement(qe,f,ze){this.assetData=f.getAssetData(qe.refId),this.assetData&&this.assetData.sid&&(this.assetData=f.slotManager.getProp(this.assetData)),this.initElement(qe,f,ze),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var qe=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",qe),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(qe,f){this.elem=qe,this.pos=f}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(f){var ze,Ke=this.shapeModifiers.length;for(ze=0;ze<Ke;ze+=1)this.shapeModifiers[ze].addShape(f)},isShapeInAnimatedModifiers:function(f){for(var ze=0,Ke=this.shapeModifiers.length;ze<Ke;)if(this.shapeModifiers[ze].isAnimatedWithShape(f))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var f,ze=this.shapes.length;for(f=0;f<ze;f+=1)this.shapes[f].sh.reset();ze=this.shapeModifiers.length;var Ke;for(f=ze-1;f>=0&&(Ke=this.shapeModifiers[f].processShapes(this._isFirstFrame),!Ke);f-=1);}},searchProcessedElement:function(f){for(var ze=this.processedElements,Ke=0,Ai=ze.length;Ke<Ai;){if(ze[Ke].elem===f)return ze[Ke].pos;Ke+=1}return 0},addProcessedElement:function(f,ze){for(var Ke=this.processedElements,Ai=Ke.length;Ai;)if(Ai-=1,Ke[Ai].elem===f){Ke[Ai].pos=ze;return}Ke.push(new ProcessedElement(f,ze))},prepareFrame:function(f){this.prepareRenderableFrame(f),this.prepareProperties(f,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(qe,f,ze){this.caches=[],this.styles=[],this.transformers=qe,this.lStr="",this.sh=ze,this.lvl=f,this._isAnimated=!!ze.k;for(var Ke=0,Ai=qe.length;Ke<Ai;){if(qe[Ke].mProps.dynamicProperties.length){this._isAnimated=!0;break}Ke+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(qe,f){this.data=qe,this.type=qe.ty,this.d="",this.lvl=f,this._mdf=!1,this.closed=qe.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(qe,f,ze,Ke){this.elem=qe,this.frameId=-1,this.dataProps=createSizedArray(f.length),this.renderer=ze,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",f.length?f.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(Ke);var Ai,ln=f.length||0,dn;for(Ai=0;Ai<ln;Ai+=1)dn=PropertyFactory.getProp(qe,f[Ai].v,0,0,this),this.k=dn.k||this.k,this.dataProps[Ai]={n:f[Ai].n,p:dn};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(qe){if(!(this.elem.globalData.frameId===this.frameId&&!qe)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||qe,this._mdf)){var f=0,ze=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),f=0;f<ze;f+=1)this.dataProps[f].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[f].p.v:this.dashArray[f]=this.dataProps[f].p.v:this.dashoffset[0]=this.dataProps[f].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(qe,f,ze){this.initDynamicPropertyContainer(qe),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(qe,f.o,0,.01,this),this.w=PropertyFactory.getProp(qe,f.w,0,null,this),this.d=new DashProperty(qe,f.d||{},"svg",this),this.c=PropertyFactory.getProp(qe,f.c,1,255,this),this.style=ze,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(qe,f,ze){this.initDynamicPropertyContainer(qe),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(qe,f.o,0,.01,this),this.c=PropertyFactory.getProp(qe,f.c,1,255,this),this.style=ze}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(qe,f,ze){this.initDynamicPropertyContainer(qe),this.getValue=this.iterateDynamicProperties,this.style=ze}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(qe,f,ze){this.data=f,this.c=createTypedArray("uint8c",f.p*4);var Ke=f.k.k[0].s?f.k.k[0].s.length-f.p*4:f.k.k.length-f.p*4;this.o=createTypedArray("float32",Ke),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=Ke,this.initDynamicPropertyContainer(ze),this.prop=PropertyFactory.getProp(qe,f.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(qe,f){for(var ze=0,Ke=this.o.length/2,Ai;ze<Ke;){if(Ai=Math.abs(qe[ze*4]-qe[f*4+ze*2]),Ai>.01)return!1;ze+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var qe=0,f=this.data.k.k.length;qe<f;){if(!this.comparePoints(this.data.k.k[qe].s,this.data.p))return!1;qe+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(qe){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||qe){var f,ze=this.data.p*4,Ke,Ai;for(f=0;f<ze;f+=1)Ke=f%4===0?100:255,Ai=Math.round(this.prop.v[f]*Ke),this.c[f]!==Ai&&(this.c[f]=Ai,this._cmdf=!qe);if(this.o.length)for(ze=this.prop.v.length,f=this.data.p*4;f<ze;f+=1)Ke=f%2===0?100:1,Ai=f%2===0?Math.round(this.prop.v[f]*100):this.prop.v[f],this.o[f-this.data.p*4]!==Ai&&(this.o[f-this.data.p*4]=Ai,this._omdf=!qe);this._mdf=!qe}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(qe,f,ze){this.initDynamicPropertyContainer(qe),this.getValue=this.iterateDynamicProperties,this.initGradientData(qe,f,ze)}SVGGradientFillStyleData.prototype.initGradientData=function(qe,f,ze){this.o=PropertyFactory.getProp(qe,f.o,0,.01,this),this.s=PropertyFactory.getProp(qe,f.s,1,null,this),this.e=PropertyFactory.getProp(qe,f.e,1,null,this),this.h=PropertyFactory.getProp(qe,f.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(qe,f.a||{k:0},0,degToRads,this),this.g=new GradientProperty(qe,f.g,this),this.style=ze,this.stops=[],this.setGradientData(ze.pElem,f),this.setGradientOpacity(f,ze),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(qe,f){var ze=createElementID(),Ke=createNS(f.t===1?"linearGradient":"radialGradient");Ke.setAttribute("id",ze),Ke.setAttribute("spreadMethod","pad"),Ke.setAttribute("gradientUnits","userSpaceOnUse");var Ai=[],ln,dn,gn;for(gn=f.g.p*4,dn=0;dn<gn;dn+=4)ln=createNS("stop"),Ke.appendChild(ln),Ai.push(ln);qe.setAttribute(f.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+ze+")"),this.gf=Ke,this.cst=Ai},SVGGradientFillStyleData.prototype.setGradientOpacity=function(qe,f){if(this.g._hasOpacity&&!this.g._collapsable){var ze,Ke,Ai,ln=createNS("mask"),dn=createNS("path");ln.appendChild(dn);var gn=createElementID(),Hn=createElementID();ln.setAttribute("id",Hn);var Kn=createNS(qe.t===1?"linearGradient":"radialGradient");Kn.setAttribute("id",gn),Kn.setAttribute("spreadMethod","pad"),Kn.setAttribute("gradientUnits","userSpaceOnUse"),Ai=qe.g.k.k[0].s?qe.g.k.k[0].s.length:qe.g.k.k.length;var Qn=this.stops;for(Ke=qe.g.p*4;Ke<Ai;Ke+=2)ze=createNS("stop"),ze.setAttribute("stop-color","rgb(255,255,255)"),Kn.appendChild(ze),Qn.push(ze);dn.setAttribute(qe.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+gn+")"),qe.ty==="gs"&&(dn.setAttribute("stroke-linecap",lineCapEnum[qe.lc||2]),dn.setAttribute("stroke-linejoin",lineJoinEnum[qe.lj||2]),qe.lj===1&&dn.setAttribute("stroke-miterlimit",qe.ml)),this.of=Kn,this.ms=ln,this.ost=Qn,this.maskId=Hn,f.msElem=dn}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(qe,f,ze){this.initDynamicPropertyContainer(qe),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(qe,f.w,0,null,this),this.d=new DashProperty(qe,f.d||{},"svg",this),this.initGradientData(qe,f,ze),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(qe,f,ze){this.transform={mProps:qe,op:f,container:ze},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(f,ze,Ke,Ai){if(ze===0)return"";var ln=f.o,dn=f.i,gn=f.v,Hn,Kn=" M"+Ai.applyToPointStringified(gn[0][0],gn[0][1]);for(Hn=1;Hn<ze;Hn+=1)Kn+=" C"+Ai.applyToPointStringified(ln[Hn-1][0],ln[Hn-1][1])+" "+Ai.applyToPointStringified(dn[Hn][0],dn[Hn][1])+" "+Ai.applyToPointStringified(gn[Hn][0],gn[Hn][1]);return Ke&&ze&&(Kn+=" C"+Ai.applyToPointStringified(ln[Hn-1][0],ln[Hn-1][1])+" "+Ai.applyToPointStringified(dn[0][0],dn[0][1])+" "+Ai.applyToPointStringified(gn[0][0],gn[0][1]),Kn+="z"),Kn},SVGElementsRenderer=function(){var qe=new Matrix,f=new Matrix,ze={createRenderFunction:Ke};function Ke(ys){switch(ys.ty){case"fl":return gn;case"gf":return Kn;case"gs":return Hn;case"st":return Qn;case"sh":case"el":case"rc":case"sr":return dn;case"tr":return Ai;case"no":return ln;default:return null}}function Ai(ys,vs,Cs){(Cs||vs.transform.op._mdf)&&vs.transform.container.setAttribute("opacity",vs.transform.op.v),(Cs||vs.transform.mProps._mdf)&&vs.transform.container.setAttribute("transform",vs.transform.mProps.v.to2dCSS())}function ln(){}function dn(ys,vs,Cs){var bs,ia,la,ra,sa,na,aa=vs.styles.length,oa=vs.lvl,ha,ga,va,Sa;for(na=0;na<aa;na+=1){if(ra=vs.sh._mdf||Cs,vs.styles[na].lvl<oa){for(ga=f.reset(),va=oa-vs.styles[na].lvl,Sa=vs.transformers.length-1;!ra&&va>0;)ra=vs.transformers[Sa].mProps._mdf||ra,va-=1,Sa-=1;if(ra)for(va=oa-vs.styles[na].lvl,Sa=vs.transformers.length-1;va>0;)ga.multiply(vs.transformers[Sa].mProps.v),va-=1,Sa-=1}else ga=qe;if(ha=vs.sh.paths,ia=ha._length,ra){for(la="",bs=0;bs<ia;bs+=1)sa=ha.shapes[bs],sa&&sa._length&&(la+=buildShapeString(sa,sa._length,sa.c,ga));vs.caches[na]=la}else la=vs.caches[na];vs.styles[na].d+=ys.hd===!0?"":la,vs.styles[na]._mdf=ra||vs.styles[na]._mdf}}function gn(ys,vs,Cs){var bs=vs.style;(vs.c._mdf||Cs)&&bs.pElem.setAttribute("fill","rgb("+bmFloor(vs.c.v[0])+","+bmFloor(vs.c.v[1])+","+bmFloor(vs.c.v[2])+")"),(vs.o._mdf||Cs)&&bs.pElem.setAttribute("fill-opacity",vs.o.v)}function Hn(ys,vs,Cs){Kn(ys,vs,Cs),Qn(ys,vs,Cs)}function Kn(ys,vs,Cs){var bs=vs.gf,ia=vs.g._hasOpacity,la=vs.s.v,ra=vs.e.v;if(vs.o._mdf||Cs){var sa=ys.ty==="gf"?"fill-opacity":"stroke-opacity";vs.style.pElem.setAttribute(sa,vs.o.v)}if(vs.s._mdf||Cs){var na=ys.t===1?"x1":"cx",aa=na==="x1"?"y1":"cy";bs.setAttribute(na,la[0]),bs.setAttribute(aa,la[1]),ia&&!vs.g._collapsable&&(vs.of.setAttribute(na,la[0]),vs.of.setAttribute(aa,la[1]))}var oa,ha,ga,va;if(vs.g._cmdf||Cs){oa=vs.cst;var Sa=vs.g.c;for(ga=oa.length,ha=0;ha<ga;ha+=1)va=oa[ha],va.setAttribute("offset",Sa[ha*4]+"%"),va.setAttribute("stop-color","rgb("+Sa[ha*4+1]+","+Sa[ha*4+2]+","+Sa[ha*4+3]+")")}if(ia&&(vs.g._omdf||Cs)){var tl=vs.g.o;for(vs.g._collapsable?oa=vs.cst:oa=vs.ost,ga=oa.length,ha=0;ha<ga;ha+=1)va=oa[ha],vs.g._collapsable||va.setAttribute("offset",tl[ha*2]+"%"),va.setAttribute("stop-opacity",tl[ha*2+1])}if(ys.t===1)(vs.e._mdf||Cs)&&(bs.setAttribute("x2",ra[0]),bs.setAttribute("y2",ra[1]),ia&&!vs.g._collapsable&&(vs.of.setAttribute("x2",ra[0]),vs.of.setAttribute("y2",ra[1])));else{var Zo;if((vs.s._mdf||vs.e._mdf||Cs)&&(Zo=Math.sqrt(Math.pow(la[0]-ra[0],2)+Math.pow(la[1]-ra[1],2)),bs.setAttribute("r",Zo),ia&&!vs.g._collapsable&&vs.of.setAttribute("r",Zo)),vs.s._mdf||vs.e._mdf||vs.h._mdf||vs.a._mdf||Cs){Zo||(Zo=Math.sqrt(Math.pow(la[0]-ra[0],2)+Math.pow(la[1]-ra[1],2)));var Ta=Math.atan2(ra[1]-la[1],ra[0]-la[0]),Qa=vs.h.v;Qa>=1?Qa=.99:Qa<=-1&&(Qa=-.99);var $a=Zo*Qa,Ma=Math.cos(Ta+vs.a.v)*$a+la[0],ua=Math.sin(Ta+vs.a.v)*$a+la[1];bs.setAttribute("fx",Ma),bs.setAttribute("fy",ua),ia&&!vs.g._collapsable&&(vs.of.setAttribute("fx",Ma),vs.of.setAttribute("fy",ua))}}}function Qn(ys,vs,Cs){var bs=vs.style,ia=vs.d;ia&&(ia._mdf||Cs)&&ia.dashStr&&(bs.pElem.setAttribute("stroke-dasharray",ia.dashStr),bs.pElem.setAttribute("stroke-dashoffset",ia.dashoffset[0])),vs.c&&(vs.c._mdf||Cs)&&bs.pElem.setAttribute("stroke","rgb("+bmFloor(vs.c.v[0])+","+bmFloor(vs.c.v[1])+","+bmFloor(vs.c.v[2])+")"),(vs.o._mdf||Cs)&&bs.pElem.setAttribute("stroke-opacity",vs.o.v),(vs.w._mdf||Cs)&&(bs.pElem.setAttribute("stroke-width",vs.w.v),bs.msElem&&bs.msElem.setAttribute("stroke-width",vs.w.v))}return ze}();function SVGShapeElement(qe,f,ze){this.shapes=[],this.shapesData=qe.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(qe,f,ze),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var qe,f=this.shapes.length,ze,Ke,Ai=this.stylesList.length,ln,dn=[],gn=!1;for(Ke=0;Ke<Ai;Ke+=1){for(ln=this.stylesList[Ke],gn=!1,dn.length=0,qe=0;qe<f;qe+=1)ze=this.shapes[qe],ze.styles.indexOf(ln)!==-1&&(dn.push(ze),gn=ze._isAnimated||gn);dn.length>1&&gn&&this.setShapesAsAnimated(dn)}},SVGShapeElement.prototype.setShapesAsAnimated=function(qe){var f,ze=qe.length;for(f=0;f<ze;f+=1)qe[f].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(qe,f){var ze,Ke=new SVGStyleData(qe,f),Ai=Ke.pElem;if(qe.ty==="st")ze=new SVGStrokeStyleData(this,qe,Ke);else if(qe.ty==="fl")ze=new SVGFillStyleData(this,qe,Ke);else if(qe.ty==="gf"||qe.ty==="gs"){var ln=qe.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;ze=new ln(this,qe,Ke),this.globalData.defs.appendChild(ze.gf),ze.maskId&&(this.globalData.defs.appendChild(ze.ms),this.globalData.defs.appendChild(ze.of),Ai.setAttribute("mask","url("+getLocationHref()+"#"+ze.maskId+")"))}else qe.ty==="no"&&(ze=new SVGNoStyleData(this,qe,Ke));return(qe.ty==="st"||qe.ty==="gs")&&(Ai.setAttribute("stroke-linecap",lineCapEnum[qe.lc||2]),Ai.setAttribute("stroke-linejoin",lineJoinEnum[qe.lj||2]),Ai.setAttribute("fill-opacity","0"),qe.lj===1&&Ai.setAttribute("stroke-miterlimit",qe.ml)),qe.r===2&&Ai.setAttribute("fill-rule","evenodd"),qe.ln&&Ai.setAttribute("id",qe.ln),qe.cl&&Ai.setAttribute("class",qe.cl),qe.bm&&(Ai.style["mix-blend-mode"]=getBlendMode(qe.bm)),this.stylesList.push(Ke),this.addToAnimatedContents(qe,ze),ze},SVGShapeElement.prototype.createGroupElement=function(qe){var f=new ShapeGroupData;return qe.ln&&f.gr.setAttribute("id",qe.ln),qe.cl&&f.gr.setAttribute("class",qe.cl),qe.bm&&(f.gr.style["mix-blend-mode"]=getBlendMode(qe.bm)),f},SVGShapeElement.prototype.createTransformElement=function(qe,f){var ze=TransformPropertyFactory.getTransformProperty(this,qe,this),Ke=new SVGTransformData(ze,ze.o,f);return this.addToAnimatedContents(qe,Ke),Ke},SVGShapeElement.prototype.createShapeElement=function(qe,f,ze){var Ke=4;qe.ty==="rc"?Ke=5:qe.ty==="el"?Ke=6:qe.ty==="sr"&&(Ke=7);var Ai=ShapePropertyFactory.getShapeProp(this,qe,Ke,this),ln=new SVGShapeData(f,ze,Ai);return this.shapes.push(ln),this.addShapeToModifiers(ln),this.addToAnimatedContents(qe,ln),ln},SVGShapeElement.prototype.addToAnimatedContents=function(qe,f){for(var ze=0,Ke=this.animatedContents.length;ze<Ke;){if(this.animatedContents[ze].element===f)return;ze+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(qe),element:f,data:qe})},SVGShapeElement.prototype.setElementStyles=function(qe){var f=qe.styles,ze,Ke=this.stylesList.length;for(ze=0;ze<Ke;ze+=1)f.indexOf(this.stylesList[ze])===-1&&!this.stylesList[ze].closed&&f.push(this.stylesList[ze])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var qe,f=this.itemsData.length;for(qe=0;qe<f;qe+=1)this.prevViewData[qe]=this.itemsData[qe];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),f=this.dynamicProperties.length,qe=0;qe<f;qe+=1)this.dynamicProperties[qe].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(qe,f,ze,Ke,Ai,ln,dn){var gn=[].concat(ln),Hn,Kn=qe.length-1,Qn,ys,vs=[],Cs=[],bs,ia,la;for(Hn=Kn;Hn>=0;Hn-=1){if(la=this.searchProcessedElement(qe[Hn]),la?f[Hn]=ze[la-1]:qe[Hn]._render=dn,qe[Hn].ty==="fl"||qe[Hn].ty==="st"||qe[Hn].ty==="gf"||qe[Hn].ty==="gs"||qe[Hn].ty==="no")la?f[Hn].style.closed=qe[Hn].hd:f[Hn]=this.createStyleElement(qe[Hn],Ai),qe[Hn]._render&&f[Hn].style.pElem.parentNode!==Ke&&Ke.appendChild(f[Hn].style.pElem),vs.push(f[Hn].style);else if(qe[Hn].ty==="gr"){if(!la)f[Hn]=this.createGroupElement(qe[Hn]);else for(ys=f[Hn].it.length,Qn=0;Qn<ys;Qn+=1)f[Hn].prevViewData[Qn]=f[Hn].it[Qn];this.searchShapes(qe[Hn].it,f[Hn].it,f[Hn].prevViewData,f[Hn].gr,Ai+1,gn,dn),qe[Hn]._render&&f[Hn].gr.parentNode!==Ke&&Ke.appendChild(f[Hn].gr)}else qe[Hn].ty==="tr"?(la||(f[Hn]=this.createTransformElement(qe[Hn],Ke)),bs=f[Hn].transform,gn.push(bs)):qe[Hn].ty==="sh"||qe[Hn].ty==="rc"||qe[Hn].ty==="el"||qe[Hn].ty==="sr"?(la||(f[Hn]=this.createShapeElement(qe[Hn],gn,Ai)),this.setElementStyles(f[Hn])):qe[Hn].ty==="tm"||qe[Hn].ty==="rd"||qe[Hn].ty==="ms"||qe[Hn].ty==="pb"||qe[Hn].ty==="zz"||qe[Hn].ty==="op"?(la?(ia=f[Hn],ia.closed=!1):(ia=ShapeModifiers.getModifier(qe[Hn].ty),ia.init(this,qe[Hn]),f[Hn]=ia,this.shapeModifiers.push(ia)),Cs.push(ia)):qe[Hn].ty==="rp"&&(la?(ia=f[Hn],ia.closed=!0):(ia=ShapeModifiers.getModifier(qe[Hn].ty),f[Hn]=ia,ia.init(this,qe,Hn,f),this.shapeModifiers.push(ia),dn=!1),Cs.push(ia));this.addProcessedElement(qe[Hn],Hn+1)}for(Kn=vs.length,Hn=0;Hn<Kn;Hn+=1)vs[Hn].closed=!0;for(Kn=Cs.length,Hn=0;Hn<Kn;Hn+=1)Cs[Hn].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var qe,f=this.stylesList.length;for(qe=0;qe<f;qe+=1)this.stylesList[qe].reset();for(this.renderShape(),qe=0;qe<f;qe+=1)(this.stylesList[qe]._mdf||this._isFirstFrame)&&(this.stylesList[qe].msElem&&(this.stylesList[qe].msElem.setAttribute("d",this.stylesList[qe].d),this.stylesList[qe].d="M0 0"+this.stylesList[qe].d),this.stylesList[qe].pElem.setAttribute("d",this.stylesList[qe].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var qe,f=this.animatedContents.length,ze;for(qe=0;qe<f;qe+=1)ze=this.animatedContents[qe],(this._isFirstFrame||ze.element._isAnimated)&&ze.data!==!0&&ze.fn(ze.data,ze.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(qe,f,ze,Ke,Ai,ln){this.o=qe,this.sw=f,this.sc=ze,this.fc=Ke,this.m=Ai,this.p=ln,this._mdf={o:!0,sw:!!f,sc:!!ze,fc:!!Ke,m:!0,p:!0}}LetterProps.prototype.update=function(qe,f,ze,Ke,Ai,ln){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var dn=!1;return this.o!==qe&&(this.o=qe,this._mdf.o=!0,dn=!0),this.sw!==f&&(this.sw=f,this._mdf.sw=!0,dn=!0),this.sc!==ze&&(this.sc=ze,this._mdf.sc=!0,dn=!0),this.fc!==Ke&&(this.fc=Ke,this._mdf.fc=!0,dn=!0),this.m!==Ai&&(this.m=Ai,this._mdf.m=!0,dn=!0),ln.length&&(this.p[0]!==ln[0]||this.p[1]!==ln[1]||this.p[4]!==ln[4]||this.p[5]!==ln[5]||this.p[12]!==ln[12]||this.p[13]!==ln[13])&&(this.p=ln,this._mdf.p=!0,dn=!0),dn};function TextProperty(qe,f){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,f.d&&f.d.sid&&(f.d=qe.globalData.slotManager.getProp(f.d)),this.data=f,this.elem=qe,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(qe,f){for(var ze in f)Object.prototype.hasOwnProperty.call(f,ze)&&(qe[ze]=f[ze]);return qe},TextProperty.prototype.setCurrentData=function(qe){qe.__complete||this.completeTextData(qe),this.currentData=qe,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(qe){this.effectsSequence.push(qe),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(qe){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!qe)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var f=this.currentData,ze=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var Ke,Ai=this.effectsSequence.length,ln=qe||this.data.d.k[this.keysIndex].s;for(Ke=0;Ke<Ai;Ke+=1)ze!==this.keysIndex?ln=this.effectsSequence[Ke](ln,ln.t):ln=this.effectsSequence[Ke](this.currentData,ln.t);f!==ln&&this.setCurrentData(ln),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var qe=this.data.d.k,f=this.elem.comp.renderedFrame,ze=0,Ke=qe.length;ze<=Ke-1&&!(ze===Ke-1||qe[ze+1].t>f);)ze+=1;return this.keysIndex!==ze&&(this.keysIndex=ze),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(qe){for(var f=[],ze=0,Ke=qe.length,Ai,ln,dn=!1,gn=!1,Hn="";ze<Ke;)dn=gn,gn=!1,Ai=qe.charCodeAt(ze),Hn=qe.charAt(ze),FontManager.isCombinedCharacter(Ai)?dn=!0:Ai>=55296&&Ai<=56319?FontManager.isRegionalFlag(qe,ze)?Hn=qe.substr(ze,14):(ln=qe.charCodeAt(ze+1),ln>=56320&&ln<=57343&&(FontManager.isModifier(Ai,ln)?(Hn=qe.substr(ze,2),dn=!0):FontManager.isFlagEmoji(qe.substr(ze,4))?Hn=qe.substr(ze,4):Hn=qe.substr(ze,2))):Ai>56319?(ln=qe.charCodeAt(ze+1),FontManager.isVariationSelector(Ai)&&(dn=!0)):FontManager.isZeroWidthJoiner(Ai)&&(dn=!0,gn=!0),dn?(f[f.length-1]+=Hn,dn=!1):f.push(Hn),ze+=Hn.length;return f},TextProperty.prototype.completeTextData=function(qe){qe.__complete=!0;var f=this.elem.globalData.fontManager,ze=this.data,Ke=[],Ai,ln,dn,gn=0,Hn,Kn=ze.m.g,Qn=0,ys=0,vs=0,Cs=[],bs=0,ia=0,la,ra,sa=f.getFontByName(qe.f),na,aa=0,oa=getFontProperties(sa);qe.fWeight=oa.weight,qe.fStyle=oa.style,qe.finalSize=qe.s,qe.finalText=this.buildFinalText(qe.t),ln=qe.finalText.length,qe.finalLineHeight=qe.lh;var ha=qe.tr/1e3*qe.finalSize,ga;if(qe.sz)for(var va=!0,Sa=qe.sz[0],tl=qe.sz[1],Zo,Ta;va;){Ta=this.buildFinalText(qe.t),Zo=0,bs=0,ln=Ta.length,ha=qe.tr/1e3*qe.finalSize;var Qa=-1;for(Ai=0;Ai<ln;Ai+=1)ga=Ta[Ai].charCodeAt(0),dn=!1,Ta[Ai]===" "?Qa=Ai:(ga===13||ga===3)&&(bs=0,dn=!0,Zo+=qe.finalLineHeight||qe.finalSize*1.2),f.chars?(na=f.getCharData(Ta[Ai],sa.fStyle,sa.fFamily),aa=dn?0:na.w*qe.finalSize/100):aa=f.measureText(Ta[Ai],qe.f,qe.finalSize),bs+aa>Sa&&Ta[Ai]!==" "?(Qa===-1?ln+=1:Ai=Qa,Zo+=qe.finalLineHeight||qe.finalSize*1.2,Ta.splice(Ai,Qa===Ai?1:0,"\r"),Qa=-1,bs=0):(bs+=aa,bs+=ha);Zo+=sa.ascent*qe.finalSize/100,this.canResize&&qe.finalSize>this.minimumFontSize&&tl<Zo?(qe.finalSize-=1,qe.finalLineHeight=qe.finalSize*qe.lh/qe.s):(qe.finalText=Ta,ln=qe.finalText.length,va=!1)}bs=-ha,aa=0;var $a=0,Ma;for(Ai=0;Ai<ln;Ai+=1)if(dn=!1,Ma=qe.finalText[Ai],ga=Ma.charCodeAt(0),ga===13||ga===3?($a=0,Cs.push(bs),ia=bs>ia?bs:ia,bs=-2*ha,Hn="",dn=!0,vs+=1):Hn=Ma,f.chars?(na=f.getCharData(Ma,sa.fStyle,f.getFontByName(qe.f).fFamily),aa=dn?0:na.w*qe.finalSize/100):aa=f.measureText(Hn,qe.f,qe.finalSize),Ma===" "?$a+=aa+ha:(bs+=aa+ha+$a,$a=0),Ke.push({l:aa,an:aa,add:Qn,n:dn,anIndexes:[],val:Hn,line:vs,animatorJustifyOffset:0}),Kn==2){if(Qn+=aa,Hn===""||Hn===" "||Ai===ln-1){for((Hn===""||Hn===" ")&&(Qn-=aa);ys<=Ai;)Ke[ys].an=Qn,Ke[ys].ind=gn,Ke[ys].extra=aa,ys+=1;gn+=1,Qn=0}}else if(Kn==3){if(Qn+=aa,Hn===""||Ai===ln-1){for(Hn===""&&(Qn-=aa);ys<=Ai;)Ke[ys].an=Qn,Ke[ys].ind=gn,Ke[ys].extra=aa,ys+=1;Qn=0,gn+=1}}else Ke[gn].ind=gn,Ke[gn].extra=0,gn+=1;if(qe.l=Ke,ia=bs>ia?bs:ia,Cs.push(bs),qe.sz)qe.boxWidth=qe.sz[0],qe.justifyOffset=0;else switch(qe.boxWidth=ia,qe.j){case 1:qe.justifyOffset=-qe.boxWidth;break;case 2:qe.justifyOffset=-qe.boxWidth/2;break;default:qe.justifyOffset=0}qe.lineWidths=Cs;var ua=ze.a,ya,ca;ra=ua.length;var da,pa,xa=[];for(la=0;la<ra;la+=1){for(ya=ua[la],ya.a.sc&&(qe.strokeColorAnim=!0),ya.a.sw&&(qe.strokeWidthAnim=!0),(ya.a.fc||ya.a.fh||ya.a.fs||ya.a.fb)&&(qe.fillColorAnim=!0),pa=0,da=ya.s.b,Ai=0;Ai<ln;Ai+=1)ca=Ke[Ai],ca.anIndexes[la]=pa,(da==1&&ca.val!==""||da==2&&ca.val!==""&&ca.val!==" "||da==3&&(ca.n||ca.val==" "||Ai==ln-1)||da==4&&(ca.n||Ai==ln-1))&&(ya.s.rn===1&&xa.push(pa),pa+=1);ze.a[la].s.totalChars=pa;var Oa=-1,Ja;if(ya.s.rn===1)for(Ai=0;Ai<ln;Ai+=1)ca=Ke[Ai],Oa!=ca.anIndexes[la]&&(Oa=ca.anIndexes[la],Ja=xa.splice(Math.floor(Math.random()*xa.length),1)[0]),ca.anIndexes[la]=Ja}qe.yOffset=qe.finalLineHeight||qe.finalSize*1.2,qe.ls=qe.ls||0,qe.ascent=sa.ascent*qe.finalSize/100},TextProperty.prototype.updateDocumentData=function(qe,f){f=f===void 0?this.keysIndex:f;var ze=this.copyData({},this.data.d.k[f].s);ze=this.copyData(ze,qe),this.data.d.k[f].s=ze,this.recalculate(f),this.setCurrentData(ze),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(qe){var f=this.data.d.k[qe].s;f.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(f)},TextProperty.prototype.canResizeFont=function(qe){this.canResize=qe,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(qe){this.minimumFontSize=Math.floor(qe)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var qe=Math.max,f=Math.min,ze=Math.floor;function Ke(ln,dn){this._currentTextLength=-1,this.k=!1,this.data=dn,this.elem=ln,this.comp=ln.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(ln),this.s=PropertyFactory.getProp(ln,dn.s||{k:0},0,0,this),"e"in dn?this.e=PropertyFactory.getProp(ln,dn.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(ln,dn.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(ln,dn.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(ln,dn.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(ln,dn.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(ln,dn.a,0,.01,this),this.dynamicProperties.length||this.getValue()}Ke.prototype={getMult:function(dn){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var gn=0,Hn=0,Kn=1,Qn=1;this.ne.v>0?gn=this.ne.v/100:Hn=-this.ne.v/100,this.xe.v>0?Kn=1-this.xe.v/100:Qn=1+this.xe.v/100;var ys=BezierFactory.getBezierEasing(gn,Hn,Kn,Qn).get,vs=0,Cs=this.finalS,bs=this.finalE,ia=this.data.sh;if(ia===2)bs===Cs?vs=dn>=bs?1:0:vs=qe(0,f(.5/(bs-Cs)+(dn-Cs)/(bs-Cs),1)),vs=ys(vs);else if(ia===3)bs===Cs?vs=dn>=bs?0:1:vs=1-qe(0,f(.5/(bs-Cs)+(dn-Cs)/(bs-Cs),1)),vs=ys(vs);else if(ia===4)bs===Cs?vs=0:(vs=qe(0,f(.5/(bs-Cs)+(dn-Cs)/(bs-Cs),1)),vs<.5?vs*=2:vs=1-2*(vs-.5)),vs=ys(vs);else if(ia===5){if(bs===Cs)vs=0;else{var la=bs-Cs;dn=f(qe(0,dn+.5-Cs),bs-Cs);var ra=-la/2+dn,sa=la/2;vs=Math.sqrt(1-ra*ra/(sa*sa))}vs=ys(vs)}else ia===6?(bs===Cs?vs=0:(dn=f(qe(0,dn+.5-Cs),bs-Cs),vs=(1+Math.cos(Math.PI+Math.PI*2*dn/(bs-Cs)))/2),vs=ys(vs)):(dn>=ze(Cs)&&(dn-Cs<0?vs=qe(0,f(f(bs,1)-(Cs-dn),1)):vs=qe(0,f(bs-dn,1))),vs=ys(vs));if(this.sm.v!==100){var na=this.sm.v*.01;na===0&&(na=1e-8);var aa=.5-na*.5;vs<aa?vs=0:(vs=(vs-aa)/na,vs>1&&(vs=1))}return vs*this.a.v},getValue:function(dn){this.iterateDynamicProperties(),this._mdf=dn||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,dn&&this.data.r===2&&(this.e.v=this._currentTextLength);var gn=this.data.r===2?1:100/this.data.totalChars,Hn=this.o.v/gn,Kn=this.s.v/gn+Hn,Qn=this.e.v/gn+Hn;if(Kn>Qn){var ys=Kn;Kn=Qn,Qn=ys}this.finalS=Kn,this.finalE=Qn}},extendPrototype([DynamicPropertyContainer],Ke);function Ai(ln,dn,gn){return new Ke(ln,dn)}return{getTextSelectorProp:Ai}}();function TextAnimatorDataProperty(qe,f,ze){var Ke={propType:!1},Ai=PropertyFactory.getProp,ln=f.a;this.a={r:ln.r?Ai(qe,ln.r,0,degToRads,ze):Ke,rx:ln.rx?Ai(qe,ln.rx,0,degToRads,ze):Ke,ry:ln.ry?Ai(qe,ln.ry,0,degToRads,ze):Ke,sk:ln.sk?Ai(qe,ln.sk,0,degToRads,ze):Ke,sa:ln.sa?Ai(qe,ln.sa,0,degToRads,ze):Ke,s:ln.s?Ai(qe,ln.s,1,.01,ze):Ke,a:ln.a?Ai(qe,ln.a,1,0,ze):Ke,o:ln.o?Ai(qe,ln.o,0,.01,ze):Ke,p:ln.p?Ai(qe,ln.p,1,0,ze):Ke,sw:ln.sw?Ai(qe,ln.sw,0,0,ze):Ke,sc:ln.sc?Ai(qe,ln.sc,1,0,ze):Ke,fc:ln.fc?Ai(qe,ln.fc,1,0,ze):Ke,fh:ln.fh?Ai(qe,ln.fh,0,0,ze):Ke,fs:ln.fs?Ai(qe,ln.fs,0,.01,ze):Ke,fb:ln.fb?Ai(qe,ln.fb,0,.01,ze):Ke,t:ln.t?Ai(qe,ln.t,0,0,ze):Ke},this.s=TextSelectorProp.getTextSelectorProp(qe,f.s,ze),this.s.t=f.s.t}function TextAnimatorProperty(qe,f,ze){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=qe,this._renderType=f,this._elem=ze,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(ze)}TextAnimatorProperty.prototype.searchProperties=function(){var qe,f=this._textData.a.length,ze,Ke=PropertyFactory.getProp;for(qe=0;qe<f;qe+=1)ze=this._textData.a[qe],this._animatorsData[qe]=new TextAnimatorDataProperty(this._elem,ze,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:Ke(this._elem,this._textData.p.a,0,0,this),f:Ke(this._elem,this._textData.p.f,0,0,this),l:Ke(this._elem,this._textData.p.l,0,0,this),r:Ke(this._elem,this._textData.p.r,0,0,this),p:Ke(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=Ke(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(qe,f){if(this.lettersChangedFlag=f,!(!this._mdf&&!this._isFirstFrame&&!f&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var ze=this._moreOptions.alignment.v,Ke=this._animatorsData,Ai=this._textData,ln=this.mHelper,dn=this._renderType,gn=this.renderedLetters.length,Hn,Kn,Qn,ys,vs=qe.l,Cs,bs,ia,la,ra,sa,na,aa,oa,ha,ga,va,Sa,tl,Zo;if(this._hasMaskedPath){if(Zo=this._pathData.m,!this._pathData.n||this._pathData._mdf){var Ta=Zo.v;this._pathData.r.v&&(Ta=Ta.reverse()),Cs={tLength:0,segments:[]},ys=Ta._length-1;var Qa;for(va=0,Qn=0;Qn<ys;Qn+=1)Qa=bez.buildBezierData(Ta.v[Qn],Ta.v[Qn+1],[Ta.o[Qn][0]-Ta.v[Qn][0],Ta.o[Qn][1]-Ta.v[Qn][1]],[Ta.i[Qn+1][0]-Ta.v[Qn+1][0],Ta.i[Qn+1][1]-Ta.v[Qn+1][1]]),Cs.tLength+=Qa.segmentLength,Cs.segments.push(Qa),va+=Qa.segmentLength;Qn=ys,Zo.v.c&&(Qa=bez.buildBezierData(Ta.v[Qn],Ta.v[0],[Ta.o[Qn][0]-Ta.v[Qn][0],Ta.o[Qn][1]-Ta.v[Qn][1]],[Ta.i[0][0]-Ta.v[0][0],Ta.i[0][1]-Ta.v[0][1]]),Cs.tLength+=Qa.segmentLength,Cs.segments.push(Qa),va+=Qa.segmentLength),this._pathData.pi=Cs}if(Cs=this._pathData.pi,bs=this._pathData.f.v,na=0,sa=1,la=0,ra=!0,ha=Cs.segments,bs<0&&Zo.v.c)for(Cs.tLength<Math.abs(bs)&&(bs=-Math.abs(bs)%Cs.tLength),na=ha.length-1,oa=ha[na].points,sa=oa.length-1;bs<0;)bs+=oa[sa].partialLength,sa-=1,sa<0&&(na-=1,oa=ha[na].points,sa=oa.length-1);oa=ha[na].points,aa=oa[sa-1],ia=oa[sa],ga=ia.partialLength}ys=vs.length,Hn=0,Kn=0;var $a=qe.finalSize*1.2*.714,Ma=!0,ua,ya,ca,da,pa;da=Ke.length;var xa,Oa=-1,Ja,rl,hl,al=bs,Tl=na,Cl=sa,Yl=-1,El,jl,yh,Dl,ll,Nh,Uh,Kl,Yh="",Xh=this.defaultPropsArray,qh;if(qe.j===2||qe.j===1){var _h=0,Dh=0,Oh=qe.j===2?-.5:-1,jh=0,Wh=!0;for(Qn=0;Qn<ys;Qn+=1)if(vs[Qn].n){for(_h&&(_h+=Dh);jh<Qn;)vs[jh].animatorJustifyOffset=_h,jh+=1;_h=0,Wh=!0}else{for(ca=0;ca<da;ca+=1)ua=Ke[ca].a,ua.t.propType&&(Wh&&qe.j===2&&(Dh+=ua.t.v*Oh),ya=Ke[ca].s,xa=ya.getMult(vs[Qn].anIndexes[ca],Ai.a[ca].s.totalChars),xa.length?_h+=ua.t.v*xa[0]*Oh:_h+=ua.t.v*xa*Oh);Wh=!1}for(_h&&(_h+=Dh);jh<Qn;)vs[jh].animatorJustifyOffset=_h,jh+=1}for(Qn=0;Qn<ys;Qn+=1){if(ln.reset(),El=1,vs[Qn].n)Hn=0,Kn+=qe.yOffset,Kn+=Ma?1:0,bs=al,Ma=!1,this._hasMaskedPath&&(na=Tl,sa=Cl,oa=ha[na].points,aa=oa[sa-1],ia=oa[sa],ga=ia.partialLength,la=0),Yh="",Kl="",Nh="",qh="",Xh=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Yl!==vs[Qn].line){switch(qe.j){case 1:bs+=va-qe.lineWidths[vs[Qn].line];break;case 2:bs+=(va-qe.lineWidths[vs[Qn].line])/2;break}Yl=vs[Qn].line}Oa!==vs[Qn].ind&&(vs[Oa]&&(bs+=vs[Oa].extra),bs+=vs[Qn].an/2,Oa=vs[Qn].ind),bs+=ze[0]*vs[Qn].an*.005;var ql=0;for(ca=0;ca<da;ca+=1)ua=Ke[ca].a,ua.p.propType&&(ya=Ke[ca].s,xa=ya.getMult(vs[Qn].anIndexes[ca],Ai.a[ca].s.totalChars),xa.length?ql+=ua.p.v[0]*xa[0]:ql+=ua.p.v[0]*xa),ua.a.propType&&(ya=Ke[ca].s,xa=ya.getMult(vs[Qn].anIndexes[ca],Ai.a[ca].s.totalChars),xa.length?ql+=ua.a.v[0]*xa[0]:ql+=ua.a.v[0]*xa);for(ra=!0,this._pathData.a.v&&(bs=vs[0].an*.5+(va-this._pathData.f.v-vs[0].an*.5-vs[vs.length-1].an*.5)*Oa/(ys-1),bs+=this._pathData.f.v);ra;)la+ga>=bs+ql||!oa?(Sa=(bs+ql-la)/ia.partialLength,rl=aa.point[0]+(ia.point[0]-aa.point[0])*Sa,hl=aa.point[1]+(ia.point[1]-aa.point[1])*Sa,ln.translate(-ze[0]*vs[Qn].an*.005,-(ze[1]*$a)*.01),ra=!1):oa&&(la+=ia.partialLength,sa+=1,sa>=oa.length&&(sa=0,na+=1,ha[na]?oa=ha[na].points:Zo.v.c?(sa=0,na=0,oa=ha[na].points):(la-=ia.partialLength,oa=null)),oa&&(aa=ia,ia=oa[sa],ga=ia.partialLength));Ja=vs[Qn].an/2-vs[Qn].add,ln.translate(-Ja,0,0)}else Ja=vs[Qn].an/2-vs[Qn].add,ln.translate(-Ja,0,0),ln.translate(-ze[0]*vs[Qn].an*.005,-ze[1]*$a*.01,0);for(ca=0;ca<da;ca+=1)ua=Ke[ca].a,ua.t.propType&&(ya=Ke[ca].s,xa=ya.getMult(vs[Qn].anIndexes[ca],Ai.a[ca].s.totalChars),(Hn!==0||qe.j!==0)&&(this._hasMaskedPath?xa.length?bs+=ua.t.v*xa[0]:bs+=ua.t.v*xa:xa.length?Hn+=ua.t.v*xa[0]:Hn+=ua.t.v*xa));for(qe.strokeWidthAnim&&(yh=qe.sw||0),qe.strokeColorAnim&&(qe.sc?jl=[qe.sc[0],qe.sc[1],qe.sc[2]]:jl=[0,0,0]),qe.fillColorAnim&&qe.fc&&(Dl=[qe.fc[0],qe.fc[1],qe.fc[2]]),ca=0;ca<da;ca+=1)ua=Ke[ca].a,ua.a.propType&&(ya=Ke[ca].s,xa=ya.getMult(vs[Qn].anIndexes[ca],Ai.a[ca].s.totalChars),xa.length?ln.translate(-ua.a.v[0]*xa[0],-ua.a.v[1]*xa[1],ua.a.v[2]*xa[2]):ln.translate(-ua.a.v[0]*xa,-ua.a.v[1]*xa,ua.a.v[2]*xa));for(ca=0;ca<da;ca+=1)ua=Ke[ca].a,ua.s.propType&&(ya=Ke[ca].s,xa=ya.getMult(vs[Qn].anIndexes[ca],Ai.a[ca].s.totalChars),xa.length?ln.scale(1+(ua.s.v[0]-1)*xa[0],1+(ua.s.v[1]-1)*xa[1],1):ln.scale(1+(ua.s.v[0]-1)*xa,1+(ua.s.v[1]-1)*xa,1));for(ca=0;ca<da;ca+=1){if(ua=Ke[ca].a,ya=Ke[ca].s,xa=ya.getMult(vs[Qn].anIndexes[ca],Ai.a[ca].s.totalChars),ua.sk.propType&&(xa.length?ln.skewFromAxis(-ua.sk.v*xa[0],ua.sa.v*xa[1]):ln.skewFromAxis(-ua.sk.v*xa,ua.sa.v*xa)),ua.r.propType&&(xa.length?ln.rotateZ(-ua.r.v*xa[2]):ln.rotateZ(-ua.r.v*xa)),ua.ry.propType&&(xa.length?ln.rotateY(ua.ry.v*xa[1]):ln.rotateY(ua.ry.v*xa)),ua.rx.propType&&(xa.length?ln.rotateX(ua.rx.v*xa[0]):ln.rotateX(ua.rx.v*xa)),ua.o.propType&&(xa.length?El+=(ua.o.v*xa[0]-El)*xa[0]:El+=(ua.o.v*xa-El)*xa),qe.strokeWidthAnim&&ua.sw.propType&&(xa.length?yh+=ua.sw.v*xa[0]:yh+=ua.sw.v*xa),qe.strokeColorAnim&&ua.sc.propType)for(ll=0;ll<3;ll+=1)xa.length?jl[ll]+=(ua.sc.v[ll]-jl[ll])*xa[0]:jl[ll]+=(ua.sc.v[ll]-jl[ll])*xa;if(qe.fillColorAnim&&qe.fc){if(ua.fc.propType)for(ll=0;ll<3;ll+=1)xa.length?Dl[ll]+=(ua.fc.v[ll]-Dl[ll])*xa[0]:Dl[ll]+=(ua.fc.v[ll]-Dl[ll])*xa;ua.fh.propType&&(xa.length?Dl=addHueToRGB(Dl,ua.fh.v*xa[0]):Dl=addHueToRGB(Dl,ua.fh.v*xa)),ua.fs.propType&&(xa.length?Dl=addSaturationToRGB(Dl,ua.fs.v*xa[0]):Dl=addSaturationToRGB(Dl,ua.fs.v*xa)),ua.fb.propType&&(xa.length?Dl=addBrightnessToRGB(Dl,ua.fb.v*xa[0]):Dl=addBrightnessToRGB(Dl,ua.fb.v*xa))}}for(ca=0;ca<da;ca+=1)ua=Ke[ca].a,ua.p.propType&&(ya=Ke[ca].s,xa=ya.getMult(vs[Qn].anIndexes[ca],Ai.a[ca].s.totalChars),this._hasMaskedPath?xa.length?ln.translate(0,ua.p.v[1]*xa[0],-ua.p.v[2]*xa[1]):ln.translate(0,ua.p.v[1]*xa,-ua.p.v[2]*xa):xa.length?ln.translate(ua.p.v[0]*xa[0],ua.p.v[1]*xa[1],-ua.p.v[2]*xa[2]):ln.translate(ua.p.v[0]*xa,ua.p.v[1]*xa,-ua.p.v[2]*xa));if(qe.strokeWidthAnim&&(Nh=yh<0?0:yh),qe.strokeColorAnim&&(Uh="rgb("+Math.round(jl[0]*255)+","+Math.round(jl[1]*255)+","+Math.round(jl[2]*255)+")"),qe.fillColorAnim&&qe.fc&&(Kl="rgb("+Math.round(Dl[0]*255)+","+Math.round(Dl[1]*255)+","+Math.round(Dl[2]*255)+")"),this._hasMaskedPath){if(ln.translate(0,-qe.ls),ln.translate(0,ze[1]*$a*.01+Kn,0),this._pathData.p.v){tl=(ia.point[1]-aa.point[1])/(ia.point[0]-aa.point[0]);var zl=Math.atan(tl)*180/Math.PI;ia.point[0]<aa.point[0]&&(zl+=180),ln.rotate(-zl*Math.PI/180)}ln.translate(rl,hl,0),bs-=ze[0]*vs[Qn].an*.005,vs[Qn+1]&&Oa!==vs[Qn+1].ind&&(bs+=vs[Qn].an/2,bs+=qe.tr*.001*qe.finalSize)}else{switch(ln.translate(Hn,Kn,0),qe.ps&&ln.translate(qe.ps[0],qe.ps[1]+qe.ascent,0),qe.j){case 1:ln.translate(vs[Qn].animatorJustifyOffset+qe.justifyOffset+(qe.boxWidth-qe.lineWidths[vs[Qn].line]),0,0);break;case 2:ln.translate(vs[Qn].animatorJustifyOffset+qe.justifyOffset+(qe.boxWidth-qe.lineWidths[vs[Qn].line])/2,0,0);break}ln.translate(0,-qe.ls),ln.translate(Ja,0,0),ln.translate(ze[0]*vs[Qn].an*.005,ze[1]*$a*.01,0),Hn+=vs[Qn].l+qe.tr*.001*qe.finalSize}dn==="html"?Yh=ln.toCSS():dn==="svg"?Yh=ln.to2dCSS():Xh=[ln.props[0],ln.props[1],ln.props[2],ln.props[3],ln.props[4],ln.props[5],ln.props[6],ln.props[7],ln.props[8],ln.props[9],ln.props[10],ln.props[11],ln.props[12],ln.props[13],ln.props[14],ln.props[15]],qh=El}gn<=Qn?(pa=new LetterProps(qh,Nh,Uh,Kl,Yh,Xh),this.renderedLetters.push(pa),gn+=1,this.lettersChangedFlag=!0):(pa=this.renderedLetters[Qn],this.lettersChangedFlag=pa.update(qh,Nh,Uh,Kl,Yh,Xh)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(qe,f,ze){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(qe,f,ze),this.textProperty=new TextProperty(this,qe.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(qe.t,this.renderType,this),this.initTransform(qe,f,ze),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(qe){this._mdf=!1,this.prepareRenderableFrame(qe),this.prepareProperties(qe,this.isInRange)},ITextElement.prototype.createPathShape=function(qe,f){var ze,Ke=f.length,Ai,ln="";for(ze=0;ze<Ke;ze+=1)f[ze].ty==="sh"&&(Ai=f[ze].ks.k,ln+=buildShapeString(Ai,Ai.i.length,!0,qe));return ln},ITextElement.prototype.updateDocumentData=function(qe,f){this.textProperty.updateDocumentData(qe,f)},ITextElement.prototype.canResizeFont=function(qe){this.textProperty.canResizeFont(qe)},ITextElement.prototype.setMinimumFontSize=function(qe){this.textProperty.setMinimumFontSize(qe)},ITextElement.prototype.applyTextPropertiesToMatrix=function(qe,f,ze,Ke,Ai){switch(qe.ps&&f.translate(qe.ps[0],qe.ps[1]+qe.ascent,0),f.translate(0,-qe.ls,0),qe.j){case 1:f.translate(qe.justifyOffset+(qe.boxWidth-qe.lineWidths[ze]),0,0);break;case 2:f.translate(qe.justifyOffset+(qe.boxWidth-qe.lineWidths[ze])/2,0,0);break}f.translate(Ke,Ai,0)},ITextElement.prototype.buildColor=function(qe){return"rgb("+Math.round(qe[0]*255)+","+Math.round(qe[1]*255)+","+Math.round(qe[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(qe,f,ze){this.textSpans=[],this.renderType="svg",this.initElement(qe,f,ze)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(qe){for(var f=0,ze=qe.length,Ke=[],Ai="";f<ze;)qe[f]==="\r"||qe[f]===""?(Ke.push(Ai),Ai=""):Ai+=qe[f],f+=1;return Ke.push(Ai),Ke},SVGTextLottieElement.prototype.buildShapeData=function(qe,f){if(qe.shapes&&qe.shapes.length){var ze=qe.shapes[0];if(ze.it){var Ke=ze.it[ze.it.length-1];Ke.s&&(Ke.s.k[0]=f,Ke.s.k[1]=f)}}return qe},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var qe,f,ze=this.textProperty.currentData;this.renderedLetters=createSizedArray(ze?ze.l.length:0),ze.fc?this.layerElement.setAttribute("fill",this.buildColor(ze.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),ze.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(ze.sc)),this.layerElement.setAttribute("stroke-width",ze.sw)),this.layerElement.setAttribute("font-size",ze.finalSize);var Ke=this.globalData.fontManager.getFontByName(ze.f);if(Ke.fClass)this.layerElement.setAttribute("class",Ke.fClass);else{this.layerElement.setAttribute("font-family",Ke.fFamily);var Ai=ze.fWeight,ln=ze.fStyle;this.layerElement.setAttribute("font-style",ln),this.layerElement.setAttribute("font-weight",Ai)}this.layerElement.setAttribute("aria-label",ze.t);var dn=ze.l||[],gn=!!this.globalData.fontManager.chars;f=dn.length;var Hn,Kn=this.mHelper,Qn="",ys=this.data.singleShape,vs=0,Cs=0,bs=!0,ia=ze.tr*.001*ze.finalSize;if(ys&&!gn&&!ze.sz){var la=this.textContainer,ra="start";switch(ze.j){case 1:ra="end";break;case 2:ra="middle";break;default:ra="start";break}la.setAttribute("text-anchor",ra),la.setAttribute("letter-spacing",ia);var sa=this.buildTextContents(ze.finalText);for(f=sa.length,Cs=ze.ps?ze.ps[1]+ze.ascent:0,qe=0;qe<f;qe+=1)Hn=this.textSpans[qe].span||createNS("tspan"),Hn.textContent=sa[qe],Hn.setAttribute("x",0),Hn.setAttribute("y",Cs),Hn.style.display="inherit",la.appendChild(Hn),this.textSpans[qe]||(this.textSpans[qe]={span:null,glyph:null}),this.textSpans[qe].span=Hn,Cs+=ze.finalLineHeight;this.layerElement.appendChild(la)}else{var na=this.textSpans.length,aa;for(qe=0;qe<f;qe+=1){if(this.textSpans[qe]||(this.textSpans[qe]={span:null,childSpan:null,glyph:null}),!gn||!ys||qe===0){if(Hn=na>qe?this.textSpans[qe].span:createNS(gn?"g":"text"),na<=qe){if(Hn.setAttribute("stroke-linecap","butt"),Hn.setAttribute("stroke-linejoin","round"),Hn.setAttribute("stroke-miterlimit","4"),this.textSpans[qe].span=Hn,gn){var oa=createNS("g");Hn.appendChild(oa),this.textSpans[qe].childSpan=oa}this.textSpans[qe].span=Hn,this.layerElement.appendChild(Hn)}Hn.style.display="inherit"}if(Kn.reset(),ys&&(dn[qe].n&&(vs=-ia,Cs+=ze.yOffset,Cs+=bs?1:0,bs=!1),this.applyTextPropertiesToMatrix(ze,Kn,dn[qe].line,vs,Cs),vs+=dn[qe].l||0,vs+=ia),gn){aa=this.globalData.fontManager.getCharData(ze.finalText[qe],Ke.fStyle,this.globalData.fontManager.getFontByName(ze.f).fFamily);var ha;if(aa.t===1)ha=new SVGCompElement(aa.data,this.globalData,this);else{var ga=emptyShapeData;aa.data&&aa.data.shapes&&(ga=this.buildShapeData(aa.data,ze.finalSize)),ha=new SVGShapeElement(ga,this.globalData,this)}if(this.textSpans[qe].glyph){var va=this.textSpans[qe].glyph;this.textSpans[qe].childSpan.removeChild(va.layerElement),va.destroy()}this.textSpans[qe].glyph=ha,ha._debug=!0,ha.prepareFrame(0),ha.renderFrame(),this.textSpans[qe].childSpan.appendChild(ha.layerElement),aa.t===1&&this.textSpans[qe].childSpan.setAttribute("transform","scale("+ze.finalSize/100+","+ze.finalSize/100+")")}else ys&&Hn.setAttribute("transform","translate("+Kn.props[12]+","+Kn.props[13]+")"),Hn.textContent=dn[qe].val,Hn.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}ys&&Hn&&Hn.setAttribute("d",Qn)}for(;qe<this.textSpans.length;)this.textSpans[qe].span.style.display="none",qe+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var qe=this.layerElement.getBBox();this.bbox={top:qe.y,left:qe.x,width:qe.width,height:qe.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var qe,f=this.textSpans.length,ze;for(this.renderedFrame=this.comp.renderedFrame,qe=0;qe<f;qe+=1)ze=this.textSpans[qe].glyph,ze&&(ze.prepareFrame(this.comp.renderedFrame-this.data.st),ze._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var qe,f,ze=this.textAnimator.renderedLetters,Ke=this.textProperty.currentData.l;f=Ke.length;var Ai,ln,dn;for(qe=0;qe<f;qe+=1)Ke[qe].n||(Ai=ze[qe],ln=this.textSpans[qe].span,dn=this.textSpans[qe].glyph,dn&&dn.renderFrame(),Ai._mdf.m&&ln.setAttribute("transform",Ai.m),Ai._mdf.o&&ln.setAttribute("opacity",Ai.o),Ai._mdf.sw&&ln.setAttribute("stroke-width",Ai.sw),Ai._mdf.sc&&ln.setAttribute("stroke",Ai.sc),Ai._mdf.fc&&ln.setAttribute("fill",Ai.fc))}};function ISolidElement(qe,f,ze){this.initElement(qe,f,ze)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var qe=createNS("rect");qe.setAttribute("width",this.data.sw),qe.setAttribute("height",this.data.sh),qe.setAttribute("fill",this.data.sc),this.layerElement.appendChild(qe)};function NullElement(qe,f,ze){this.initFrame(),this.initBaseData(qe,f,ze),this.initFrame(),this.initTransform(qe,f,ze),this.initHierarchy()}NullElement.prototype.prepareFrame=function(qe){this.prepareProperties(qe,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(qe){return new NullElement(qe,this.globalData,this)},SVGRendererBase.prototype.createShape=function(qe){return new SVGShapeElement(qe,this.globalData,this)},SVGRendererBase.prototype.createText=function(qe){return new SVGTextLottieElement(qe,this.globalData,this)},SVGRendererBase.prototype.createImage=function(qe){return new IImageElement(qe,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(qe){return new ISolidElement(qe,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(qe){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+qe.w+" "+qe.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",qe.w),this.svgElement.setAttribute("height",qe.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var f=this.globalData.defs;this.setupGlobalData(qe,f),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=qe;var ze=createNS("clipPath"),Ke=createNS("rect");Ke.setAttribute("width",qe.w),Ke.setAttribute("height",qe.h),Ke.setAttribute("x",0),Ke.setAttribute("y",0);var Ai=createElementID();ze.setAttribute("id",Ai),ze.appendChild(Ke),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+Ai+")"),f.appendChild(ze),this.layers=qe.layers,this.elements=createSizedArray(qe.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var qe,f=this.layers?this.layers.length:0;for(qe=0;qe<f;qe+=1)this.elements[qe]&&this.elements[qe].destroy&&this.elements[qe].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(qe){var f=0,ze=this.layers.length;for(f=0;f<ze;f+=1)if(this.layers[f].ind===qe)return f;return-1},SVGRendererBase.prototype.buildItem=function(qe){var f=this.elements;if(!(f[qe]||this.layers[qe].ty===99)){f[qe]=!0;var ze=this.createItem(this.layers[qe]);if(f[qe]=ze,getExpressionsPlugin()&&(this.layers[qe].ty===0&&this.globalData.projectInterface.registerComposition(ze),ze.initExpressions()),this.appendElementInPos(ze,qe),this.layers[qe].tt){var Ke="tp"in this.layers[qe]?this.findIndexByInd(this.layers[qe].tp):qe-1;if(Ke===-1)return;if(!this.elements[Ke]||this.elements[Ke]===!0)this.buildItem(Ke),this.addPendingElement(ze);else{var Ai=f[Ke],ln=Ai.getMatte(this.layers[qe].tt);ze.setMatte(ln)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var qe=this.pendingElements.pop();if(qe.checkParenting(),qe.data.tt)for(var f=0,ze=this.elements.length;f<ze;){if(this.elements[f]===qe){var Ke="tp"in qe.data?this.findIndexByInd(qe.data.tp):f-1,Ai=this.elements[Ke],ln=Ai.getMatte(this.layers[f].tt);qe.setMatte(ln);break}f+=1}}},SVGRendererBase.prototype.renderFrame=function(qe){if(!(this.renderedFrame===qe||this.destroyed)){qe===null?qe=this.renderedFrame:this.renderedFrame=qe,this.globalData.frameNum=qe,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=qe,this.globalData._mdf=!1;var f,ze=this.layers.length;for(this.completeLayers||this.checkLayers(qe),f=ze-1;f>=0;f-=1)(this.completeLayers||this.elements[f])&&this.elements[f].prepareFrame(qe-this.layers[f].st);if(this.globalData._mdf)for(f=0;f<ze;f+=1)(this.completeLayers||this.elements[f])&&this.elements[f].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(qe,f){var ze=qe.getBaseElement();if(ze){for(var Ke=0,Ai;Ke<f;)this.elements[Ke]&&this.elements[Ke]!==!0&&this.elements[Ke].getBaseElement()&&(Ai=this.elements[Ke].getBaseElement()),Ke+=1;Ai?this.layerElement.insertBefore(ze,Ai):this.layerElement.appendChild(ze)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(qe,f,ze){this.initFrame(),this.initBaseData(qe,f,ze),this.initTransform(qe,f,ze),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!f.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(qe){if(this._mdf=!1,this.prepareRenderableFrame(qe),this.prepareProperties(qe,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=qe/this.data.sr;else{var f=this.tm.v;f===this.data.op&&(f=this.data.op-1),this.renderedFrame=f}var ze,Ke=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),ze=Ke-1;ze>=0;ze-=1)(this.completeLayers||this.elements[ze])&&(this.elements[ze].prepareFrame(this.renderedFrame-this.layers[ze].st),this.elements[ze]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var qe,f=this.layers.length;for(qe=0;qe<f;qe+=1)(this.completeLayers||this.elements[qe])&&this.elements[qe].renderFrame()},ICompElement.prototype.setElements=function(qe){this.elements=qe},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var qe,f=this.layers.length;for(qe=0;qe<f;qe+=1)this.elements[qe]&&this.elements[qe].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(qe,f,ze){this.layers=qe.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(qe,f,ze),this.tm=qe.tm?PropertyFactory.getProp(this,qe.tm,0,f.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(qe){return new SVGCompElement(qe,this.globalData,this)};function SVGRenderer(qe,f){this.animationItem=qe,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var ze="";if(f&&f.title){var Ke=createNS("title"),Ai=createElementID();Ke.setAttribute("id",Ai),Ke.textContent=f.title,this.svgElement.appendChild(Ke),ze+=Ai}if(f&&f.description){var ln=createNS("desc"),dn=createElementID();ln.setAttribute("id",dn),ln.textContent=f.description,this.svgElement.appendChild(ln),ze+=" "+dn}ze&&this.svgElement.setAttribute("aria-labelledby",ze);var gn=createNS("defs");this.svgElement.appendChild(gn);var Hn=createNS("g");this.svgElement.appendChild(Hn),this.layerElement=Hn,this.renderConfig={preserveAspectRatio:f&&f.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:f&&f.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:f&&f.contentVisibility||"visible",progressiveLoad:f&&f.progressiveLoad||!1,hideOnTransparent:!(f&&f.hideOnTransparent===!1),viewBoxOnly:f&&f.viewBoxOnly||!1,viewBoxSize:f&&f.viewBoxSize||!1,className:f&&f.className||"",id:f&&f.id||"",focusable:f&&f.focusable,filterSize:{width:f&&f.filterSize&&f.filterSize.width||"100%",height:f&&f.filterSize&&f.filterSize.height||"100%",x:f&&f.filterSize&&f.filterSize.x||"0%",y:f&&f.filterSize&&f.filterSize.y||"0%"},width:f&&f.width,height:f&&f.height,runExpressions:!f||f.runExpressions===void 0||f.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:gn,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(qe){return new SVGCompElement(qe,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(f){var ze,Ke=f.length,Ai="_";for(ze=0;ze<Ke;ze+=1)Ai+=f[ze].transform.key+"_";var ln=this.sequences[Ai];return ln||(ln={transforms:[].concat(f),finalTransform:new Matrix,_mdf:!1},this.sequences[Ai]=ln,this.sequenceList.push(ln)),ln},processSequence:function(f,ze){for(var Ke=0,Ai=f.transforms.length,ln=ze;Ke<Ai&&!ze;){if(f.transforms[Ke].transform.mProps._mdf){ln=!0;break}Ke+=1}if(ln)for(f.finalTransform.reset(),Ke=Ai-1;Ke>=0;Ke-=1)f.finalTransform.multiply(f.transforms[Ke].transform.mProps.v);f._mdf=ln},processSequences:function(f){var ze,Ke=this.sequenceList.length;for(ze=0;ze<Ke;ze+=1)this.processSequence(this.sequenceList[ze],f)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var f="__lottie_element_luma_buffer",ze=null,Ke=null,Ai=null;function ln(){var Hn=createNS("svg"),Kn=createNS("filter"),Qn=createNS("feColorMatrix");return Kn.setAttribute("id",f),Qn.setAttribute("type","matrix"),Qn.setAttribute("color-interpolation-filters","sRGB"),Qn.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),Kn.appendChild(Qn),Hn.appendChild(Kn),Hn.setAttribute("id",f+"_svg"),featureSupport.svgLumaHidden&&(Hn.style.display="none"),Hn}function dn(){ze||(Ai=ln(),document.body.appendChild(Ai),ze=createTag("canvas"),Ke=ze.getContext("2d"),Ke.filter="url(#"+f+")",Ke.fillStyle="rgba(0,0,0,0)",Ke.fillRect(0,0,1,1))}function gn(Hn){return ze||dn(),ze.width=Hn.width,ze.height=Hn.height,Ke.filter="url(#"+f+")",ze}return{load:dn,get:gn}};function createCanvas(qe,f){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(qe,f);var ze=createTag("canvas");return ze.width=qe,ze.height=f,ze}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(qe){var f,ze=qe.data.ef?qe.data.ef.length:0;this.filters=[];var Ke;for(f=0;f<ze;f+=1){Ke=null;var Ai=qe.data.ef[f].ty;if(registeredEffects[Ai]){var ln=registeredEffects[Ai].effect;Ke=new ln(qe.effectsManager.effectElements[f],qe)}Ke&&this.filters.push(Ke)}this.filters.length&&qe.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(qe){var f,ze=this.filters.length;for(f=0;f<ze;f+=1)this.filters[f].renderFrame(qe)},CVEffects.prototype.getEffects=function(qe){var f,ze=this.filters.length,Ke=[];for(f=0;f<ze;f+=1)this.filters[f].type===qe&&Ke.push(this.filters[f]);return Ke};function registerEffect(qe,f){registeredEffects[qe]={effect:f}}function CVMaskElement(qe,f){this.data=qe,this.element=f,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var ze,Ke=this.masksProperties.length,Ai=!1;for(ze=0;ze<Ke;ze+=1)this.masksProperties[ze].mode!=="n"&&(Ai=!0),this.viewData[ze]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[ze],3);this.hasMasks=Ai,Ai&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var qe=this.element.finalTransform.mat,f=this.element.canvasContext,ze,Ke=this.masksProperties.length,Ai,ln,dn;for(f.beginPath(),ze=0;ze<Ke;ze+=1)if(this.masksProperties[ze].mode!=="n"){this.masksProperties[ze].inv&&(f.moveTo(0,0),f.lineTo(this.element.globalData.compSize.w,0),f.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),f.lineTo(0,this.element.globalData.compSize.h),f.lineTo(0,0)),dn=this.viewData[ze].v,Ai=qe.applyToPointArray(dn.v[0][0],dn.v[0][1],0),f.moveTo(Ai[0],Ai[1]);var gn,Hn=dn._length;for(gn=1;gn<Hn;gn+=1)ln=qe.applyToTriplePoints(dn.o[gn-1],dn.i[gn],dn.v[gn]),f.bezierCurveTo(ln[0],ln[1],ln[2],ln[3],ln[4],ln[5]);ln=qe.applyToTriplePoints(dn.o[gn-1],dn.i[0],dn.v[0]),f.bezierCurveTo(ln[0],ln[1],ln[2],ln[3],ln[4],ln[5])}this.element.globalData.renderer.save(!0),f.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var f=this.globalData.canvasContext,ze=assetLoader.createCanvas(f.canvas.width,f.canvas.height);this.buffers.push(ze);var Ke=assetLoader.createCanvas(f.canvas.width,f.canvas.height);this.buffers.push(Ke),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var f=this.globalData;if(f.blendMode!==this.data.bm){f.blendMode=this.data.bm;var ze=getBlendMode(this.data.bm);f.canvasContext.globalCompositeOperation=ze}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(f){f.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var f=this.buffers[0],ze=f.getContext("2d");this.clearCanvas(ze),ze.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var f=this.buffers[1],ze=f.getContext("2d");this.clearCanvas(ze),ze.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var Ke=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(Ke.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var Ai=assetLoader.getLumaCanvas(this.canvasContext.canvas),ln=Ai.getContext("2d");ln.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(Ai,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(f,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(f){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!f)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var ze=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(ze),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(ze),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(qe,f,ze,Ke){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var Ai=4;f.ty==="rc"?Ai=5:f.ty==="el"?Ai=6:f.ty==="sr"&&(Ai=7),this.sh=ShapePropertyFactory.getShapeProp(qe,f,Ai,qe);var ln,dn=ze.length,gn;for(ln=0;ln<dn;ln+=1)ze[ln].closed||(gn={transforms:Ke.addTransformSequence(ze[ln].transforms),trNodes:[]},this.styledShapes.push(gn),ze[ln].elements.push(gn))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(qe,f,ze){this.shapes=[],this.shapesData=qe.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(qe,f,ze)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(qe,f){var ze={data:qe,type:qe.ty,preTransforms:this.transformsManager.addTransformSequence(f),transforms:[],elements:[],closed:qe.hd===!0},Ke={};if(qe.ty==="fl"||qe.ty==="st"?(Ke.c=PropertyFactory.getProp(this,qe.c,1,255,this),Ke.c.k||(ze.co="rgb("+bmFloor(Ke.c.v[0])+","+bmFloor(Ke.c.v[1])+","+bmFloor(Ke.c.v[2])+")")):(qe.ty==="gf"||qe.ty==="gs")&&(Ke.s=PropertyFactory.getProp(this,qe.s,1,null,this),Ke.e=PropertyFactory.getProp(this,qe.e,1,null,this),Ke.h=PropertyFactory.getProp(this,qe.h||{k:0},0,.01,this),Ke.a=PropertyFactory.getProp(this,qe.a||{k:0},0,degToRads,this),Ke.g=new GradientProperty(this,qe.g,this)),Ke.o=PropertyFactory.getProp(this,qe.o,0,.01,this),qe.ty==="st"||qe.ty==="gs"){if(ze.lc=lineCapEnum[qe.lc||2],ze.lj=lineJoinEnum[qe.lj||2],qe.lj==1&&(ze.ml=qe.ml),Ke.w=PropertyFactory.getProp(this,qe.w,0,null,this),Ke.w.k||(ze.wi=Ke.w.v),qe.d){var Ai=new DashProperty(this,qe.d,"canvas",this);Ke.d=Ai,Ke.d.k||(ze.da=Ke.d.dashArray,ze.do=Ke.d.dashoffset[0])}}else ze.r=qe.r===2?"evenodd":"nonzero";return this.stylesList.push(ze),Ke.style=ze,Ke},CVShapeElement.prototype.createGroupElement=function(){var qe={it:[],prevViewData:[]};return qe},CVShapeElement.prototype.createTransformElement=function(qe){var f={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,qe.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,qe,this)}};return f},CVShapeElement.prototype.createShapeElement=function(qe){var f=new CVShapeData(this,qe,this.stylesList,this.transformsManager);return this.shapes.push(f),this.addShapeToModifiers(f),f},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var qe,f=this.itemsData.length;for(qe=0;qe<f;qe+=1)this.prevViewData[qe]=this.itemsData[qe];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),f=this.dynamicProperties.length,qe=0;qe<f;qe+=1)this.dynamicProperties[qe].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(qe){var f,ze=this.stylesList.length;for(f=0;f<ze;f+=1)this.stylesList[f].closed||this.stylesList[f].transforms.push(qe)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var qe,f=this.stylesList.length;for(qe=0;qe<f;qe+=1)this.stylesList[qe].closed||this.stylesList[qe].transforms.pop()},CVShapeElement.prototype.closeStyles=function(qe){var f,ze=qe.length;for(f=0;f<ze;f+=1)qe[f].closed=!0},CVShapeElement.prototype.searchShapes=function(qe,f,ze,Ke,Ai){var ln,dn=qe.length-1,gn,Hn,Kn=[],Qn=[],ys,vs,Cs,bs=[].concat(Ai);for(ln=dn;ln>=0;ln-=1){if(ys=this.searchProcessedElement(qe[ln]),ys?f[ln]=ze[ys-1]:qe[ln]._shouldRender=Ke,qe[ln].ty==="fl"||qe[ln].ty==="st"||qe[ln].ty==="gf"||qe[ln].ty==="gs")ys?f[ln].style.closed=!1:f[ln]=this.createStyleElement(qe[ln],bs),Kn.push(f[ln].style);else if(qe[ln].ty==="gr"){if(!ys)f[ln]=this.createGroupElement(qe[ln]);else for(Hn=f[ln].it.length,gn=0;gn<Hn;gn+=1)f[ln].prevViewData[gn]=f[ln].it[gn];this.searchShapes(qe[ln].it,f[ln].it,f[ln].prevViewData,Ke,bs)}else qe[ln].ty==="tr"?(ys||(Cs=this.createTransformElement(qe[ln]),f[ln]=Cs),bs.push(f[ln]),this.addTransformToStyleList(f[ln])):qe[ln].ty==="sh"||qe[ln].ty==="rc"||qe[ln].ty==="el"||qe[ln].ty==="sr"?ys||(f[ln]=this.createShapeElement(qe[ln])):qe[ln].ty==="tm"||qe[ln].ty==="rd"||qe[ln].ty==="pb"||qe[ln].ty==="zz"||qe[ln].ty==="op"?(ys?(vs=f[ln],vs.closed=!1):(vs=ShapeModifiers.getModifier(qe[ln].ty),vs.init(this,qe[ln]),f[ln]=vs,this.shapeModifiers.push(vs)),Qn.push(vs)):qe[ln].ty==="rp"&&(ys?(vs=f[ln],vs.closed=!0):(vs=ShapeModifiers.getModifier(qe[ln].ty),f[ln]=vs,vs.init(this,qe,ln,f),this.shapeModifiers.push(vs),Ke=!1),Qn.push(vs));this.addProcessedElement(qe[ln],ln+1)}for(this.removeTransformFromStyleList(),this.closeStyles(Kn),dn=Qn.length,ln=0;ln<dn;ln+=1)Qn[ln].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(qe,f){(qe._opMdf||f.op._mdf||this._isFirstFrame)&&(f.opacity=qe.opacity,f.opacity*=f.op.v,f._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var qe,f=this.stylesList.length,ze,Ke,Ai,ln,dn,gn,Hn=this.globalData.renderer,Kn=this.globalData.canvasContext,Qn,ys;for(qe=0;qe<f;qe+=1)if(ys=this.stylesList[qe],Qn=ys.type,!((Qn==="st"||Qn==="gs")&&ys.wi===0||!ys.data._shouldRender||ys.coOp===0||this.globalData.currentGlobalAlpha===0)){for(Hn.save(),dn=ys.elements,Qn==="st"||Qn==="gs"?(Hn.ctxStrokeStyle(Qn==="st"?ys.co:ys.grd),Hn.ctxLineWidth(ys.wi),Hn.ctxLineCap(ys.lc),Hn.ctxLineJoin(ys.lj),Hn.ctxMiterLimit(ys.ml||0)):Hn.ctxFillStyle(Qn==="fl"?ys.co:ys.grd),Hn.ctxOpacity(ys.coOp),Qn!=="st"&&Qn!=="gs"&&Kn.beginPath(),Hn.ctxTransform(ys.preTransforms.finalTransform.props),Ke=dn.length,ze=0;ze<Ke;ze+=1){for((Qn==="st"||Qn==="gs")&&(Kn.beginPath(),ys.da&&(Kn.setLineDash(ys.da),Kn.lineDashOffset=ys.do)),gn=dn[ze].trNodes,ln=gn.length,Ai=0;Ai<ln;Ai+=1)gn[Ai].t==="m"?Kn.moveTo(gn[Ai].p[0],gn[Ai].p[1]):gn[Ai].t==="c"?Kn.bezierCurveTo(gn[Ai].pts[0],gn[Ai].pts[1],gn[Ai].pts[2],gn[Ai].pts[3],gn[Ai].pts[4],gn[Ai].pts[5]):Kn.closePath();(Qn==="st"||Qn==="gs")&&(Hn.ctxStroke(),ys.da&&Kn.setLineDash(this.dashResetter))}Qn!=="st"&&Qn!=="gs"&&this.globalData.renderer.ctxFill(ys.r),Hn.restore()}},CVShapeElement.prototype.renderShape=function(qe,f,ze,Ke){var Ai,ln=f.length-1,dn;for(dn=qe,Ai=ln;Ai>=0;Ai-=1)f[Ai].ty==="tr"?(dn=ze[Ai].transform,this.renderShapeTransform(qe,dn)):f[Ai].ty==="sh"||f[Ai].ty==="el"||f[Ai].ty==="rc"||f[Ai].ty==="sr"?this.renderPath(f[Ai],ze[Ai]):f[Ai].ty==="fl"?this.renderFill(f[Ai],ze[Ai],dn):f[Ai].ty==="st"?this.renderStroke(f[Ai],ze[Ai],dn):f[Ai].ty==="gf"||f[Ai].ty==="gs"?this.renderGradientFill(f[Ai],ze[Ai],dn):f[Ai].ty==="gr"?this.renderShape(dn,f[Ai].it,ze[Ai].it):f[Ai].ty;Ke&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(qe,f){if(this._isFirstFrame||f._mdf||qe.transforms._mdf){var ze=qe.trNodes,Ke=f.paths,Ai,ln,dn,gn=Ke._length;ze.length=0;var Hn=qe.transforms.finalTransform;for(dn=0;dn<gn;dn+=1){var Kn=Ke.shapes[dn];if(Kn&&Kn.v){for(ln=Kn._length,Ai=1;Ai<ln;Ai+=1)Ai===1&&ze.push({t:"m",p:Hn.applyToPointArray(Kn.v[0][0],Kn.v[0][1],0)}),ze.push({t:"c",pts:Hn.applyToTriplePoints(Kn.o[Ai-1],Kn.i[Ai],Kn.v[Ai])});ln===1&&ze.push({t:"m",p:Hn.applyToPointArray(Kn.v[0][0],Kn.v[0][1],0)}),Kn.c&&ln&&(ze.push({t:"c",pts:Hn.applyToTriplePoints(Kn.o[Ai-1],Kn.i[0],Kn.v[0])}),ze.push({t:"z"}))}}qe.trNodes=ze}},CVShapeElement.prototype.renderPath=function(qe,f){if(qe.hd!==!0&&qe._shouldRender){var ze,Ke=f.styledShapes.length;for(ze=0;ze<Ke;ze+=1)this.renderStyledShape(f.styledShapes[ze],f.sh)}},CVShapeElement.prototype.renderFill=function(qe,f,ze){var Ke=f.style;(f.c._mdf||this._isFirstFrame)&&(Ke.co="rgb("+bmFloor(f.c.v[0])+","+bmFloor(f.c.v[1])+","+bmFloor(f.c.v[2])+")"),(f.o._mdf||ze._opMdf||this._isFirstFrame)&&(Ke.coOp=f.o.v*ze.opacity)},CVShapeElement.prototype.renderGradientFill=function(qe,f,ze){var Ke=f.style,Ai;if(!Ke.grd||f.g._mdf||f.s._mdf||f.e._mdf||qe.t!==1&&(f.h._mdf||f.a._mdf)){var ln=this.globalData.canvasContext,dn=f.s.v,gn=f.e.v;if(qe.t===1)Ai=ln.createLinearGradient(dn[0],dn[1],gn[0],gn[1]);else{var Hn=Math.sqrt(Math.pow(dn[0]-gn[0],2)+Math.pow(dn[1]-gn[1],2)),Kn=Math.atan2(gn[1]-dn[1],gn[0]-dn[0]),Qn=f.h.v;Qn>=1?Qn=.99:Qn<=-1&&(Qn=-.99);var ys=Hn*Qn,vs=Math.cos(Kn+f.a.v)*ys+dn[0],Cs=Math.sin(Kn+f.a.v)*ys+dn[1];Ai=ln.createRadialGradient(vs,Cs,0,dn[0],dn[1],Hn)}var bs,ia=qe.g.p,la=f.g.c,ra=1;for(bs=0;bs<ia;bs+=1)f.g._hasOpacity&&f.g._collapsable&&(ra=f.g.o[bs*2+1]),Ai.addColorStop(la[bs*4]/100,"rgba("+la[bs*4+1]+","+la[bs*4+2]+","+la[bs*4+3]+","+ra+")");Ke.grd=Ai}Ke.coOp=f.o.v*ze.opacity},CVShapeElement.prototype.renderStroke=function(qe,f,ze){var Ke=f.style,Ai=f.d;Ai&&(Ai._mdf||this._isFirstFrame)&&(Ke.da=Ai.dashArray,Ke.do=Ai.dashoffset[0]),(f.c._mdf||this._isFirstFrame)&&(Ke.co="rgb("+bmFloor(f.c.v[0])+","+bmFloor(f.c.v[1])+","+bmFloor(f.c.v[2])+")"),(f.o._mdf||ze._opMdf||this._isFirstFrame)&&(Ke.coOp=f.o.v*ze.opacity),(f.w._mdf||this._isFirstFrame)&&(Ke.wi=f.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(qe,f,ze){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(qe,f,ze)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var qe=this.textProperty.currentData;this.renderedLetters=createSizedArray(qe.l?qe.l.length:0);var f=!1;qe.fc?(f=!0,this.values.fill=this.buildColor(qe.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=f;var ze=!1;qe.sc&&(ze=!0,this.values.stroke=this.buildColor(qe.sc),this.values.sWidth=qe.sw);var Ke=this.globalData.fontManager.getFontByName(qe.f),Ai,ln,dn=qe.l,gn=this.mHelper;this.stroke=ze,this.values.fValue=qe.finalSize+"px "+this.globalData.fontManager.getFontByName(qe.f).fFamily,ln=qe.finalText.length;var Hn,Kn,Qn,ys,vs,Cs,bs,ia,la,ra,sa=this.data.singleShape,na=qe.tr*.001*qe.finalSize,aa=0,oa=0,ha=!0,ga=0;for(Ai=0;Ai<ln;Ai+=1){Hn=this.globalData.fontManager.getCharData(qe.finalText[Ai],Ke.fStyle,this.globalData.fontManager.getFontByName(qe.f).fFamily),Kn=Hn&&Hn.data||{},gn.reset(),sa&&dn[Ai].n&&(aa=-na,oa+=qe.yOffset,oa+=ha?1:0,ha=!1),vs=Kn.shapes?Kn.shapes[0].it:[],bs=vs.length,gn.scale(qe.finalSize/100,qe.finalSize/100),sa&&this.applyTextPropertiesToMatrix(qe,gn,dn[Ai].line,aa,oa),la=createSizedArray(bs-1);var va=0;for(Cs=0;Cs<bs;Cs+=1)if(vs[Cs].ty==="sh"){for(ys=vs[Cs].ks.k.i.length,ia=vs[Cs].ks.k,ra=[],Qn=1;Qn<ys;Qn+=1)Qn===1&&ra.push(gn.applyToX(ia.v[0][0],ia.v[0][1],0),gn.applyToY(ia.v[0][0],ia.v[0][1],0)),ra.push(gn.applyToX(ia.o[Qn-1][0],ia.o[Qn-1][1],0),gn.applyToY(ia.o[Qn-1][0],ia.o[Qn-1][1],0),gn.applyToX(ia.i[Qn][0],ia.i[Qn][1],0),gn.applyToY(ia.i[Qn][0],ia.i[Qn][1],0),gn.applyToX(ia.v[Qn][0],ia.v[Qn][1],0),gn.applyToY(ia.v[Qn][0],ia.v[Qn][1],0));ra.push(gn.applyToX(ia.o[Qn-1][0],ia.o[Qn-1][1],0),gn.applyToY(ia.o[Qn-1][0],ia.o[Qn-1][1],0),gn.applyToX(ia.i[0][0],ia.i[0][1],0),gn.applyToY(ia.i[0][0],ia.i[0][1],0),gn.applyToX(ia.v[0][0],ia.v[0][1],0),gn.applyToY(ia.v[0][0],ia.v[0][1],0)),la[va]=ra,va+=1}sa&&(aa+=dn[Ai].l,aa+=na),this.textSpans[ga]?this.textSpans[ga].elem=la:this.textSpans[ga]={elem:la},ga+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var qe=this.canvasContext;qe.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var f,ze,Ke,Ai,ln,dn,gn=this.textAnimator.renderedLetters,Hn=this.textProperty.currentData.l;ze=Hn.length;var Kn,Qn=null,ys=null,vs=null,Cs,bs,ia=this.globalData.renderer;for(f=0;f<ze;f+=1)if(!Hn[f].n){if(Kn=gn[f],Kn&&(ia.save(),ia.ctxTransform(Kn.p),ia.ctxOpacity(Kn.o)),this.fill){for(Kn&&Kn.fc?Qn!==Kn.fc&&(ia.ctxFillStyle(Kn.fc),Qn=Kn.fc):Qn!==this.values.fill&&(Qn=this.values.fill,ia.ctxFillStyle(this.values.fill)),Cs=this.textSpans[f].elem,Ai=Cs.length,this.globalData.canvasContext.beginPath(),Ke=0;Ke<Ai;Ke+=1)for(bs=Cs[Ke],dn=bs.length,this.globalData.canvasContext.moveTo(bs[0],bs[1]),ln=2;ln<dn;ln+=6)this.globalData.canvasContext.bezierCurveTo(bs[ln],bs[ln+1],bs[ln+2],bs[ln+3],bs[ln+4],bs[ln+5]);this.globalData.canvasContext.closePath(),ia.ctxFill()}if(this.stroke){for(Kn&&Kn.sw?vs!==Kn.sw&&(vs=Kn.sw,ia.ctxLineWidth(Kn.sw)):vs!==this.values.sWidth&&(vs=this.values.sWidth,ia.ctxLineWidth(this.values.sWidth)),Kn&&Kn.sc?ys!==Kn.sc&&(ys=Kn.sc,ia.ctxStrokeStyle(Kn.sc)):ys!==this.values.stroke&&(ys=this.values.stroke,ia.ctxStrokeStyle(this.values.stroke)),Cs=this.textSpans[f].elem,Ai=Cs.length,this.globalData.canvasContext.beginPath(),Ke=0;Ke<Ai;Ke+=1)for(bs=Cs[Ke],dn=bs.length,this.globalData.canvasContext.moveTo(bs[0],bs[1]),ln=2;ln<dn;ln+=6)this.globalData.canvasContext.bezierCurveTo(bs[ln],bs[ln+1],bs[ln+2],bs[ln+3],bs[ln+4],bs[ln+5]);this.globalData.canvasContext.closePath(),ia.ctxStroke()}Kn&&this.globalData.renderer.restore()}};function CVImageElement(qe,f,ze){this.assetData=f.getAssetData(qe.refId),this.img=f.imageLoader.getAsset(this.assetData),this.initElement(qe,f,ze)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var qe=createTag("canvas");qe.width=this.assetData.w,qe.height=this.assetData.h;var f=qe.getContext("2d"),ze=this.img.width,Ke=this.img.height,Ai=ze/Ke,ln=this.assetData.w/this.assetData.h,dn,gn,Hn=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;Ai>ln&&Hn==="xMidYMid slice"||Ai<ln&&Hn!=="xMidYMid slice"?(gn=Ke,dn=gn*ln):(dn=ze,gn=dn/ln),f.drawImage(this.img,(ze-dn)/2,(Ke-gn)/2,dn,gn,0,0,this.assetData.w,this.assetData.h),this.img=qe}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(qe,f,ze){this.initElement(qe,f,ze)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(qe){return new CVShapeElement(qe,this.globalData,this)},CanvasRendererBase.prototype.createText=function(qe){return new CVTextElement(qe,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(qe){return new CVImageElement(qe,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(qe){return new CVSolidElement(qe,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(qe){qe[0]===1&&qe[1]===0&&qe[4]===0&&qe[5]===1&&qe[12]===0&&qe[13]===0||this.canvasContext.transform(qe[0],qe[1],qe[4],qe[5],qe[12],qe[13])},CanvasRendererBase.prototype.ctxOpacity=function(qe){this.canvasContext.globalAlpha*=qe<0?0:qe},CanvasRendererBase.prototype.ctxFillStyle=function(qe){this.canvasContext.fillStyle=qe},CanvasRendererBase.prototype.ctxStrokeStyle=function(qe){this.canvasContext.strokeStyle=qe},CanvasRendererBase.prototype.ctxLineWidth=function(qe){this.canvasContext.lineWidth=qe},CanvasRendererBase.prototype.ctxLineCap=function(qe){this.canvasContext.lineCap=qe},CanvasRendererBase.prototype.ctxLineJoin=function(qe){this.canvasContext.lineJoin=qe},CanvasRendererBase.prototype.ctxMiterLimit=function(qe){this.canvasContext.miterLimit=qe},CanvasRendererBase.prototype.ctxFill=function(qe){this.canvasContext.fill(qe)},CanvasRendererBase.prototype.ctxFillRect=function(qe,f,ze,Ke){this.canvasContext.fillRect(qe,f,ze,Ke)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(qe){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}qe&&(this.globalData.blendMode="source-over"),this.contextData.restore(qe)},CanvasRendererBase.prototype.configAnimation=function(qe){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var f=this.animationItem.container.style;f.width="100%",f.height="100%";var ze="0px 0px 0px";f.transformOrigin=ze,f.mozTransformOrigin=ze,f.webkitTransformOrigin=ze,f["-webkit-transform"]=ze,f.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=qe,this.layers=qe.layers,this.transformCanvas={w:qe.w,h:qe.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(qe,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(qe.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(qe,f){this.reset();var ze,Ke;qe?(ze=qe,Ke=f,this.canvasContext.canvas.width=ze,this.canvasContext.canvas.height=Ke):(this.animationItem.wrapper&&this.animationItem.container?(ze=this.animationItem.wrapper.offsetWidth,Ke=this.animationItem.wrapper.offsetHeight):(ze=this.canvasContext.canvas.width,Ke=this.canvasContext.canvas.height),this.canvasContext.canvas.width=ze*this.renderConfig.dpr,this.canvasContext.canvas.height=Ke*this.renderConfig.dpr);var Ai,ln;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var dn=this.renderConfig.preserveAspectRatio.split(" "),gn=dn[1]||"meet",Hn=dn[0]||"xMidYMid",Kn=Hn.substr(0,4),Qn=Hn.substr(4);Ai=ze/Ke,ln=this.transformCanvas.w/this.transformCanvas.h,ln>Ai&&gn==="meet"||ln<Ai&&gn==="slice"?(this.transformCanvas.sx=ze/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=ze/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=Ke/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=Ke/(this.transformCanvas.h/this.renderConfig.dpr)),Kn==="xMid"&&(ln<Ai&&gn==="meet"||ln>Ai&&gn==="slice")?this.transformCanvas.tx=(ze-this.transformCanvas.w*(Ke/this.transformCanvas.h))/2*this.renderConfig.dpr:Kn==="xMax"&&(ln<Ai&&gn==="meet"||ln>Ai&&gn==="slice")?this.transformCanvas.tx=(ze-this.transformCanvas.w*(Ke/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,Qn==="YMid"&&(ln>Ai&&gn==="meet"||ln<Ai&&gn==="slice")?this.transformCanvas.ty=(Ke-this.transformCanvas.h*(ze/this.transformCanvas.w))/2*this.renderConfig.dpr:Qn==="YMax"&&(ln>Ai&&gn==="meet"||ln<Ai&&gn==="slice")?this.transformCanvas.ty=(Ke-this.transformCanvas.h*(ze/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=ze/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=Ke/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var qe,f=this.layers?this.layers.length:0;for(qe=f-1;qe>=0;qe-=1)this.elements[qe]&&this.elements[qe].destroy&&this.elements[qe].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(qe,f){if(!(this.renderedFrame===qe&&this.renderConfig.clearCanvas===!0&&!f||this.destroyed||qe===-1)){this.renderedFrame=qe,this.globalData.frameNum=qe-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||f,this.globalData.projectInterface.currentFrame=qe;var ze,Ke=this.layers.length;for(this.completeLayers||this.checkLayers(qe),ze=Ke-1;ze>=0;ze-=1)(this.completeLayers||this.elements[ze])&&this.elements[ze].prepareFrame(qe-this.layers[ze].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),ze=Ke-1;ze>=0;ze-=1)(this.completeLayers||this.elements[ze])&&this.elements[ze].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(qe){var f=this.elements;if(!(f[qe]||this.layers[qe].ty===99)){var ze=this.createItem(this.layers[qe],this,this.globalData);f[qe]=ze,ze.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var qe=this.pendingElements.pop();qe.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var qe,f=15;for(qe=0;qe<f;qe+=1){var ze=new CanvasContext;this.stack[qe]=ze}this._length=f,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var qe=this._length*2,f=0;for(f=this._length;f<qe;f+=1)this.stack[f]=new CanvasContext;this._length=qe},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(qe){this.cArrPos-=1;var f=this.stack[this.cArrPos],ze=f.transform,Ke,Ai=this.cTr.props;for(Ke=0;Ke<16;Ke+=1)Ai[Ke]=ze[Ke];if(qe){this.nativeContext.restore();var ln=this.stack[this.cArrPos+1];this.appliedFillStyle=ln.fillStyle,this.appliedStrokeStyle=ln.strokeStyle,this.appliedLineWidth=ln.lineWidth,this.appliedLineCap=ln.lineCap,this.appliedLineJoin=ln.lineJoin,this.appliedMiterLimit=ln.miterLimit}this.nativeContext.setTransform(ze[0],ze[1],ze[4],ze[5],ze[12],ze[13]),(qe||f.opacity!==-1&&this.currentOpacity!==f.opacity)&&(this.nativeContext.globalAlpha=f.opacity,this.currentOpacity=f.opacity),this.currentFillStyle=f.fillStyle,this.currentStrokeStyle=f.strokeStyle,this.currentLineWidth=f.lineWidth,this.currentLineCap=f.lineCap,this.currentLineJoin=f.lineJoin,this.currentMiterLimit=f.miterLimit},CVContextData.prototype.save=function(qe){qe&&this.nativeContext.save();var f=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var ze=this.stack[this.cArrPos],Ke;for(Ke=0;Ke<16;Ke+=1)ze.transform[Ke]=f[Ke];this.cArrPos+=1;var Ai=this.stack[this.cArrPos];Ai.opacity=ze.opacity,Ai.fillStyle=ze.fillStyle,Ai.strokeStyle=ze.strokeStyle,Ai.lineWidth=ze.lineWidth,Ai.lineCap=ze.lineCap,Ai.lineJoin=ze.lineJoin,Ai.miterLimit=ze.miterLimit},CVContextData.prototype.setOpacity=function(qe){this.stack[this.cArrPos].opacity=qe},CVContextData.prototype.setContext=function(qe){this.nativeContext=qe},CVContextData.prototype.fillStyle=function(qe){this.stack[this.cArrPos].fillStyle!==qe&&(this.currentFillStyle=qe,this.stack[this.cArrPos].fillStyle=qe)},CVContextData.prototype.strokeStyle=function(qe){this.stack[this.cArrPos].strokeStyle!==qe&&(this.currentStrokeStyle=qe,this.stack[this.cArrPos].strokeStyle=qe)},CVContextData.prototype.lineWidth=function(qe){this.stack[this.cArrPos].lineWidth!==qe&&(this.currentLineWidth=qe,this.stack[this.cArrPos].lineWidth=qe)},CVContextData.prototype.lineCap=function(qe){this.stack[this.cArrPos].lineCap!==qe&&(this.currentLineCap=qe,this.stack[this.cArrPos].lineCap=qe)},CVContextData.prototype.lineJoin=function(qe){this.stack[this.cArrPos].lineJoin!==qe&&(this.currentLineJoin=qe,this.stack[this.cArrPos].lineJoin=qe)},CVContextData.prototype.miterLimit=function(qe){this.stack[this.cArrPos].miterLimit!==qe&&(this.currentMiterLimit=qe,this.stack[this.cArrPos].miterLimit=qe)},CVContextData.prototype.transform=function(qe){this.transformMat.cloneFromProps(qe);var f=this.cTr;this.transformMat.multiply(f),f.cloneFromProps(this.transformMat.props);var ze=f.props;this.nativeContext.setTransform(ze[0],ze[1],ze[4],ze[5],ze[12],ze[13])},CVContextData.prototype.opacity=function(qe){var f=this.stack[this.cArrPos].opacity;f*=qe<0?0:qe,this.stack[this.cArrPos].opacity!==f&&(this.currentOpacity!==qe&&(this.nativeContext.globalAlpha=qe,this.currentOpacity=qe),this.stack[this.cArrPos].opacity=f)},CVContextData.prototype.fill=function(qe){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(qe)},CVContextData.prototype.fillRect=function(qe,f,ze,Ke){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(qe,f,ze,Ke)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(qe,f,ze){this.completeLayers=!1,this.layers=qe.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(qe,f,ze),this.tm=qe.tm?PropertyFactory.getProp(this,qe.tm,0,f.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var qe=this.canvasContext;qe.beginPath(),qe.moveTo(0,0),qe.lineTo(this.data.w,0),qe.lineTo(this.data.w,this.data.h),qe.lineTo(0,this.data.h),qe.lineTo(0,0),qe.clip();var f,ze=this.layers.length;for(f=ze-1;f>=0;f-=1)(this.completeLayers||this.elements[f])&&this.elements[f].renderFrame()},CVCompElement.prototype.destroy=function(){var qe,f=this.layers.length;for(qe=f-1;qe>=0;qe-=1)this.elements[qe]&&this.elements[qe].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(qe){return new CVCompElement(qe,this.globalData,this)};function CanvasRenderer(qe,f){this.animationItem=qe,this.renderConfig={clearCanvas:f&&f.clearCanvas!==void 0?f.clearCanvas:!0,context:f&&f.context||null,progressiveLoad:f&&f.progressiveLoad||!1,preserveAspectRatio:f&&f.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:f&&f.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:f&&f.contentVisibility||"visible",className:f&&f.className||"",id:f&&f.id||"",runExpressions:!f||f.runExpressions===void 0||f.runExpressions},this.renderConfig.dpr=f&&f.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=f&&f.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(qe){return new CVCompElement(qe,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var f=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var ze=this.finalTransform.mat.toCSS();f.transform=ze,f.webkitTransform=ze}this.finalTransform._opMdf&&(f.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(qe,f,ze){this.initElement(qe,f,ze)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var qe;this.data.hasMask?(qe=createNS("rect"),qe.setAttribute("width",this.data.sw),qe.setAttribute("height",this.data.sh),qe.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(qe=createTag("div"),qe.style.width=this.data.sw+"px",qe.style.height=this.data.sh+"px",qe.style.backgroundColor=this.data.sc),this.layerElement.appendChild(qe)};function HShapeElement(qe,f,ze){this.shapes=[],this.shapesData=qe.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(qe,f,ze),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var qe;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),qe=this.svgElement;else{qe=createNS("svg");var f=this.comp.data?this.comp.data:this.globalData.compSize;qe.setAttribute("width",f.w),qe.setAttribute("height",f.h),qe.appendChild(this.shapesContainer),this.layerElement.appendChild(qe)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=qe},HShapeElement.prototype.getTransformedPoint=function(qe,f){var ze,Ke=qe.length;for(ze=0;ze<Ke;ze+=1)f=qe[ze].mProps.v.applyToPointArray(f[0],f[1],0);return f},HShapeElement.prototype.calculateShapeBoundingBox=function(qe,f){var ze=qe.sh.v,Ke=qe.transformers,Ai,ln=ze._length,dn,gn,Hn,Kn;if(!(ln<=1)){for(Ai=0;Ai<ln-1;Ai+=1)dn=this.getTransformedPoint(Ke,ze.v[Ai]),gn=this.getTransformedPoint(Ke,ze.o[Ai]),Hn=this.getTransformedPoint(Ke,ze.i[Ai+1]),Kn=this.getTransformedPoint(Ke,ze.v[Ai+1]),this.checkBounds(dn,gn,Hn,Kn,f);ze.c&&(dn=this.getTransformedPoint(Ke,ze.v[Ai]),gn=this.getTransformedPoint(Ke,ze.o[Ai]),Hn=this.getTransformedPoint(Ke,ze.i[0]),Kn=this.getTransformedPoint(Ke,ze.v[0]),this.checkBounds(dn,gn,Hn,Kn,f))}},HShapeElement.prototype.checkBounds=function(qe,f,ze,Ke,Ai){this.getBoundsOfCurve(qe,f,ze,Ke);var ln=this.shapeBoundingBox;Ai.x=bmMin(ln.left,Ai.x),Ai.xMax=bmMax(ln.right,Ai.xMax),Ai.y=bmMin(ln.top,Ai.y),Ai.yMax=bmMax(ln.bottom,Ai.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(qe,f,ze,Ke){for(var Ai=[[qe[0],Ke[0]],[qe[1],Ke[1]]],ln,dn,gn,Hn,Kn,Qn,ys,vs=0;vs<2;++vs)dn=6*qe[vs]-12*f[vs]+6*ze[vs],ln=-3*qe[vs]+9*f[vs]-9*ze[vs]+3*Ke[vs],gn=3*f[vs]-3*qe[vs],dn|=0,ln|=0,gn|=0,ln===0&&dn===0||(ln===0?(Hn=-gn/dn,Hn>0&&Hn<1&&Ai[vs].push(this.calculateF(Hn,qe,f,ze,Ke,vs))):(Kn=dn*dn-4*gn*ln,Kn>=0&&(Qn=(-dn+bmSqrt(Kn))/(2*ln),Qn>0&&Qn<1&&Ai[vs].push(this.calculateF(Qn,qe,f,ze,Ke,vs)),ys=(-dn-bmSqrt(Kn))/(2*ln),ys>0&&ys<1&&Ai[vs].push(this.calculateF(ys,qe,f,ze,Ke,vs)))));this.shapeBoundingBox.left=bmMin.apply(null,Ai[0]),this.shapeBoundingBox.top=bmMin.apply(null,Ai[1]),this.shapeBoundingBox.right=bmMax.apply(null,Ai[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,Ai[1])},HShapeElement.prototype.calculateF=function(qe,f,ze,Ke,Ai,ln){return bmPow(1-qe,3)*f[ln]+3*bmPow(1-qe,2)*qe*ze[ln]+3*(1-qe)*bmPow(qe,2)*Ke[ln]+bmPow(qe,3)*Ai[ln]},HShapeElement.prototype.calculateBoundingBox=function(qe,f){var ze,Ke=qe.length;for(ze=0;ze<Ke;ze+=1)qe[ze]&&qe[ze].sh?this.calculateShapeBoundingBox(qe[ze],f):qe[ze]&&qe[ze].it?this.calculateBoundingBox(qe[ze].it,f):qe[ze]&&qe[ze].style&&qe[ze].w&&this.expandStrokeBoundingBox(qe[ze].w,f)},HShapeElement.prototype.expandStrokeBoundingBox=function(qe,f){var ze=0;if(qe.keyframes){for(var Ke=0;Ke<qe.keyframes.length;Ke+=1){var Ai=qe.keyframes[Ke].s;Ai>ze&&(ze=Ai)}ze*=qe.mult}else ze=qe.v*qe.mult;f.x-=ze,f.xMax+=ze,f.y-=ze,f.yMax+=ze},HShapeElement.prototype.currentBoxContains=function(qe){return this.currentBBox.x<=qe.x&&this.currentBBox.y<=qe.y&&this.currentBBox.width+this.currentBBox.x>=qe.x+qe.width&&this.currentBBox.height+this.currentBBox.y>=qe.y+qe.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var qe=this.tempBoundingBox,f=999999;if(qe.x=f,qe.xMax=-f,qe.y=f,qe.yMax=-f,this.calculateBoundingBox(this.itemsData,qe),qe.width=qe.xMax<qe.x?0:qe.xMax-qe.x,qe.height=qe.yMax<qe.y?0:qe.yMax-qe.y,this.currentBoxContains(qe))return;var ze=!1;if(this.currentBBox.w!==qe.width&&(this.currentBBox.w=qe.width,this.shapeCont.setAttribute("width",qe.width),ze=!0),this.currentBBox.h!==qe.height&&(this.currentBBox.h=qe.height,this.shapeCont.setAttribute("height",qe.height),ze=!0),ze||this.currentBBox.x!==qe.x||this.currentBBox.y!==qe.y){this.currentBBox.w=qe.width,this.currentBBox.h=qe.height,this.currentBBox.x=qe.x,this.currentBBox.y=qe.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var Ke=this.shapeCont.style,Ai="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";Ke.transform=Ai,Ke.webkitTransform=Ai}}};function HTextElement(qe,f,ze){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(qe,f,ze)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var qe=createNS("g");this.maskedElement.appendChild(qe),this.innerElem=qe}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var qe=this.textProperty.currentData;this.renderedLetters=createSizedArray(qe.l?qe.l.length:0);var f=this.innerElem.style,ze=qe.fc?this.buildColor(qe.fc):"rgba(0,0,0,0)";f.fill=ze,f.color=ze,qe.sc&&(f.stroke=this.buildColor(qe.sc),f.strokeWidth=qe.sw+"px");var Ke=this.globalData.fontManager.getFontByName(qe.f);if(!this.globalData.fontManager.chars)if(f.fontSize=qe.finalSize+"px",f.lineHeight=qe.finalSize+"px",Ke.fClass)this.innerElem.className=Ke.fClass;else{f.fontFamily=Ke.fFamily;var Ai=qe.fWeight,ln=qe.fStyle;f.fontStyle=ln,f.fontWeight=Ai}var dn,gn,Hn=qe.l;gn=Hn.length;var Kn,Qn,ys,vs=this.mHelper,Cs,bs="",ia=0;for(dn=0;dn<gn;dn+=1){if(this.globalData.fontManager.chars?(this.textPaths[ia]?Kn=this.textPaths[ia]:(Kn=createNS("path"),Kn.setAttribute("stroke-linecap",lineCapEnum[1]),Kn.setAttribute("stroke-linejoin",lineJoinEnum[2]),Kn.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[ia]?(Qn=this.textSpans[ia],ys=Qn.children[0]):(Qn=createTag("div"),Qn.style.lineHeight=0,ys=createNS("svg"),ys.appendChild(Kn),styleDiv(Qn)))):this.isMasked?Kn=this.textPaths[ia]?this.textPaths[ia]:createNS("text"):this.textSpans[ia]?(Qn=this.textSpans[ia],Kn=this.textPaths[ia]):(Qn=createTag("span"),styleDiv(Qn),Kn=createTag("span"),styleDiv(Kn),Qn.appendChild(Kn)),this.globalData.fontManager.chars){var la=this.globalData.fontManager.getCharData(qe.finalText[dn],Ke.fStyle,this.globalData.fontManager.getFontByName(qe.f).fFamily),ra;if(la?ra=la.data:ra=null,vs.reset(),ra&&ra.shapes&&ra.shapes.length&&(Cs=ra.shapes[0].it,vs.scale(qe.finalSize/100,qe.finalSize/100),bs=this.createPathShape(vs,Cs),Kn.setAttribute("d",bs)),this.isMasked)this.innerElem.appendChild(Kn);else{if(this.innerElem.appendChild(Qn),ra&&ra.shapes){document.body.appendChild(ys);var sa=ys.getBBox();ys.setAttribute("width",sa.width+2),ys.setAttribute("height",sa.height+2),ys.setAttribute("viewBox",sa.x-1+" "+(sa.y-1)+" "+(sa.width+2)+" "+(sa.height+2));var na=ys.style,aa="translate("+(sa.x-1)+"px,"+(sa.y-1)+"px)";na.transform=aa,na.webkitTransform=aa,Hn[dn].yOffset=sa.y-1}else ys.setAttribute("width",1),ys.setAttribute("height",1);Qn.appendChild(ys)}}else if(Kn.textContent=Hn[dn].val,Kn.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(Kn);else{this.innerElem.appendChild(Qn);var oa=Kn.style,ha="translate3d(0,"+-qe.finalSize/1.2+"px,0)";oa.transform=ha,oa.webkitTransform=ha}this.isMasked?this.textSpans[ia]=Kn:this.textSpans[ia]=Qn,this.textSpans[ia].style.display="block",this.textPaths[ia]=Kn,ia+=1}for(;ia<this.textSpans.length;)this.textSpans[ia].style.display="none",ia+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var qe;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),qe=this.svgElement.style;var f="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";qe.transform=f,qe.webkitTransform=f}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var ze,Ke,Ai=0,ln=this.textAnimator.renderedLetters,dn=this.textProperty.currentData.l;Ke=dn.length;var gn,Hn,Kn;for(ze=0;ze<Ke;ze+=1)dn[ze].n?Ai+=1:(Hn=this.textSpans[ze],Kn=this.textPaths[ze],gn=ln[Ai],Ai+=1,gn._mdf.m&&(this.isMasked?Hn.setAttribute("transform",gn.m):(Hn.style.webkitTransform=gn.m,Hn.style.transform=gn.m)),Hn.style.opacity=gn.o,gn.sw&&gn._mdf.sw&&Kn.setAttribute("stroke-width",gn.sw),gn.sc&&gn._mdf.sc&&Kn.setAttribute("stroke",gn.sc),gn.fc&&gn._mdf.fc&&(Kn.setAttribute("fill",gn.fc),Kn.style.color=gn.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var Qn=this.innerElem.getBBox();this.currentBBox.w!==Qn.width&&(this.currentBBox.w=Qn.width,this.svgElement.setAttribute("width",Qn.width)),this.currentBBox.h!==Qn.height&&(this.currentBBox.h=Qn.height,this.svgElement.setAttribute("height",Qn.height));var ys=1;if(this.currentBBox.w!==Qn.width+ys*2||this.currentBBox.h!==Qn.height+ys*2||this.currentBBox.x!==Qn.x-ys||this.currentBBox.y!==Qn.y-ys){this.currentBBox.w=Qn.width+ys*2,this.currentBBox.h=Qn.height+ys*2,this.currentBBox.x=Qn.x-ys,this.currentBBox.y=Qn.y-ys,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),qe=this.svgElement.style;var vs="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";qe.transform=vs,qe.webkitTransform=vs}}}};function HCameraElement(qe,f,ze){this.initFrame(),this.initBaseData(qe,f,ze),this.initHierarchy();var Ke=PropertyFactory.getProp;if(this.pe=Ke(this,qe.pe,0,0,this),qe.ks.p.s?(this.px=Ke(this,qe.ks.p.x,1,0,this),this.py=Ke(this,qe.ks.p.y,1,0,this),this.pz=Ke(this,qe.ks.p.z,1,0,this)):this.p=Ke(this,qe.ks.p,1,0,this),qe.ks.a&&(this.a=Ke(this,qe.ks.a,1,0,this)),qe.ks.or.k.length&&qe.ks.or.k[0].to){var Ai,ln=qe.ks.or.k.length;for(Ai=0;Ai<ln;Ai+=1)qe.ks.or.k[Ai].to=null,qe.ks.or.k[Ai].ti=null}this.or=Ke(this,qe.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=Ke(this,qe.ks.rx,0,degToRads,this),this.ry=Ke(this,qe.ks.ry,0,degToRads,this),this.rz=Ke(this,qe.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var qe,f=this.comp.threeDElements.length,ze,Ke,Ai;for(qe=0;qe<f;qe+=1)if(ze=this.comp.threeDElements[qe],ze.type==="3d"){Ke=ze.perspectiveElem.style,Ai=ze.container.style;var ln=this.pe.v+"px",dn="0px 0px 0px",gn="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";Ke.perspective=ln,Ke.webkitPerspective=ln,Ai.transformOrigin=dn,Ai.mozTransformOrigin=dn,Ai.webkitTransformOrigin=dn,Ke.transform=gn,Ke.webkitTransform=gn}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var qe=this._isFirstFrame,f,ze;if(this.hierarchy)for(ze=this.hierarchy.length,f=0;f<ze;f+=1)qe=this.hierarchy[f].finalTransform.mProp._mdf||qe;if(qe||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(ze=this.hierarchy.length-1,f=ze;f>=0;f-=1){var Ke=this.hierarchy[f].finalTransform.mProp;this.mat.translate(-Ke.p.v[0],-Ke.p.v[1],Ke.p.v[2]),this.mat.rotateX(-Ke.or.v[0]).rotateY(-Ke.or.v[1]).rotateZ(Ke.or.v[2]),this.mat.rotateX(-Ke.rx.v).rotateY(-Ke.ry.v).rotateZ(Ke.rz.v),this.mat.scale(1/Ke.s.v[0],1/Ke.s.v[1],1/Ke.s.v[2]),this.mat.translate(Ke.a.v[0],Ke.a.v[1],Ke.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var Ai;this.p?Ai=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:Ai=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var ln=Math.sqrt(Math.pow(Ai[0],2)+Math.pow(Ai[1],2)+Math.pow(Ai[2],2)),dn=[Ai[0]/ln,Ai[1]/ln,Ai[2]/ln],gn=Math.sqrt(dn[2]*dn[2]+dn[0]*dn[0]),Hn=Math.atan2(dn[1],gn),Kn=Math.atan2(dn[0],-dn[2]);this.mat.rotateY(Kn).rotateX(-Hn)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var Qn=!this._prevMat.equals(this.mat);if((Qn||this.pe._mdf)&&this.comp.threeDElements){ze=this.comp.threeDElements.length;var ys,vs,Cs;for(f=0;f<ze;f+=1)if(ys=this.comp.threeDElements[f],ys.type==="3d"){if(Qn){var bs=this.mat.toCSS();Cs=ys.container.style,Cs.transform=bs,Cs.webkitTransform=bs}this.pe._mdf&&(vs=ys.perspectiveElem.style,vs.perspective=this.pe.v+"px",vs.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(qe){this.prepareProperties(qe,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(qe,f,ze){this.assetData=f.getAssetData(qe.refId),this.initElement(qe,f,ze)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var qe=this.globalData.getAssetsPath(this.assetData),f=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",qe),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(f),f.crossOrigin="anonymous",f.src=qe,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(qe,f){this.animationItem=qe,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:f&&f.className||"",imagePreserveAspectRatio:f&&f.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(f&&f.hideOnTransparent===!1),filterSize:{width:f&&f.filterSize&&f.filterSize.width||"400%",height:f&&f.filterSize&&f.filterSize.height||"400%",x:f&&f.filterSize&&f.filterSize.x||"-100%",y:f&&f.filterSize&&f.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var qe=this.pendingElements.pop();qe.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(qe,f){var ze=qe.getBaseElement();if(ze){var Ke=this.layers[f];if(!Ke.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(ze,f);else{for(var Ai=0,ln,dn,gn;Ai<f;)this.elements[Ai]&&this.elements[Ai]!==!0&&this.elements[Ai].getBaseElement&&(dn=this.elements[Ai],gn=this.layers[Ai].ddd?this.getThreeDContainerByPos(Ai):dn.getBaseElement(),ln=gn||ln),Ai+=1;ln?(!Ke.ddd||!this.supports3d)&&this.layerElement.insertBefore(ze,ln):(!Ke.ddd||!this.supports3d)&&this.layerElement.appendChild(ze)}else this.addTo3dContainer(ze,f)}},HybridRendererBase.prototype.createShape=function(qe){return this.supports3d?new HShapeElement(qe,this.globalData,this):new SVGShapeElement(qe,this.globalData,this)},HybridRendererBase.prototype.createText=function(qe){return this.supports3d?new HTextElement(qe,this.globalData,this):new SVGTextLottieElement(qe,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(qe){return this.camera=new HCameraElement(qe,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(qe){return this.supports3d?new HImageElement(qe,this.globalData,this):new IImageElement(qe,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(qe){return this.supports3d?new HSolidElement(qe,this.globalData,this):new ISolidElement(qe,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(qe){for(var f=0,ze=this.threeDElements.length;f<ze;){if(this.threeDElements[f].startPos<=qe&&this.threeDElements[f].endPos>=qe)return this.threeDElements[f].perspectiveElem;f+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(qe,f){var ze=createTag("div"),Ke,Ai;styleDiv(ze);var ln=createTag("div");if(styleDiv(ln),f==="3d"){Ke=ze.style,Ke.width=this.globalData.compSize.w+"px",Ke.height=this.globalData.compSize.h+"px";var dn="50% 50%";Ke.webkitTransformOrigin=dn,Ke.mozTransformOrigin=dn,Ke.transformOrigin=dn,Ai=ln.style;var gn="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";Ai.transform=gn,Ai.webkitTransform=gn}ze.appendChild(ln);var Hn={container:ln,perspectiveElem:ze,startPos:qe,endPos:qe,type:f};return this.threeDElements.push(Hn),Hn},HybridRendererBase.prototype.build3dContainers=function(){var qe,f=this.layers.length,ze,Ke="";for(qe=0;qe<f;qe+=1)this.layers[qe].ddd&&this.layers[qe].ty!==3?(Ke!=="3d"&&(Ke="3d",ze=this.createThreeDContainer(qe,"3d")),ze.endPos=Math.max(ze.endPos,qe)):(Ke!=="2d"&&(Ke="2d",ze=this.createThreeDContainer(qe,"2d")),ze.endPos=Math.max(ze.endPos,qe));for(f=this.threeDElements.length,qe=f-1;qe>=0;qe-=1)this.resizerElem.appendChild(this.threeDElements[qe].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(qe,f){for(var ze=0,Ke=this.threeDElements.length;ze<Ke;){if(f<=this.threeDElements[ze].endPos){for(var Ai=this.threeDElements[ze].startPos,ln;Ai<f;)this.elements[Ai]&&this.elements[Ai].getBaseElement&&(ln=this.elements[Ai].getBaseElement()),Ai+=1;ln?this.threeDElements[ze].container.insertBefore(qe,ln):this.threeDElements[ze].container.appendChild(qe);break}ze+=1}},HybridRendererBase.prototype.configAnimation=function(qe){var f=createTag("div"),ze=this.animationItem.wrapper,Ke=f.style;Ke.width=qe.w+"px",Ke.height=qe.h+"px",this.resizerElem=f,styleDiv(f),Ke.transformStyle="flat",Ke.mozTransformStyle="flat",Ke.webkitTransformStyle="flat",this.renderConfig.className&&f.setAttribute("class",this.renderConfig.className),ze.appendChild(f),Ke.overflow="hidden";var Ai=createNS("svg");Ai.setAttribute("width","1"),Ai.setAttribute("height","1"),styleDiv(Ai),this.resizerElem.appendChild(Ai);var ln=createNS("defs");Ai.appendChild(ln),this.data=qe,this.setupGlobalData(qe,Ai),this.globalData.defs=ln,this.layers=qe.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var qe,f=this.layers?this.layers.length:0;for(qe=0;qe<f;qe+=1)this.elements[qe]&&this.elements[qe].destroy&&this.elements[qe].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var qe=this.animationItem.wrapper.offsetWidth,f=this.animationItem.wrapper.offsetHeight,ze=qe/f,Ke=this.globalData.compSize.w/this.globalData.compSize.h,Ai,ln,dn,gn;Ke>ze?(Ai=qe/this.globalData.compSize.w,ln=qe/this.globalData.compSize.w,dn=0,gn=(f-this.globalData.compSize.h*(qe/this.globalData.compSize.w))/2):(Ai=f/this.globalData.compSize.h,ln=f/this.globalData.compSize.h,dn=(qe-this.globalData.compSize.w*(f/this.globalData.compSize.h))/2,gn=0);var Hn=this.resizerElem.style;Hn.webkitTransform="matrix3d("+Ai+",0,0,0,0,"+ln+",0,0,0,0,1,0,"+dn+","+gn+",0,1)",Hn.transform=Hn.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var qe=this.globalData.compSize.w,f=this.globalData.compSize.h,ze,Ke=this.threeDElements.length;for(ze=0;ze<Ke;ze+=1){var Ai=this.threeDElements[ze].perspectiveElem.style;Ai.webkitPerspective=Math.sqrt(Math.pow(qe,2)+Math.pow(f,2))+"px",Ai.perspective=Ai.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(qe){var f,ze=qe.length,Ke=createTag("div");for(f=0;f<ze;f+=1)if(qe[f].xt){var Ai=this.createComp(qe[f],Ke,this.globalData.comp,null);Ai.initExpressions(),this.globalData.projectInterface.registerComposition(Ai)}};function HCompElement(qe,f,ze){this.layers=qe.layers,this.supports3d=!qe.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(qe,f,ze),this.tm=qe.tm?PropertyFactory.getProp(this,qe.tm,0,f.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(qe,f){for(var ze=0,Ke;ze<f;)this.elements[ze]&&this.elements[ze].getBaseElement&&(Ke=this.elements[ze].getBaseElement()),ze+=1;Ke?this.layerElement.insertBefore(qe,Ke):this.layerElement.appendChild(qe)},HCompElement.prototype.createComp=function(qe){return this.supports3d?new HCompElement(qe,this.globalData,this):new SVGCompElement(qe,this.globalData,this)};function HybridRenderer(qe,f){this.animationItem=qe,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:f&&f.className||"",imagePreserveAspectRatio:f&&f.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(f&&f.hideOnTransparent===!1),filterSize:{width:f&&f.filterSize&&f.filterSize.width||"400%",height:f&&f.filterSize&&f.filterSize.height||"400%",x:f&&f.filterSize&&f.filterSize.x||"-100%",y:f&&f.filterSize&&f.filterSize.y||"-100%"},runExpressions:!f||f.runExpressions===void 0||f.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(qe){return this.supports3d?new HCompElement(qe,this.globalData,this):new SVGCompElement(qe,this.globalData,this)};var CompExpressionInterface=function(){return function(qe){function f(ze){for(var Ke=0,Ai=qe.layers.length;Ke<Ai;){if(qe.layers[Ke].nm===ze||qe.layers[Ke].ind===ze)return qe.elements[Ke].layerInterface;Ke+=1}return null}return Object.defineProperty(f,"_name",{value:qe.data.nm}),f.layer=f,f.pixelAspect=1,f.height=qe.data.h||qe.globalData.compSize.h,f.width=qe.data.w||qe.globalData.compSize.w,f.pixelAspect=1,f.frameDuration=1/qe.globalData.frameRate,f.displayStartTime=0,f.numLayers=qe.layers.length,f}}();function _typeof$2(qe){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},_typeof$2(qe)}function seedRandom(qe,f){var ze=this,Ke=256,Ai=6,ln=52,dn="random",gn=f.pow(Ke,Ai),Hn=f.pow(2,ln),Kn=Hn*2,Qn=Ke-1,ys;function vs(na,aa,oa){var ha=[];aa=aa===!0?{entropy:!0}:aa||{};var ga=la(ia(aa.entropy?[na,sa(qe)]:na===null?ra():na,3),ha),va=new Cs(ha),Sa=function(){for(var Zo=va.g(Ai),Ta=gn,Qa=0;Zo<Hn;)Zo=(Zo+Qa)*Ke,Ta*=Ke,Qa=va.g(1);for(;Zo>=Kn;)Zo/=2,Ta/=2,Qa>>>=1;return(Zo+Qa)/Ta};return Sa.int32=function(){return va.g(4)|0},Sa.quick=function(){return va.g(4)/4294967296},Sa.double=Sa,la(sa(va.S),qe),(aa.pass||oa||function(tl,Zo,Ta,Qa){return Qa&&(Qa.S&&bs(Qa,va),tl.state=function(){return bs(va,{})}),Ta?(f[dn]=tl,Zo):tl})(Sa,ga,"global"in aa?aa.global:this==f,aa.state)}f["seed"+dn]=vs;function Cs(na){var aa,oa=na.length,ha=this,ga=0,va=ha.i=ha.j=0,Sa=ha.S=[];for(oa||(na=[oa++]);ga<Ke;)Sa[ga]=ga++;for(ga=0;ga<Ke;ga++)Sa[ga]=Sa[va=Qn&va+na[ga%oa]+(aa=Sa[ga])],Sa[va]=aa;ha.g=function(tl){for(var Zo,Ta=0,Qa=ha.i,$a=ha.j,Ma=ha.S;tl--;)Zo=Ma[Qa=Qn&Qa+1],Ta=Ta*Ke+Ma[Qn&(Ma[Qa]=Ma[$a=Qn&$a+Zo])+(Ma[$a]=Zo)];return ha.i=Qa,ha.j=$a,Ta}}function bs(na,aa){return aa.i=na.i,aa.j=na.j,aa.S=na.S.slice(),aa}function ia(na,aa){var oa=[],ha=_typeof$2(na),ga;if(aa&&ha=="object")for(ga in na)try{oa.push(ia(na[ga],aa-1))}catch{}return oa.length?oa:ha=="string"?na:na+"\0"}function la(na,aa){for(var oa=na+"",ha,ga=0;ga<oa.length;)aa[Qn&ga]=Qn&(ha^=aa[Qn&ga]*19)+oa.charCodeAt(ga++);return sa(aa)}function ra(){try{var na=new Uint8Array(Ke);return(ze.crypto||ze.msCrypto).getRandomValues(na),sa(na)}catch{var aa=ze.navigator,oa=aa&&aa.plugins;return[+new Date,ze,oa,ze.screen,sa(qe)]}}function sa(na){return String.fromCharCode.apply(0,na)}la(f.random(),qe)}function initialize$2(qe){seedRandom([],qe)}var propTypes={SHAPE:"shape"};function _typeof$1(qe){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},_typeof$1(qe)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(qe){return qe.constructor===Array||qe.constructor===Float32Array}function isNumerable(qe,f){return qe==="number"||f instanceof Number||qe==="boolean"||qe==="string"}function $bm_neg(qe){var f=_typeof$1(qe);if(f==="number"||qe instanceof Number||f==="boolean")return-qe;if($bm_isInstanceOfArray(qe)){var ze,Ke=qe.length,Ai=[];for(ze=0;ze<Ke;ze+=1)Ai[ze]=-qe[ze];return Ai}return qe.propType?qe.v:-qe}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(qe,f){var ze=_typeof$1(qe),Ke=_typeof$1(f);if(isNumerable(ze,qe)&&isNumerable(Ke,f)||ze==="string"||Ke==="string")return qe+f;if($bm_isInstanceOfArray(qe)&&isNumerable(Ke,f))return qe=qe.slice(0),qe[0]+=f,qe;if(isNumerable(ze,qe)&&$bm_isInstanceOfArray(f))return f=f.slice(0),f[0]=qe+f[0],f;if($bm_isInstanceOfArray(qe)&&$bm_isInstanceOfArray(f)){for(var Ai=0,ln=qe.length,dn=f.length,gn=[];Ai<ln||Ai<dn;)(typeof qe[Ai]=="number"||qe[Ai]instanceof Number)&&(typeof f[Ai]=="number"||f[Ai]instanceof Number)?gn[Ai]=qe[Ai]+f[Ai]:gn[Ai]=f[Ai]===void 0?qe[Ai]:qe[Ai]||f[Ai],Ai+=1;return gn}return 0}var add=sum;function sub(qe,f){var ze=_typeof$1(qe),Ke=_typeof$1(f);if(isNumerable(ze,qe)&&isNumerable(Ke,f))return ze==="string"&&(qe=parseInt(qe,10)),Ke==="string"&&(f=parseInt(f,10)),qe-f;if($bm_isInstanceOfArray(qe)&&isNumerable(Ke,f))return qe=qe.slice(0),qe[0]-=f,qe;if(isNumerable(ze,qe)&&$bm_isInstanceOfArray(f))return f=f.slice(0),f[0]=qe-f[0],f;if($bm_isInstanceOfArray(qe)&&$bm_isInstanceOfArray(f)){for(var Ai=0,ln=qe.length,dn=f.length,gn=[];Ai<ln||Ai<dn;)(typeof qe[Ai]=="number"||qe[Ai]instanceof Number)&&(typeof f[Ai]=="number"||f[Ai]instanceof Number)?gn[Ai]=qe[Ai]-f[Ai]:gn[Ai]=f[Ai]===void 0?qe[Ai]:qe[Ai]||f[Ai],Ai+=1;return gn}return 0}function mul(qe,f){var ze=_typeof$1(qe),Ke=_typeof$1(f),Ai;if(isNumerable(ze,qe)&&isNumerable(Ke,f))return qe*f;var ln,dn;if($bm_isInstanceOfArray(qe)&&isNumerable(Ke,f)){for(dn=qe.length,Ai=createTypedArray("float32",dn),ln=0;ln<dn;ln+=1)Ai[ln]=qe[ln]*f;return Ai}if(isNumerable(ze,qe)&&$bm_isInstanceOfArray(f)){for(dn=f.length,Ai=createTypedArray("float32",dn),ln=0;ln<dn;ln+=1)Ai[ln]=qe*f[ln];return Ai}return 0}function div(qe,f){var ze=_typeof$1(qe),Ke=_typeof$1(f),Ai;if(isNumerable(ze,qe)&&isNumerable(Ke,f))return qe/f;var ln,dn;if($bm_isInstanceOfArray(qe)&&isNumerable(Ke,f)){for(dn=qe.length,Ai=createTypedArray("float32",dn),ln=0;ln<dn;ln+=1)Ai[ln]=qe[ln]/f;return Ai}if(isNumerable(ze,qe)&&$bm_isInstanceOfArray(f)){for(dn=f.length,Ai=createTypedArray("float32",dn),ln=0;ln<dn;ln+=1)Ai[ln]=qe/f[ln];return Ai}return 0}function mod(qe,f){return typeof qe=="string"&&(qe=parseInt(qe,10)),typeof f=="string"&&(f=parseInt(f,10)),qe%f}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(qe,f,ze){if(f>ze){var Ke=ze;ze=f,f=Ke}return Math.min(Math.max(qe,f),ze)}function radiansToDegrees(qe){return qe/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(qe){return qe*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(qe,f){if(typeof qe=="number"||qe instanceof Number)return f=f||0,Math.abs(qe-f);f||(f=helperLengthArray);var ze,Ke=Math.min(qe.length,f.length),Ai=0;for(ze=0;ze<Ke;ze+=1)Ai+=Math.pow(f[ze]-qe[ze],2);return Math.sqrt(Ai)}function normalize(qe){return div(qe,length(qe))}function rgbToHsl(qe){var f=qe[0],ze=qe[1],Ke=qe[2],Ai=Math.max(f,ze,Ke),ln=Math.min(f,ze,Ke),dn,gn,Hn=(Ai+ln)/2;if(Ai===ln)dn=0,gn=0;else{var Kn=Ai-ln;switch(gn=Hn>.5?Kn/(2-Ai-ln):Kn/(Ai+ln),Ai){case f:dn=(ze-Ke)/Kn+(ze<Ke?6:0);break;case ze:dn=(Ke-f)/Kn+2;break;case Ke:dn=(f-ze)/Kn+4;break}dn/=6}return[dn,gn,Hn,qe[3]]}function hue2rgb(qe,f,ze){return ze<0&&(ze+=1),ze>1&&(ze-=1),ze<1/6?qe+(f-qe)*6*ze:ze<1/2?f:ze<2/3?qe+(f-qe)*(2/3-ze)*6:qe}function hslToRgb(qe){var f=qe[0],ze=qe[1],Ke=qe[2],Ai,ln,dn;if(ze===0)Ai=Ke,dn=Ke,ln=Ke;else{var gn=Ke<.5?Ke*(1+ze):Ke+ze-Ke*ze,Hn=2*Ke-gn;Ai=hue2rgb(Hn,gn,f+1/3),ln=hue2rgb(Hn,gn,f),dn=hue2rgb(Hn,gn,f-1/3)}return[Ai,ln,dn,qe[3]]}function linear(qe,f,ze,Ke,Ai){if((Ke===void 0||Ai===void 0)&&(Ke=f,Ai=ze,f=0,ze=1),ze<f){var ln=ze;ze=f,f=ln}if(qe<=f)return Ke;if(qe>=ze)return Ai;var dn=ze===f?0:(qe-f)/(ze-f);if(!Ke.length)return Ke+(Ai-Ke)*dn;var gn,Hn=Ke.length,Kn=createTypedArray("float32",Hn);for(gn=0;gn<Hn;gn+=1)Kn[gn]=Ke[gn]+(Ai[gn]-Ke[gn])*dn;return Kn}function random(qe,f){if(f===void 0&&(qe===void 0?(qe=0,f=1):(f=qe,qe=void 0)),f.length){var ze,Ke=f.length;qe||(qe=createTypedArray("float32",Ke));var Ai=createTypedArray("float32",Ke),ln=BMMath.random();for(ze=0;ze<Ke;ze+=1)Ai[ze]=qe[ze]+ln*(f[ze]-qe[ze]);return Ai}qe===void 0&&(qe=0);var dn=BMMath.random();return qe+dn*(f-qe)}function createPath(qe,f,ze,Ke){var Ai,ln=qe.length,dn=shapePool.newElement();dn.setPathData(!!Ke,ln);var gn=[0,0],Hn,Kn;for(Ai=0;Ai<ln;Ai+=1)Hn=f&&f[Ai]?f[Ai]:gn,Kn=ze&&ze[Ai]?ze[Ai]:gn,dn.setTripleAt(qe[Ai][0],qe[Ai][1],Kn[0]+qe[Ai][0],Kn[1]+qe[Ai][1],Hn[0]+qe[Ai][0],Hn[1]+qe[Ai][1],Ai,!0);return dn}function initiateExpression(elem,data,property){function noOp(qe){return qe}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function qe(f,ze){var Ke,Ai,ln=this.pv.length?this.pv.length:1,dn=createTypedArray("float32",ln);f=5;var gn=Math.floor(time*f);for(Ke=0,Ai=0;Ke<gn;){for(Ai=0;Ai<ln;Ai+=1)dn[Ai]+=-ze+ze*2*BMMath.random();Ke+=1}var Hn=time*f,Kn=Hn-Math.floor(Hn),Qn=createTypedArray("float32",ln);if(ln>1){for(Ai=0;Ai<ln;Ai+=1)Qn[Ai]=this.pv[Ai]+dn[Ai]+(-ze+ze*2*BMMath.random())*Kn;return Qn}return this.pv+dn[0]+(-ze+ze*2*BMMath.random())*Kn}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(qe,f){return loopIn(qe,f,!0)}function loopOutDuration(qe,f){return loopOut(qe,f,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(qe,f){var ze=[f[0]-qe[0],f[1]-qe[1],f[2]-qe[2]],Ke=Math.atan2(ze[0],Math.sqrt(ze[1]*ze[1]+ze[2]*ze[2]))/degToRads,Ai=-Math.atan2(ze[1],ze[2])/degToRads;return[Ai,Ke,0]}function easeOut(qe,f,ze,Ke,Ai){return applyEase(easeOutBez,qe,f,ze,Ke,Ai)}function easeIn(qe,f,ze,Ke,Ai){return applyEase(easeInBez,qe,f,ze,Ke,Ai)}function ease(qe,f,ze,Ke,Ai){return applyEase(easeInOutBez,qe,f,ze,Ke,Ai)}function applyEase(qe,f,ze,Ke,Ai,ln){Ai===void 0?(Ai=ze,ln=Ke):f=(f-ze)/(Ke-ze),f>1?f=1:f<0&&(f=0);var dn=qe(f);if($bm_isInstanceOfArray(Ai)){var gn,Hn=Ai.length,Kn=createTypedArray("float32",Hn);for(gn=0;gn<Hn;gn+=1)Kn[gn]=(ln[gn]-Ai[gn])*dn+Ai[gn];return Kn}return(ln-Ai)*dn+Ai}function nearestKey(qe){var f,ze=data.k.length,Ke,Ai;if(!data.k.length||typeof data.k[0]=="number")Ke=0,Ai=0;else if(Ke=-1,qe*=elem.comp.globalData.frameRate,qe<data.k[0].t)Ke=1,Ai=data.k[0].t;else{for(f=0;f<ze-1;f+=1)if(qe===data.k[f].t){Ke=f+1,Ai=data.k[f].t;break}else if(qe>data.k[f].t&&qe<data.k[f+1].t){qe-data.k[f].t>data.k[f+1].t-qe?(Ke=f+2,Ai=data.k[f+1].t):(Ke=f+1,Ai=data.k[f].t);break}Ke===-1&&(Ke=f+1,Ai=data.k[f].t)}var ln={};return ln.index=Ke,ln.time=Ai/elem.comp.globalData.frameRate,ln}function key(qe){var f,ze,Ke;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+qe);qe-=1,f={time:data.k[qe].t/elem.comp.globalData.frameRate,value:[]};var Ai=Object.prototype.hasOwnProperty.call(data.k[qe],"s")?data.k[qe].s:data.k[qe-1].e;for(Ke=Ai.length,ze=0;ze<Ke;ze+=1)f[ze]=Ai[ze],f.value[ze]=Ai[ze];return f}function framesToTime(qe,f){return f||(f=elem.comp.globalData.frameRate),qe/f}function timeToFrames(qe,f){return!qe&&qe!==0&&(qe=time),f||(f=elem.comp.globalData.frameRate),qe*f}function seedRandom(qe){BMMath.seedrandom(randSeed+qe)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(qe,f){return typeof value=="string"?f===void 0?value.substring(qe):value.substring(qe,f):""}function substr(qe,f){return typeof value=="string"?f===void 0?value.substr(qe):value.substr(qe,f):""}function posterizeTime(qe){time=qe===0?0:Math.floor(time*qe)/qe,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(qe){return value=qe,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var qe={};qe.initExpressions=f,qe.resetFrame=ExpressionManager.resetFrame;function f(ze){var Ke=0,Ai=[];function ln(){Ke+=1}function dn(){Ke-=1,Ke===0&&Hn()}function gn(Kn){Ai.indexOf(Kn)===-1&&Ai.push(Kn)}function Hn(){var Kn,Qn=Ai.length;for(Kn=0;Kn<Qn;Kn+=1)Ai[Kn].release();Ai.length=0}ze.renderer.compInterface=CompExpressionInterface(ze.renderer),ze.renderer.globalData.projectInterface.registerComposition(ze.renderer),ze.renderer.globalData.pushExpression=ln,ze.renderer.globalData.popExpression=dn,ze.renderer.globalData.registerExpressionProperty=gn}return qe}(),MaskManagerInterface=function(){function qe(ze,Ke){this._mask=ze,this._data=Ke}Object.defineProperty(qe.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(qe.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var f=function(Ke){var Ai=createSizedArray(Ke.viewData.length),ln,dn=Ke.viewData.length;for(ln=0;ln<dn;ln+=1)Ai[ln]=new qe(Ke.viewData[ln],Ke.masksProperties[ln]);var gn=function(Kn){for(ln=0;ln<dn;){if(Ke.masksProperties[ln].nm===Kn)return Ai[ln];ln+=1}return null};return gn};return f}(),ExpressionPropertyInterface=function(){var qe={pv:0,v:0,mult:1},f={pv:[0,0,0],v:[0,0,0],mult:1};function ze(dn,gn,Hn){Object.defineProperty(dn,"velocity",{get:function(){return gn.getVelocityAtTime(gn.comp.currentFrame)}}),dn.numKeys=gn.keyframes?gn.keyframes.length:0,dn.key=function(Kn){if(!dn.numKeys)return 0;var Qn="";"s"in gn.keyframes[Kn-1]?Qn=gn.keyframes[Kn-1].s:"e"in gn.keyframes[Kn-2]?Qn=gn.keyframes[Kn-2].e:Qn=gn.keyframes[Kn-2].s;var ys=Hn==="unidimensional"?new Number(Qn):Object.assign({},Qn);return ys.time=gn.keyframes[Kn-1].t/gn.elem.comp.globalData.frameRate,ys.value=Hn==="unidimensional"?Qn[0]:Qn,ys},dn.valueAtTime=gn.getValueAtTime,dn.speedAtTime=gn.getSpeedAtTime,dn.velocityAtTime=gn.getVelocityAtTime,dn.propertyGroup=gn.propertyGroup}function Ke(dn){(!dn||!("pv"in dn))&&(dn=qe);var gn=1/dn.mult,Hn=dn.pv*gn,Kn=new Number(Hn);return Kn.value=Hn,ze(Kn,dn,"unidimensional"),function(){return dn.k&&dn.getValue(),Hn=dn.v*gn,Kn.value!==Hn&&(Kn=new Number(Hn),Kn.value=Hn,Kn[0]=Hn,ze(Kn,dn,"unidimensional")),Kn}}function Ai(dn){(!dn||!("pv"in dn))&&(dn=f);var gn=1/dn.mult,Hn=dn.data&&dn.data.l||dn.pv.length,Kn=createTypedArray("float32",Hn),Qn=createTypedArray("float32",Hn);return Kn.value=Qn,ze(Kn,dn,"multidimensional"),function(){dn.k&&dn.getValue();for(var ys=0;ys<Hn;ys+=1)Qn[ys]=dn.v[ys]*gn,Kn[ys]=Qn[ys];return Kn}}function ln(){return qe}return function(dn){return dn?dn.propType==="unidimensional"?Ke(dn):Ai(dn):ln}}(),TransformExpressionInterface=function(){return function(qe){function f(dn){switch(dn){case"scale":case"Scale":case"ADBE Scale":case 6:return f.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return f.rotation;case"ADBE Rotate X":return f.xRotation;case"ADBE Rotate Y":return f.yRotation;case"position":case"Position":case"ADBE Position":case 2:return f.position;case"ADBE Position_0":return f.xPosition;case"ADBE Position_1":return f.yPosition;case"ADBE Position_2":return f.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return f.anchorPoint;case"opacity":case"Opacity":case 11:return f.opacity;default:return null}}Object.defineProperty(f,"rotation",{get:ExpressionPropertyInterface(qe.r||qe.rz)}),Object.defineProperty(f,"zRotation",{get:ExpressionPropertyInterface(qe.rz||qe.r)}),Object.defineProperty(f,"xRotation",{get:ExpressionPropertyInterface(qe.rx)}),Object.defineProperty(f,"yRotation",{get:ExpressionPropertyInterface(qe.ry)}),Object.defineProperty(f,"scale",{get:ExpressionPropertyInterface(qe.s)});var ze,Ke,Ai,ln;return qe.p?ln=ExpressionPropertyInterface(qe.p):(ze=ExpressionPropertyInterface(qe.px),Ke=ExpressionPropertyInterface(qe.py),qe.pz&&(Ai=ExpressionPropertyInterface(qe.pz))),Object.defineProperty(f,"position",{get:function(){return qe.p?ln():[ze(),Ke(),Ai?Ai():0]}}),Object.defineProperty(f,"xPosition",{get:ExpressionPropertyInterface(qe.px)}),Object.defineProperty(f,"yPosition",{get:ExpressionPropertyInterface(qe.py)}),Object.defineProperty(f,"zPosition",{get:ExpressionPropertyInterface(qe.pz)}),Object.defineProperty(f,"anchorPoint",{get:ExpressionPropertyInterface(qe.a)}),Object.defineProperty(f,"opacity",{get:ExpressionPropertyInterface(qe.o)}),Object.defineProperty(f,"skew",{get:ExpressionPropertyInterface(qe.sk)}),Object.defineProperty(f,"skewAxis",{get:ExpressionPropertyInterface(qe.sa)}),Object.defineProperty(f,"orientation",{get:ExpressionPropertyInterface(qe.or)}),f}}(),LayerExpressionInterface=function(){function qe(Kn){var Qn=new Matrix;if(Kn!==void 0){var ys=this._elem.finalTransform.mProp.getValueAtTime(Kn);ys.clone(Qn)}else{var vs=this._elem.finalTransform.mProp;vs.applyToMatrix(Qn)}return Qn}function f(Kn,Qn){var ys=this.getMatrix(Qn);return ys.props[12]=0,ys.props[13]=0,ys.props[14]=0,this.applyPoint(ys,Kn)}function ze(Kn,Qn){var ys=this.getMatrix(Qn);return this.applyPoint(ys,Kn)}function Ke(Kn,Qn){var ys=this.getMatrix(Qn);return ys.props[12]=0,ys.props[13]=0,ys.props[14]=0,this.invertPoint(ys,Kn)}function Ai(Kn,Qn){var ys=this.getMatrix(Qn);return this.invertPoint(ys,Kn)}function ln(Kn,Qn){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ys,vs=this._elem.hierarchy.length;for(ys=0;ys<vs;ys+=1)this._elem.hierarchy[ys].finalTransform.mProp.applyToMatrix(Kn)}return Kn.applyToPointArray(Qn[0],Qn[1],Qn[2]||0)}function dn(Kn,Qn){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ys,vs=this._elem.hierarchy.length;for(ys=0;ys<vs;ys+=1)this._elem.hierarchy[ys].finalTransform.mProp.applyToMatrix(Kn)}return Kn.inversePoint(Qn)}function gn(Kn){var Qn=new Matrix;if(Qn.reset(),this._elem.finalTransform.mProp.applyToMatrix(Qn),this._elem.hierarchy&&this._elem.hierarchy.length){var ys,vs=this._elem.hierarchy.length;for(ys=0;ys<vs;ys+=1)this._elem.hierarchy[ys].finalTransform.mProp.applyToMatrix(Qn);return Qn.inversePoint(Kn)}return Qn.inversePoint(Kn)}function Hn(){return[1,1,1,1]}return function(Kn){var Qn;function ys(ia){Cs.mask=new MaskManagerInterface(ia,Kn)}function vs(ia){Cs.effect=ia}function Cs(ia){switch(ia){case"ADBE Root Vectors Group":case"Contents":case 2:return Cs.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return Qn;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return Cs.effect;case"ADBE Text Properties":return Cs.textInterface;default:return null}}Cs.getMatrix=qe,Cs.invertPoint=dn,Cs.applyPoint=ln,Cs.toWorld=ze,Cs.toWorldVec=f,Cs.fromWorld=Ai,Cs.fromWorldVec=Ke,Cs.toComp=ze,Cs.fromComp=gn,Cs.sampleImage=Hn,Cs.sourceRectAtTime=Kn.sourceRectAtTime.bind(Kn),Cs._elem=Kn,Qn=TransformExpressionInterface(Kn.finalTransform.mProp);var bs=getDescriptor(Qn,"anchorPoint");return Object.defineProperties(Cs,{hasParent:{get:function(){return Kn.hierarchy.length}},parent:{get:function(){return Kn.hierarchy[0].layerInterface}},rotation:getDescriptor(Qn,"rotation"),scale:getDescriptor(Qn,"scale"),position:getDescriptor(Qn,"position"),opacity:getDescriptor(Qn,"opacity"),anchorPoint:bs,anchor_point:bs,transform:{get:function(){return Qn}},active:{get:function(){return Kn.isInRange}}}),Cs.startTime=Kn.data.st,Cs.index=Kn.data.ind,Cs.source=Kn.data.refId,Cs.height=Kn.data.ty===0?Kn.data.h:100,Cs.width=Kn.data.ty===0?Kn.data.w:100,Cs.inPoint=Kn.data.ip/Kn.comp.globalData.frameRate,Cs.outPoint=Kn.data.op/Kn.comp.globalData.frameRate,Cs._name=Kn.data.nm,Cs.registerMaskInterface=ys,Cs.registerEffectsInterface=vs,Cs}}(),propertyGroupFactory=function(){return function(qe,f){return function(ze){return ze=ze===void 0?1:ze,ze<=0?qe:f(ze-1)}}}(),PropertyInterface=function(){return function(qe,f){var ze={_name:qe};function Ke(Ai){return Ai=Ai===void 0?1:Ai,Ai<=0?ze:f(Ai-1)}return Ke}}(),EffectsExpressionInterface=function(){var qe={createEffectsInterface:f};function f(Ai,ln){if(Ai.effectsManager){var dn=[],gn=Ai.data.ef,Hn,Kn=Ai.effectsManager.effectElements.length;for(Hn=0;Hn<Kn;Hn+=1)dn.push(ze(gn[Hn],Ai.effectsManager.effectElements[Hn],ln,Ai));var Qn=Ai.data.ef||[],ys=function(Cs){for(Hn=0,Kn=Qn.length;Hn<Kn;){if(Cs===Qn[Hn].nm||Cs===Qn[Hn].mn||Cs===Qn[Hn].ix)return dn[Hn];Hn+=1}return null};return Object.defineProperty(ys,"numProperties",{get:function(){return Qn.length}}),ys}return null}function ze(Ai,ln,dn,gn){function Hn(Cs){for(var bs=Ai.ef,ia=0,la=bs.length;ia<la;){if(Cs===bs[ia].nm||Cs===bs[ia].mn||Cs===bs[ia].ix)return bs[ia].ty===5?Qn[ia]:Qn[ia]();ia+=1}throw new Error}var Kn=propertyGroupFactory(Hn,dn),Qn=[],ys,vs=Ai.ef.length;for(ys=0;ys<vs;ys+=1)Ai.ef[ys].ty===5?Qn.push(ze(Ai.ef[ys],ln.effectElements[ys],ln.effectElements[ys].propertyGroup,gn)):Qn.push(Ke(ln.effectElements[ys],Ai.ef[ys].ty,gn,Kn));return Ai.mn==="ADBE Color Control"&&Object.defineProperty(Hn,"color",{get:function(){return Qn[0]()}}),Object.defineProperties(Hn,{numProperties:{get:function(){return Ai.np}},_name:{value:Ai.nm},propertyGroup:{value:Kn}}),Hn.enabled=Ai.en!==0,Hn.active=Hn.enabled,Hn}function Ke(Ai,ln,dn,gn){var Hn=ExpressionPropertyInterface(Ai.p);function Kn(){return ln===10?dn.comp.compInterface(Ai.p.v):Hn()}return Ai.p.setGroupProperty&&Ai.p.setGroupProperty(PropertyInterface("",gn)),Kn}return qe}(),ShapePathInterface=function(){return function(f,ze,Ke){var Ai=ze.sh;function ln(gn){return gn==="Shape"||gn==="shape"||gn==="Path"||gn==="path"||gn==="ADBE Vector Shape"||gn===2?ln.path:null}var dn=propertyGroupFactory(ln,Ke);return Ai.setGroupProperty(PropertyInterface("Path",dn)),Object.defineProperties(ln,{path:{get:function(){return Ai.k&&Ai.getValue(),Ai}},shape:{get:function(){return Ai.k&&Ai.getValue(),Ai}},_name:{value:f.nm},ix:{value:f.ix},propertyIndex:{value:f.ix},mn:{value:f.mn},propertyGroup:{value:Ke}}),ln}}(),ShapeExpressionInterface=function(){function qe(bs,ia,la){var ra=[],sa,na=bs?bs.length:0;for(sa=0;sa<na;sa+=1)bs[sa].ty==="gr"?ra.push(ze(bs[sa],ia[sa],la)):bs[sa].ty==="fl"?ra.push(Ke(bs[sa],ia[sa],la)):bs[sa].ty==="st"?ra.push(dn(bs[sa],ia[sa],la)):bs[sa].ty==="tm"?ra.push(gn(bs[sa],ia[sa],la)):bs[sa].ty==="tr"||(bs[sa].ty==="el"?ra.push(Kn(bs[sa],ia[sa],la)):bs[sa].ty==="sr"?ra.push(Qn(bs[sa],ia[sa],la)):bs[sa].ty==="sh"?ra.push(ShapePathInterface(bs[sa],ia[sa],la)):bs[sa].ty==="rc"?ra.push(ys(bs[sa],ia[sa],la)):bs[sa].ty==="rd"?ra.push(vs(bs[sa],ia[sa],la)):bs[sa].ty==="rp"?ra.push(Cs(bs[sa],ia[sa],la)):bs[sa].ty==="gf"?ra.push(Ai(bs[sa],ia[sa],la)):ra.push(ln(bs[sa],ia[sa])));return ra}function f(bs,ia,la){var ra,sa=function(oa){for(var ha=0,ga=ra.length;ha<ga;){if(ra[ha]._name===oa||ra[ha].mn===oa||ra[ha].propertyIndex===oa||ra[ha].ix===oa||ra[ha].ind===oa)return ra[ha];ha+=1}return typeof oa=="number"?ra[oa-1]:null};sa.propertyGroup=propertyGroupFactory(sa,la),ra=qe(bs.it,ia.it,sa.propertyGroup),sa.numProperties=ra.length;var na=Hn(bs.it[bs.it.length-1],ia.it[ia.it.length-1],sa.propertyGroup);return sa.transform=na,sa.propertyIndex=bs.cix,sa._name=bs.nm,sa}function ze(bs,ia,la){var ra=function(oa){switch(oa){case"ADBE Vectors Group":case"Contents":case 2:return ra.content;default:return ra.transform}};ra.propertyGroup=propertyGroupFactory(ra,la);var sa=f(bs,ia,ra.propertyGroup),na=Hn(bs.it[bs.it.length-1],ia.it[ia.it.length-1],ra.propertyGroup);return ra.content=sa,ra.transform=na,Object.defineProperty(ra,"_name",{get:function(){return bs.nm}}),ra.numProperties=bs.np,ra.propertyIndex=bs.ix,ra.nm=bs.nm,ra.mn=bs.mn,ra}function Ke(bs,ia,la){function ra(sa){return sa==="Color"||sa==="color"?ra.color:sa==="Opacity"||sa==="opacity"?ra.opacity:null}return Object.defineProperties(ra,{color:{get:ExpressionPropertyInterface(ia.c)},opacity:{get:ExpressionPropertyInterface(ia.o)},_name:{value:bs.nm},mn:{value:bs.mn}}),ia.c.setGroupProperty(PropertyInterface("Color",la)),ia.o.setGroupProperty(PropertyInterface("Opacity",la)),ra}function Ai(bs,ia,la){function ra(sa){return sa==="Start Point"||sa==="start point"?ra.startPoint:sa==="End Point"||sa==="end point"?ra.endPoint:sa==="Opacity"||sa==="opacity"?ra.opacity:null}return Object.defineProperties(ra,{startPoint:{get:ExpressionPropertyInterface(ia.s)},endPoint:{get:ExpressionPropertyInterface(ia.e)},opacity:{get:ExpressionPropertyInterface(ia.o)},type:{get:function(){return"a"}},_name:{value:bs.nm},mn:{value:bs.mn}}),ia.s.setGroupProperty(PropertyInterface("Start Point",la)),ia.e.setGroupProperty(PropertyInterface("End Point",la)),ia.o.setGroupProperty(PropertyInterface("Opacity",la)),ra}function ln(){function bs(){return null}return bs}function dn(bs,ia,la){var ra=propertyGroupFactory(ga,la),sa=propertyGroupFactory(ha,ra);function na(va){Object.defineProperty(ha,bs.d[va].nm,{get:ExpressionPropertyInterface(ia.d.dataProps[va].p)})}var aa,oa=bs.d?bs.d.length:0,ha={};for(aa=0;aa<oa;aa+=1)na(aa),ia.d.dataProps[aa].p.setGroupProperty(sa);function ga(va){return va==="Color"||va==="color"?ga.color:va==="Opacity"||va==="opacity"?ga.opacity:va==="Stroke Width"||va==="stroke width"?ga.strokeWidth:null}return Object.defineProperties(ga,{color:{get:ExpressionPropertyInterface(ia.c)},opacity:{get:ExpressionPropertyInterface(ia.o)},strokeWidth:{get:ExpressionPropertyInterface(ia.w)},dash:{get:function(){return ha}},_name:{value:bs.nm},mn:{value:bs.mn}}),ia.c.setGroupProperty(PropertyInterface("Color",ra)),ia.o.setGroupProperty(PropertyInterface("Opacity",ra)),ia.w.setGroupProperty(PropertyInterface("Stroke Width",ra)),ga}function gn(bs,ia,la){function ra(na){return na===bs.e.ix||na==="End"||na==="end"?ra.end:na===bs.s.ix?ra.start:na===bs.o.ix?ra.offset:null}var sa=propertyGroupFactory(ra,la);return ra.propertyIndex=bs.ix,ia.s.setGroupProperty(PropertyInterface("Start",sa)),ia.e.setGroupProperty(PropertyInterface("End",sa)),ia.o.setGroupProperty(PropertyInterface("Offset",sa)),ra.propertyIndex=bs.ix,ra.propertyGroup=la,Object.defineProperties(ra,{start:{get:ExpressionPropertyInterface(ia.s)},end:{get:ExpressionPropertyInterface(ia.e)},offset:{get:ExpressionPropertyInterface(ia.o)},_name:{value:bs.nm}}),ra.mn=bs.mn,ra}function Hn(bs,ia,la){function ra(na){return bs.a.ix===na||na==="Anchor Point"?ra.anchorPoint:bs.o.ix===na||na==="Opacity"?ra.opacity:bs.p.ix===na||na==="Position"?ra.position:bs.r.ix===na||na==="Rotation"||na==="ADBE Vector Rotation"?ra.rotation:bs.s.ix===na||na==="Scale"?ra.scale:bs.sk&&bs.sk.ix===na||na==="Skew"?ra.skew:bs.sa&&bs.sa.ix===na||na==="Skew Axis"?ra.skewAxis:null}var sa=propertyGroupFactory(ra,la);return ia.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",sa)),ia.transform.mProps.p.setGroupProperty(PropertyInterface("Position",sa)),ia.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",sa)),ia.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",sa)),ia.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",sa)),ia.transform.mProps.sk&&(ia.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",sa)),ia.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",sa))),ia.transform.op.setGroupProperty(PropertyInterface("Opacity",sa)),Object.defineProperties(ra,{opacity:{get:ExpressionPropertyInterface(ia.transform.mProps.o)},position:{get:ExpressionPropertyInterface(ia.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(ia.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(ia.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(ia.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(ia.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(ia.transform.mProps.sa)},_name:{value:bs.nm}}),ra.ty="tr",ra.mn=bs.mn,ra.propertyGroup=la,ra}function Kn(bs,ia,la){function ra(aa){return bs.p.ix===aa?ra.position:bs.s.ix===aa?ra.size:null}var sa=propertyGroupFactory(ra,la);ra.propertyIndex=bs.ix;var na=ia.sh.ty==="tm"?ia.sh.prop:ia.sh;return na.s.setGroupProperty(PropertyInterface("Size",sa)),na.p.setGroupProperty(PropertyInterface("Position",sa)),Object.defineProperties(ra,{size:{get:ExpressionPropertyInterface(na.s)},position:{get:ExpressionPropertyInterface(na.p)},_name:{value:bs.nm}}),ra.mn=bs.mn,ra}function Qn(bs,ia,la){function ra(aa){return bs.p.ix===aa?ra.position:bs.r.ix===aa?ra.rotation:bs.pt.ix===aa?ra.points:bs.or.ix===aa||aa==="ADBE Vector Star Outer Radius"?ra.outerRadius:bs.os.ix===aa?ra.outerRoundness:bs.ir&&(bs.ir.ix===aa||aa==="ADBE Vector Star Inner Radius")?ra.innerRadius:bs.is&&bs.is.ix===aa?ra.innerRoundness:null}var sa=propertyGroupFactory(ra,la),na=ia.sh.ty==="tm"?ia.sh.prop:ia.sh;return ra.propertyIndex=bs.ix,na.or.setGroupProperty(PropertyInterface("Outer Radius",sa)),na.os.setGroupProperty(PropertyInterface("Outer Roundness",sa)),na.pt.setGroupProperty(PropertyInterface("Points",sa)),na.p.setGroupProperty(PropertyInterface("Position",sa)),na.r.setGroupProperty(PropertyInterface("Rotation",sa)),bs.ir&&(na.ir.setGroupProperty(PropertyInterface("Inner Radius",sa)),na.is.setGroupProperty(PropertyInterface("Inner Roundness",sa))),Object.defineProperties(ra,{position:{get:ExpressionPropertyInterface(na.p)},rotation:{get:ExpressionPropertyInterface(na.r)},points:{get:ExpressionPropertyInterface(na.pt)},outerRadius:{get:ExpressionPropertyInterface(na.or)},outerRoundness:{get:ExpressionPropertyInterface(na.os)},innerRadius:{get:ExpressionPropertyInterface(na.ir)},innerRoundness:{get:ExpressionPropertyInterface(na.is)},_name:{value:bs.nm}}),ra.mn=bs.mn,ra}function ys(bs,ia,la){function ra(aa){return bs.p.ix===aa?ra.position:bs.r.ix===aa?ra.roundness:bs.s.ix===aa||aa==="Size"||aa==="ADBE Vector Rect Size"?ra.size:null}var sa=propertyGroupFactory(ra,la),na=ia.sh.ty==="tm"?ia.sh.prop:ia.sh;return ra.propertyIndex=bs.ix,na.p.setGroupProperty(PropertyInterface("Position",sa)),na.s.setGroupProperty(PropertyInterface("Size",sa)),na.r.setGroupProperty(PropertyInterface("Rotation",sa)),Object.defineProperties(ra,{position:{get:ExpressionPropertyInterface(na.p)},roundness:{get:ExpressionPropertyInterface(na.r)},size:{get:ExpressionPropertyInterface(na.s)},_name:{value:bs.nm}}),ra.mn=bs.mn,ra}function vs(bs,ia,la){function ra(aa){return bs.r.ix===aa||aa==="Round Corners 1"?ra.radius:null}var sa=propertyGroupFactory(ra,la),na=ia;return ra.propertyIndex=bs.ix,na.rd.setGroupProperty(PropertyInterface("Radius",sa)),Object.defineProperties(ra,{radius:{get:ExpressionPropertyInterface(na.rd)},_name:{value:bs.nm}}),ra.mn=bs.mn,ra}function Cs(bs,ia,la){function ra(aa){return bs.c.ix===aa||aa==="Copies"?ra.copies:bs.o.ix===aa||aa==="Offset"?ra.offset:null}var sa=propertyGroupFactory(ra,la),na=ia;return ra.propertyIndex=bs.ix,na.c.setGroupProperty(PropertyInterface("Copies",sa)),na.o.setGroupProperty(PropertyInterface("Offset",sa)),Object.defineProperties(ra,{copies:{get:ExpressionPropertyInterface(na.c)},offset:{get:ExpressionPropertyInterface(na.o)},_name:{value:bs.nm}}),ra.mn=bs.mn,ra}return function(bs,ia,la){var ra;function sa(aa){if(typeof aa=="number")return aa=aa===void 0?1:aa,aa===0?la:ra[aa-1];for(var oa=0,ha=ra.length;oa<ha;){if(ra[oa]._name===aa)return ra[oa];oa+=1}return null}function na(){return la}return sa.propertyGroup=propertyGroupFactory(sa,na),ra=qe(bs,ia,sa.propertyGroup),sa.numProperties=ra.length,sa._name="Contents",sa}}(),TextExpressionInterface=function(){return function(qe){var f;function ze(Ke){switch(Ke){case"ADBE Text Document":return ze.sourceText;default:return null}}return Object.defineProperty(ze,"sourceText",{get:function(){qe.textProperty.getValue();var Ai=qe.textProperty.currentData.t;return(!f||Ai!==f.value)&&(f=new String(Ai),f.value=Ai||new String(Ai),Object.defineProperty(f,"style",{get:function(){return{fillColor:qe.textProperty.currentData.fc}}})),f}}),ze}}();function _typeof(qe){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},_typeof(qe)}var FootageInterface=function(){var qe=function(Ke){var Ai="",ln=Ke.getFootageData();function dn(){return Ai="",ln=Ke.getFootageData(),gn}function gn(Hn){if(ln[Hn])return Ai=Hn,ln=ln[Hn],_typeof(ln)==="object"?gn:ln;var Kn=Hn.indexOf(Ai);if(Kn!==-1){var Qn=parseInt(Hn.substr(Kn+Ai.length),10);return ln=ln[Qn],_typeof(ln)==="object"?gn:ln}return""}return dn},f=function(Ke){function Ai(ln){return ln==="Outline"?Ai.outlineInterface():null}return Ai._name="Outline",Ai.outlineInterface=qe(Ke),Ai};return function(ze){function Ke(Ai){return Ai==="Data"?Ke.dataInterface:null}return Ke._name="Data",Ke.dataInterface=f(ze),Ke}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(qe){return interfaces[qe]||null}var expressionHelpers=function(){function qe(dn,gn,Hn){gn.x&&(Hn.k=!0,Hn.x=!0,Hn.initiateExpression=ExpressionManager.initiateExpression,Hn.effectsSequence.push(Hn.initiateExpression(dn,gn,Hn).bind(Hn)))}function f(dn){return dn*=this.elem.globalData.frameRate,dn-=this.offsetTime,dn!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<dn?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(dn,this._cachingAtTime),this._cachingAtTime.lastFrame=dn),this._cachingAtTime.value}function ze(dn){var gn=-.01,Hn=this.getValueAtTime(dn),Kn=this.getValueAtTime(dn+gn),Qn=0;if(Hn.length){var ys;for(ys=0;ys<Hn.length;ys+=1)Qn+=Math.pow(Kn[ys]-Hn[ys],2);Qn=Math.sqrt(Qn)*100}else Qn=0;return Qn}function Ke(dn){if(this.vel!==void 0)return this.vel;var gn=-.001,Hn=this.getValueAtTime(dn),Kn=this.getValueAtTime(dn+gn),Qn;if(Hn.length){Qn=createTypedArray("float32",Hn.length);var ys;for(ys=0;ys<Hn.length;ys+=1)Qn[ys]=(Kn[ys]-Hn[ys])/gn}else Qn=(Kn-Hn)/gn;return Qn}function Ai(){return this.pv}function ln(dn){this.propertyGroup=dn}return{searchExpressions:qe,getSpeedAtTime:ze,getVelocityAtTime:Ke,getValueAtTime:f,getStaticValueAtTime:Ai,setGroupProperty:ln}}();function addPropertyDecorator(){function qe(vs,Cs,bs){if(!this.k||!this.keyframes)return this.pv;vs=vs?vs.toLowerCase():"";var ia=this.comp.renderedFrame,la=this.keyframes,ra=la[la.length-1].t;if(ia<=ra)return this.pv;var sa,na;bs?(Cs?sa=Math.abs(ra-this.elem.comp.globalData.frameRate*Cs):sa=Math.max(0,ra-this.elem.data.ip),na=ra-sa):((!Cs||Cs>la.length-1)&&(Cs=la.length-1),na=la[la.length-1-Cs].t,sa=ra-na);var aa,oa,ha;if(vs==="pingpong"){var ga=Math.floor((ia-na)/sa);if(ga%2!==0)return this.getValueAtTime((sa-(ia-na)%sa+na)/this.comp.globalData.frameRate,0)}else if(vs==="offset"){var va=this.getValueAtTime(na/this.comp.globalData.frameRate,0),Sa=this.getValueAtTime(ra/this.comp.globalData.frameRate,0),tl=this.getValueAtTime(((ia-na)%sa+na)/this.comp.globalData.frameRate,0),Zo=Math.floor((ia-na)/sa);if(this.pv.length){for(ha=new Array(va.length),oa=ha.length,aa=0;aa<oa;aa+=1)ha[aa]=(Sa[aa]-va[aa])*Zo+tl[aa];return ha}return(Sa-va)*Zo+tl}else if(vs==="continue"){var Ta=this.getValueAtTime(ra/this.comp.globalData.frameRate,0),Qa=this.getValueAtTime((ra-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(ha=new Array(Ta.length),oa=ha.length,aa=0;aa<oa;aa+=1)ha[aa]=Ta[aa]+(Ta[aa]-Qa[aa])*((ia-ra)/this.comp.globalData.frameRate)/5e-4;return ha}return Ta+(Ta-Qa)*((ia-ra)/.001)}return this.getValueAtTime(((ia-na)%sa+na)/this.comp.globalData.frameRate,0)}function f(vs,Cs,bs){if(!this.k)return this.pv;vs=vs?vs.toLowerCase():"";var ia=this.comp.renderedFrame,la=this.keyframes,ra=la[0].t;if(ia>=ra)return this.pv;var sa,na;bs?(Cs?sa=Math.abs(this.elem.comp.globalData.frameRate*Cs):sa=Math.max(0,this.elem.data.op-ra),na=ra+sa):((!Cs||Cs>la.length-1)&&(Cs=la.length-1),na=la[Cs].t,sa=na-ra);var aa,oa,ha;if(vs==="pingpong"){var ga=Math.floor((ra-ia)/sa);if(ga%2===0)return this.getValueAtTime(((ra-ia)%sa+ra)/this.comp.globalData.frameRate,0)}else if(vs==="offset"){var va=this.getValueAtTime(ra/this.comp.globalData.frameRate,0),Sa=this.getValueAtTime(na/this.comp.globalData.frameRate,0),tl=this.getValueAtTime((sa-(ra-ia)%sa+ra)/this.comp.globalData.frameRate,0),Zo=Math.floor((ra-ia)/sa)+1;if(this.pv.length){for(ha=new Array(va.length),oa=ha.length,aa=0;aa<oa;aa+=1)ha[aa]=tl[aa]-(Sa[aa]-va[aa])*Zo;return ha}return tl-(Sa-va)*Zo}else if(vs==="continue"){var Ta=this.getValueAtTime(ra/this.comp.globalData.frameRate,0),Qa=this.getValueAtTime((ra+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(ha=new Array(Ta.length),oa=ha.length,aa=0;aa<oa;aa+=1)ha[aa]=Ta[aa]+(Ta[aa]-Qa[aa])*(ra-ia)/.001;return ha}return Ta+(Ta-Qa)*(ra-ia)/.001}return this.getValueAtTime((sa-((ra-ia)%sa+ra))/this.comp.globalData.frameRate,0)}function ze(vs,Cs){if(!this.k)return this.pv;if(vs=(vs||.4)*.5,Cs=Math.floor(Cs||5),Cs<=1)return this.pv;var bs=this.comp.renderedFrame/this.comp.globalData.frameRate,ia=bs-vs,la=bs+vs,ra=Cs>1?(la-ia)/(Cs-1):1,sa=0,na=0,aa;this.pv.length?aa=createTypedArray("float32",this.pv.length):aa=0;for(var oa;sa<Cs;){if(oa=this.getValueAtTime(ia+sa*ra),this.pv.length)for(na=0;na<this.pv.length;na+=1)aa[na]+=oa[na];else aa+=oa;sa+=1}if(this.pv.length)for(na=0;na<this.pv.length;na+=1)aa[na]/=Cs;else aa/=Cs;return aa}function Ke(vs){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var Cs=this._transformCachingAtTime.v;if(Cs.cloneFromProps(this.pre.props),this.appliedTransformations<1){var bs=this.a.getValueAtTime(vs);Cs.translate(-bs[0]*this.a.mult,-bs[1]*this.a.mult,bs[2]*this.a.mult)}if(this.appliedTransformations<2){var ia=this.s.getValueAtTime(vs);Cs.scale(ia[0]*this.s.mult,ia[1]*this.s.mult,ia[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var la=this.sk.getValueAtTime(vs),ra=this.sa.getValueAtTime(vs);Cs.skewFromAxis(-la*this.sk.mult,ra*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var sa=this.r.getValueAtTime(vs);Cs.rotate(-sa*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var na=this.rz.getValueAtTime(vs),aa=this.ry.getValueAtTime(vs),oa=this.rx.getValueAtTime(vs),ha=this.or.getValueAtTime(vs);Cs.rotateZ(-na*this.rz.mult).rotateY(aa*this.ry.mult).rotateX(oa*this.rx.mult).rotateZ(-ha[2]*this.or.mult).rotateY(ha[1]*this.or.mult).rotateX(ha[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var ga=this.px.getValueAtTime(vs),va=this.py.getValueAtTime(vs);if(this.data.p.z){var Sa=this.pz.getValueAtTime(vs);Cs.translate(ga*this.px.mult,va*this.py.mult,-Sa*this.pz.mult)}else Cs.translate(ga*this.px.mult,va*this.py.mult,0)}else{var tl=this.p.getValueAtTime(vs);Cs.translate(tl[0]*this.p.mult,tl[1]*this.p.mult,-tl[2]*this.p.mult)}return Cs}function Ai(){return this.v.clone(new Matrix)}var ln=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(vs,Cs,bs){var ia=ln(vs,Cs,bs);return ia.dynamicProperties.length?ia.getValueAtTime=Ke.bind(ia):ia.getValueAtTime=Ai.bind(ia),ia.setGroupProperty=expressionHelpers.setGroupProperty,ia};var dn=PropertyFactory.getProp;PropertyFactory.getProp=function(vs,Cs,bs,ia,la){var ra=dn(vs,Cs,bs,ia,la);ra.kf?ra.getValueAtTime=expressionHelpers.getValueAtTime.bind(ra):ra.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(ra),ra.setGroupProperty=expressionHelpers.setGroupProperty,ra.loopOut=qe,ra.loopIn=f,ra.smooth=ze,ra.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(ra),ra.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(ra),ra.numKeys=Cs.a===1?Cs.k.length:0,ra.propertyIndex=Cs.ix;var sa=0;return bs!==0&&(sa=createTypedArray("float32",Cs.a===1?Cs.k[0].s.length:Cs.k.length)),ra._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:sa},expressionHelpers.searchExpressions(vs,Cs,ra),ra.k&&la.addDynamicProperty(ra),ra};function gn(vs){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),vs*=this.elem.globalData.frameRate,vs-=this.offsetTime,vs!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<vs?this._caching.lastIndex:0,this._cachingAtTime.lastTime=vs,this.interpolateShape(vs,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var Hn=ShapePropertyFactory.getConstructorFunction(),Kn=ShapePropertyFactory.getKeyframedConstructorFunction();function Qn(){}Qn.prototype={vertices:function(Cs,bs){this.k&&this.getValue();var ia=this.v;bs!==void 0&&(ia=this.getValueAtTime(bs,0));var la,ra=ia._length,sa=ia[Cs],na=ia.v,aa=createSizedArray(ra);for(la=0;la<ra;la+=1)Cs==="i"||Cs==="o"?aa[la]=[sa[la][0]-na[la][0],sa[la][1]-na[la][1]]:aa[la]=[sa[la][0],sa[la][1]];return aa},points:function(Cs){return this.vertices("v",Cs)},inTangents:function(Cs){return this.vertices("i",Cs)},outTangents:function(Cs){return this.vertices("o",Cs)},isClosed:function(){return this.v.c},pointOnPath:function(Cs,bs){var ia=this.v;bs!==void 0&&(ia=this.getValueAtTime(bs,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(ia));for(var la=this._segmentsLength,ra=la.lengths,sa=la.totalLength*Cs,na=0,aa=ra.length,oa=0,ha;na<aa;){if(oa+ra[na].addedLength>sa){var ga=na,va=ia.c&&na===aa-1?0:na+1,Sa=(sa-oa)/ra[na].addedLength;ha=bez.getPointInSegment(ia.v[ga],ia.v[va],ia.o[ga],ia.i[va],Sa,ra[na]);break}else oa+=ra[na].addedLength;na+=1}return ha||(ha=ia.c?[ia.v[0][0],ia.v[0][1]]:[ia.v[ia._length-1][0],ia.v[ia._length-1][1]]),ha},vectorOnPath:function(Cs,bs,ia){Cs==1?Cs=this.v.c:Cs==0&&(Cs=.999);var la=this.pointOnPath(Cs,bs),ra=this.pointOnPath(Cs+.001,bs),sa=ra[0]-la[0],na=ra[1]-la[1],aa=Math.sqrt(Math.pow(sa,2)+Math.pow(na,2));if(aa===0)return[0,0];var oa=ia==="tangent"?[sa/aa,na/aa]:[-na/aa,sa/aa];return oa},tangentOnPath:function(Cs,bs){return this.vectorOnPath(Cs,bs,"tangent")},normalOnPath:function(Cs,bs){return this.vectorOnPath(Cs,bs,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([Qn],Hn),extendPrototype([Qn],Kn),Kn.prototype.getValueAtTime=gn,Kn.prototype.initiateExpression=ExpressionManager.initiateExpression;var ys=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(vs,Cs,bs,ia,la){var ra=ys(vs,Cs,bs,ia,la);return ra.propertyIndex=Cs.ix,ra.lock=!1,bs===3?expressionHelpers.searchExpressions(vs,Cs.pt,ra):bs===4&&expressionHelpers.searchExpressions(vs,Cs.ks,ra),ra.k&&vs.addDynamicProperty(ra),ra}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function qe(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(f,ze){var Ke=this.calculateExpression(ze);if(f.t!==Ke){var Ai={};return this.copyData(Ai,f),Ai.t=Ke.toString(),Ai.__complete=!1,Ai}return f},TextProperty.prototype.searchProperty=function(){var f=this.searchKeyframes(),ze=this.searchExpressions();return this.kf=f||ze,this.kf},TextProperty.prototype.searchExpressions=qe}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function qe(f,ze){var Ke=createNS("feMerge");Ke.setAttribute("result",f);var Ai,ln;for(ln=0;ln<ze.length;ln+=1)Ai=createNS("feMergeNode"),Ai.setAttribute("in",ze[ln]),Ke.appendChild(Ai),Ke.appendChild(Ai);return Ke}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(qe,f,ze,Ke,Ai){this.filterManager=f;var ln=createNS("feColorMatrix");ln.setAttribute("type","matrix"),ln.setAttribute("color-interpolation-filters","linearRGB"),ln.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=ln,ln.setAttribute("result",Ke+"_tint_1"),qe.appendChild(ln),ln=createNS("feColorMatrix"),ln.setAttribute("type","matrix"),ln.setAttribute("color-interpolation-filters","sRGB"),ln.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),ln.setAttribute("result",Ke+"_tint_2"),qe.appendChild(ln),this.matrixFilter=ln;var dn=this.createMergeNode(Ke,[Ai,Ke+"_tint_1",Ke+"_tint_2"]);qe.appendChild(dn)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(qe){if(qe||this.filterManager._mdf){var f=this.filterManager.effectElements[0].p.v,ze=this.filterManager.effectElements[1].p.v,Ke=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+Ke+" 0"),this.matrixFilter.setAttribute("values",ze[0]-f[0]+" 0 0 0 "+f[0]+" "+(ze[1]-f[1])+" 0 0 0 "+f[1]+" "+(ze[2]-f[2])+" 0 0 0 "+f[2]+" 0 0 0 1 0")}};function SVGFillFilter(qe,f,ze,Ke){this.filterManager=f;var Ai=createNS("feColorMatrix");Ai.setAttribute("type","matrix"),Ai.setAttribute("color-interpolation-filters","sRGB"),Ai.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),Ai.setAttribute("result",Ke),qe.appendChild(Ai),this.matrixFilter=Ai}SVGFillFilter.prototype.renderFrame=function(qe){if(qe||this.filterManager._mdf){var f=this.filterManager.effectElements[2].p.v,ze=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+f[0]+" 0 0 0 0 "+f[1]+" 0 0 0 0 "+f[2]+" 0 0 0 "+ze+" 0")}};function SVGStrokeEffect(qe,f,ze){this.initialized=!1,this.filterManager=f,this.elem=ze,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var qe=this.elem.layerElement.children||this.elem.layerElement.childNodes,f,ze,Ke,Ai;for(this.filterManager.effectElements[1].p.v===1?(Ai=this.elem.maskManager.masksProperties.length,Ke=0):(Ke=this.filterManager.effectElements[0].p.v-1,Ai=Ke+1),ze=createNS("g"),ze.setAttribute("fill","none"),ze.setAttribute("stroke-linecap","round"),ze.setAttribute("stroke-dashoffset",1),Ke;Ke<Ai;Ke+=1)f=createNS("path"),ze.appendChild(f),this.paths.push({p:f,m:Ke});if(this.filterManager.effectElements[10].p.v===3){var ln=createNS("mask"),dn=createElementID();ln.setAttribute("id",dn),ln.setAttribute("mask-type","alpha"),ln.appendChild(ze),this.elem.globalData.defs.appendChild(ln);var gn=createNS("g");for(gn.setAttribute("mask","url("+getLocationHref()+"#"+dn+")");qe[0];)gn.appendChild(qe[0]);this.elem.layerElement.appendChild(gn),this.masker=ln,ze.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(qe=this.elem.layerElement.children||this.elem.layerElement.childNodes;qe.length;)this.elem.layerElement.removeChild(qe[0]);this.elem.layerElement.appendChild(ze),this.elem.layerElement.removeAttribute("mask"),ze.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=ze},SVGStrokeEffect.prototype.renderFrame=function(qe){this.initialized||this.initialize();var f,ze=this.paths.length,Ke,Ai;for(f=0;f<ze;f+=1)if(this.paths[f].m!==-1&&(Ke=this.elem.maskManager.viewData[this.paths[f].m],Ai=this.paths[f].p,(qe||this.filterManager._mdf||Ke.prop._mdf)&&Ai.setAttribute("d",Ke.lastPath),qe||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||Ke.prop._mdf)){var ln;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var dn=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,gn=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,Hn=Ai.getTotalLength();ln="0 0 0 "+Hn*dn+" ";var Kn=Hn*(gn-dn),Qn=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,ys=Math.floor(Kn/Qn),vs;for(vs=0;vs<ys;vs+=1)ln+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";ln+="0 "+Hn*10+" 0 0"}else ln="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;Ai.setAttribute("stroke-dasharray",ln)}if((qe||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(qe||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(qe||this.filterManager.effectElements[3].p._mdf)){var Cs=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(Cs[0]*255)+","+bmFloor(Cs[1]*255)+","+bmFloor(Cs[2]*255)+")")}};function SVGTritoneFilter(qe,f,ze,Ke){this.filterManager=f;var Ai=createNS("feColorMatrix");Ai.setAttribute("type","matrix"),Ai.setAttribute("color-interpolation-filters","linearRGB"),Ai.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),qe.appendChild(Ai);var ln=createNS("feComponentTransfer");ln.setAttribute("color-interpolation-filters","sRGB"),ln.setAttribute("result",Ke),this.matrixFilter=ln;var dn=createNS("feFuncR");dn.setAttribute("type","table"),ln.appendChild(dn),this.feFuncR=dn;var gn=createNS("feFuncG");gn.setAttribute("type","table"),ln.appendChild(gn),this.feFuncG=gn;var Hn=createNS("feFuncB");Hn.setAttribute("type","table"),ln.appendChild(Hn),this.feFuncB=Hn,qe.appendChild(ln)}SVGTritoneFilter.prototype.renderFrame=function(qe){if(qe||this.filterManager._mdf){var f=this.filterManager.effectElements[0].p.v,ze=this.filterManager.effectElements[1].p.v,Ke=this.filterManager.effectElements[2].p.v,Ai=Ke[0]+" "+ze[0]+" "+f[0],ln=Ke[1]+" "+ze[1]+" "+f[1],dn=Ke[2]+" "+ze[2]+" "+f[2];this.feFuncR.setAttribute("tableValues",Ai),this.feFuncG.setAttribute("tableValues",ln),this.feFuncB.setAttribute("tableValues",dn)}};function SVGProLevelsFilter(qe,f,ze,Ke){this.filterManager=f;var Ai=this.filterManager.effectElements,ln=createNS("feComponentTransfer");(Ai[10].p.k||Ai[10].p.v!==0||Ai[11].p.k||Ai[11].p.v!==1||Ai[12].p.k||Ai[12].p.v!==1||Ai[13].p.k||Ai[13].p.v!==0||Ai[14].p.k||Ai[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",ln)),(Ai[17].p.k||Ai[17].p.v!==0||Ai[18].p.k||Ai[18].p.v!==1||Ai[19].p.k||Ai[19].p.v!==1||Ai[20].p.k||Ai[20].p.v!==0||Ai[21].p.k||Ai[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",ln)),(Ai[24].p.k||Ai[24].p.v!==0||Ai[25].p.k||Ai[25].p.v!==1||Ai[26].p.k||Ai[26].p.v!==1||Ai[27].p.k||Ai[27].p.v!==0||Ai[28].p.k||Ai[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",ln)),(Ai[31].p.k||Ai[31].p.v!==0||Ai[32].p.k||Ai[32].p.v!==1||Ai[33].p.k||Ai[33].p.v!==1||Ai[34].p.k||Ai[34].p.v!==0||Ai[35].p.k||Ai[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",ln)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(ln.setAttribute("color-interpolation-filters","sRGB"),qe.appendChild(ln)),(Ai[3].p.k||Ai[3].p.v!==0||Ai[4].p.k||Ai[4].p.v!==1||Ai[5].p.k||Ai[5].p.v!==1||Ai[6].p.k||Ai[6].p.v!==0||Ai[7].p.k||Ai[7].p.v!==1)&&(ln=createNS("feComponentTransfer"),ln.setAttribute("color-interpolation-filters","sRGB"),ln.setAttribute("result",Ke),qe.appendChild(ln),this.feFuncRComposed=this.createFeFunc("feFuncR",ln),this.feFuncGComposed=this.createFeFunc("feFuncG",ln),this.feFuncBComposed=this.createFeFunc("feFuncB",ln))}SVGProLevelsFilter.prototype.createFeFunc=function(qe,f){var ze=createNS(qe);return ze.setAttribute("type","table"),f.appendChild(ze),ze},SVGProLevelsFilter.prototype.getTableValue=function(qe,f,ze,Ke,Ai){for(var ln=0,dn=256,gn,Hn=Math.min(qe,f),Kn=Math.max(qe,f),Qn=Array.call(null,{length:dn}),ys,vs=0,Cs=Ai-Ke,bs=f-qe;ln<=256;)gn=ln/256,gn<=Hn?ys=bs<0?Ai:Ke:gn>=Kn?ys=bs<0?Ke:Ai:ys=Ke+Cs*Math.pow((gn-qe)/bs,1/ze),Qn[vs]=ys,vs+=1,ln+=256/(dn-1);return Qn.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(qe){if(qe||this.filterManager._mdf){var f,ze=this.filterManager.effectElements;this.feFuncRComposed&&(qe||ze[3].p._mdf||ze[4].p._mdf||ze[5].p._mdf||ze[6].p._mdf||ze[7].p._mdf)&&(f=this.getTableValue(ze[3].p.v,ze[4].p.v,ze[5].p.v,ze[6].p.v,ze[7].p.v),this.feFuncRComposed.setAttribute("tableValues",f),this.feFuncGComposed.setAttribute("tableValues",f),this.feFuncBComposed.setAttribute("tableValues",f)),this.feFuncR&&(qe||ze[10].p._mdf||ze[11].p._mdf||ze[12].p._mdf||ze[13].p._mdf||ze[14].p._mdf)&&(f=this.getTableValue(ze[10].p.v,ze[11].p.v,ze[12].p.v,ze[13].p.v,ze[14].p.v),this.feFuncR.setAttribute("tableValues",f)),this.feFuncG&&(qe||ze[17].p._mdf||ze[18].p._mdf||ze[19].p._mdf||ze[20].p._mdf||ze[21].p._mdf)&&(f=this.getTableValue(ze[17].p.v,ze[18].p.v,ze[19].p.v,ze[20].p.v,ze[21].p.v),this.feFuncG.setAttribute("tableValues",f)),this.feFuncB&&(qe||ze[24].p._mdf||ze[25].p._mdf||ze[26].p._mdf||ze[27].p._mdf||ze[28].p._mdf)&&(f=this.getTableValue(ze[24].p.v,ze[25].p.v,ze[26].p.v,ze[27].p.v,ze[28].p.v),this.feFuncB.setAttribute("tableValues",f)),this.feFuncA&&(qe||ze[31].p._mdf||ze[32].p._mdf||ze[33].p._mdf||ze[34].p._mdf||ze[35].p._mdf)&&(f=this.getTableValue(ze[31].p.v,ze[32].p.v,ze[33].p.v,ze[34].p.v,ze[35].p.v),this.feFuncA.setAttribute("tableValues",f))}};function SVGDropShadowEffect(qe,f,ze,Ke,Ai){var ln=f.container.globalData.renderConfig.filterSize,dn=f.data.fs||ln;qe.setAttribute("x",dn.x||ln.x),qe.setAttribute("y",dn.y||ln.y),qe.setAttribute("width",dn.width||ln.width),qe.setAttribute("height",dn.height||ln.height),this.filterManager=f;var gn=createNS("feGaussianBlur");gn.setAttribute("in","SourceAlpha"),gn.setAttribute("result",Ke+"_drop_shadow_1"),gn.setAttribute("stdDeviation","0"),this.feGaussianBlur=gn,qe.appendChild(gn);var Hn=createNS("feOffset");Hn.setAttribute("dx","25"),Hn.setAttribute("dy","0"),Hn.setAttribute("in",Ke+"_drop_shadow_1"),Hn.setAttribute("result",Ke+"_drop_shadow_2"),this.feOffset=Hn,qe.appendChild(Hn);var Kn=createNS("feFlood");Kn.setAttribute("flood-color","#00ff00"),Kn.setAttribute("flood-opacity","1"),Kn.setAttribute("result",Ke+"_drop_shadow_3"),this.feFlood=Kn,qe.appendChild(Kn);var Qn=createNS("feComposite");Qn.setAttribute("in",Ke+"_drop_shadow_3"),Qn.setAttribute("in2",Ke+"_drop_shadow_2"),Qn.setAttribute("operator","in"),Qn.setAttribute("result",Ke+"_drop_shadow_4"),qe.appendChild(Qn);var ys=this.createMergeNode(Ke,[Ke+"_drop_shadow_4",Ai]);qe.appendChild(ys)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(qe){if(qe||this.filterManager._mdf){if((qe||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),qe||this.filterManager.effectElements[0].p._mdf){var f=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(f[0]*255),Math.round(f[1]*255),Math.round(f[2]*255)))}if((qe||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),qe||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var ze=this.filterManager.effectElements[3].p.v,Ke=(this.filterManager.effectElements[2].p.v-90)*degToRads,Ai=ze*Math.cos(Ke),ln=ze*Math.sin(Ke);this.feOffset.setAttribute("dx",Ai),this.feOffset.setAttribute("dy",ln)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(qe,f,ze){this.initialized=!1,this.filterManager=f,this.filterElem=qe,this.elem=ze,ze.matteElement=createNS("g"),ze.matteElement.appendChild(ze.layerElement),ze.matteElement.appendChild(ze.transformedElement),ze.baseElement=ze.matteElement}SVGMatte3Effect.prototype.findSymbol=function(qe){for(var f=0,ze=_svgMatteSymbols.length;f<ze;){if(_svgMatteSymbols[f]===qe)return _svgMatteSymbols[f];f+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(qe,f){var ze=qe.layerElement.parentNode;if(ze){for(var Ke=ze.children,Ai=0,ln=Ke.length;Ai<ln&&Ke[Ai]!==qe.layerElement;)Ai+=1;var dn;Ai<=ln-2&&(dn=Ke[Ai+1]);var gn=createNS("use");gn.setAttribute("href","#"+f),dn?ze.insertBefore(gn,dn):ze.appendChild(gn)}},SVGMatte3Effect.prototype.setElementAsMask=function(qe,f){if(!this.findSymbol(f)){var ze=createElementID(),Ke=createNS("mask");Ke.setAttribute("id",f.layerId),Ke.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(f);var Ai=qe.globalData.defs;Ai.appendChild(Ke);var ln=createNS("symbol");ln.setAttribute("id",ze),this.replaceInParent(f,ze),ln.appendChild(f.layerElement),Ai.appendChild(ln);var dn=createNS("use");dn.setAttribute("href","#"+ze),Ke.appendChild(dn),f.data.hd=!1,f.show()}qe.setMatte(f.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var qe=this.filterManager.effectElements[0].p.v,f=this.elem.comp.elements,ze=0,Ke=f.length;ze<Ke;)f[ze]&&f[ze].data.ind===qe&&this.setElementAsMask(this.elem,f[ze]),ze+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(qe,f,ze,Ke){qe.setAttribute("x","-100%"),qe.setAttribute("y","-100%"),qe.setAttribute("width","300%"),qe.setAttribute("height","300%"),this.filterManager=f;var Ai=createNS("feGaussianBlur");Ai.setAttribute("result",Ke),qe.appendChild(Ai),this.feGaussianBlur=Ai}SVGGaussianBlurEffect.prototype.renderFrame=function(qe){if(qe||this.filterManager._mdf){var f=.3,ze=this.filterManager.effectElements[0].p.v*f,Ke=this.filterManager.effectElements[1].p.v,Ai=Ke==3?0:ze,ln=Ke==2?0:ze;this.feGaussianBlur.setAttribute("stdDeviation",Ai+" "+ln);var dn=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",dn)}};function TransformEffect(){}TransformEffect.prototype.init=function(qe){this.effectsManager=qe,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(qe){if(this._opMdf=!1,this._mdf=!1,qe||this.effectsManager._mdf){var f=this.effectsManager.effectElements,ze=f[0].p.v,Ke=f[1].p.v,Ai=f[2].p.v===1,ln=f[3].p.v,dn=Ai?ln:f[4].p.v,gn=f[5].p.v,Hn=f[6].p.v,Kn=f[7].p.v;this.matrix.reset(),this.matrix.translate(-ze[0],-ze[1],ze[2]),this.matrix.scale(dn*.01,ln*.01,1),this.matrix.rotate(-Kn*degToRads),this.matrix.skewFromAxis(-gn*degToRads,(Hn+90)*degToRads),this.matrix.translate(Ke[0],Ke[1],0),this._mdf=!0,this.opacity!==f[8].p.v&&(this.opacity=f[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(qe,f){this.init(f)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(qe){this.init(qe)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})}(lottie$1,lottie$1.exports)),lottie$1.exports}var lottieExports=requireLottie();const Lottie=getDefaultExportFromCjs(lottieExports),useCanvas=qe=>{const f=reactExports.useRef(null),ze=reactExports.useRef(null),Ke=reactExports.useRef(null),Ai=reactExports.useRef(null),ln=reactExports.useRef(null),dn=reactExports.useRef(null),gn=reactExports.useRef(null),Hn=reactExports.useRef(null);reactExports.useEffect(()=>{if(f.current)return Kn(),Qn(),()=>{Hn.current&&clearInterval(Hn.current),gn.current&&gn.current.destroy();const oa=ze.current;oa&&(oa.dispose(),ze.current=null),ln.current&&(document.body.removeChild(ln.current),ln.current=null)}},[]),reactExports.useEffect(()=>{ra(qe),sa()},[qe]);const Kn=()=>{const aa=f.current;if(!aa)return;const oa=new wn(aa,{width:window.innerWidth-120,height:window.innerHeight-260});oa.backgroundColor=COLORS.background,ze.current=oa},Qn=()=>{const aa=ze.current;if(!aa)return;const oa=ys(aa);aa.add(oa);const ha=vs(aa);aa.add(ha),ia(aa);for(let ga=-5;ga<5;ga++){const va={left:aa.getWidth()/2+ga*110,top:aa.getHeight()/10*7},Sa=la(ga+5,va,aa);aa.add(Sa)}aa.requestRenderAll()},ys=aa=>{const oa=new ko("",{fontSize:62,textAlign:"center",fill:"#1e1e1e",fontFamily:"BMJUA",selectable:!1,hoverCursor:"null"}),ha=new ot(aa.getWidth()/2+50,aa.getHeight()/5);return oa.setPositionByOrigin(ha,"right","center"),Ke.current=oa,oa},vs=aa=>{const oa=new ko("",{fontSize:62,textAlign:"center",fill:"#00a",fontFamily:"BMJUA",fontWeight:600,selectable:!1,hoverCursor:"null"}),ha=new ot(aa.getWidth()/2+50,aa.getHeight()/5);return oa.setPositionByOrigin(ha,"left","center"),Ai.current=oa,oa},Cs=(aa,oa)=>{const ha=aa.match(/(\d+)\s*[\+\-\\*\/]\s*(\d+)/);if(!ha)return;const[,ga,va]=ha,Sa=parseInt(ga,10),tl=parseInt(va,10),Zo=oa.getWidth()/2,Ta=oa.getHeight()/3+50,Qa=10,$a=8,Ma=10,ua=Qa*2+$a,ya=10;oa.getObjects("group").filter(Oa=>Oa.data==="number-visual").forEach(Oa=>oa.remove(Oa));const da=(Oa,Ja,rl,hl,al)=>{const Tl=[];let Cl=Math.min(Oa,Ma),Yl=Math.ceil(Oa/Ma);for(let ll=0;ll<Oa;ll++){const Nh=Math.floor(ll/Ma),Uh=ll%Ma,Kl=new qn({radius:Qa,fill:Ja,left:Uh*(Qa*2+$a),top:Nh*ua,originX:"left",originY:"top"});Tl.push(Kl)}const El=Cl*(Qa*2+$a)-$a,jl=Yl*ua,yh=new vr({width:El+ya*2,height:jl+ya*2,rx:16,ry:16,fill:rl,stroke:"#d1d5db",strokeWidth:1,originX:"left",originY:"top",left:-10,top:-14}),Dl=new Er([yh,...Tl],{left:hl,top:al,selectable:!1,evented:!1});return Dl.data="number-visual",Dl},pa=da(Sa,"#f87171","#fef2f2",Zo-200,Ta);pa.setPositionByOrigin(new ot(Zo-200,Ta),"center","center");const xa=da(tl,"#60a5fa","#eff6ff",Zo+50,Ta);xa.setPositionByOrigin(new ot(Zo+200,Ta),"center","center"),oa.add(pa,xa),oa.requestRenderAll()},bs=()=>{Hn.current&&(clearInterval(Hn.current),Hn.current=null),gn.current&&(gn.current.destroy(),gn.current=null);const aa=ze.current;aa&&dn.current&&aa.contains(dn.current)&&aa.remove(dn.current),dn.current=null},ia=aa=>{if(bs(),!ln.current){const ga=document.createElement("div");ga.style.width="60px",ga.style.height="60px",ga.style.position="fixed",ga.style.visibility="hidden",document.body.appendChild(ga),ln.current=ga}const oa=ln.current;oa.innerHTML="";const ha=Lottie.loadAnimation({container:oa,renderer:"canvas",loop:!0,autoplay:!0,animationData:questionMark});gn.current=ha,ha.addEventListener("DOMLoaded",()=>{const ga=oa.querySelector("canvas");if(!ga)return;const va=new ea(ga,{width:ga.width,height:ga.height,selectable:!1,hasControls:!1,evented:!1});dn.current=va;const Sa=new ot(aa.getWidth()/2+50,aa.getHeight()/5);va.setPositionByOrigin(Sa,"left","center"),aa.add(va),Hn.current=setInterval(()=>{aa.contains(va)&&aa.requestRenderAll()},33)})},la=(aa,oa,ha)=>{const Sa=new vr({width:100,height:100,fill:"#ffffff",stroke:"#cccccc",strokeWidth:1,rx:20,ry:20,shadow:new ds({color:"#ccc",blur:10,offsetX:2,offsetY:2})}),tl=new ko(aa.toString(),{fontSize:36,textAlign:"center",fill:"#333",fontFamily:"BMJUA"}),Zo=new ot(Sa.left+Sa.width/2,Sa.top+Sa.height/2);tl.setPositionByOrigin(Zo,"center","center");const Ta=new Er([Sa,tl],{...oa,evented:!0,selectable:!1,hoverCursor:"pointer"});return Ta.on("mousedown",()=>{const Qa=Ai.current;if(!Qa)return;const $a=Qa.text===INIT_ANSWER,Ma=$a?aa.toString():(Qa.text||"")+aa.toString();Qa.set({text:Ma}),$a&&bs(),ha.requestRenderAll()}),Ta.on("mouseover",()=>{Sa.set("fill","#f0f0f0"),ha.requestRenderAll()}),Ta.on("mouseout",()=>{Sa.set("fill","#ffffff"),ha.requestRenderAll()}),Ta},ra=aa=>{const oa=ze.current,ha=Ke.current;if(!oa||!ha)return;ha.set({text:aa});const ga=new ot(oa.getWidth()/2+50,oa.getHeight()/5);ha.setPositionByOrigin(ga,"right","center"),Cs(aa,oa),oa.requestRenderAll()},sa=()=>{const aa=ze.current,oa=Ai.current;!aa||!oa||(oa.set({text:INIT_ANSWER}),ia(aa),aa.requestRenderAll())};return{canvasRef:f,resetAnswer:sa,getCurrentAnswer:()=>{var aa;return((aa=Ai.current)==null?void 0:aa.text)||INIT_ANSWER}}};function MathQuiz(){const{step:qe}=useStepStore(Kn=>Kn),f=useHeaderStore(Kn=>Kn.setTitle),{handleCheckAnswer:ze}=useQuizHandler(),Ke=MATH_QUIZ_LIST[qe-1].question,Ai=MATH_QUIZ_LIST[qe-1].answer,{canvasRef:ln,resetAnswer:dn,getCurrentAnswer:gn}=useCanvas(Ke);reactExports.useEffect(()=>{f(MATH_TITLE)},[f]);const Hn=()=>{ze(gn,Ai,dn)};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center p-10 pt-0 box-border",children:[jsxRuntimeExports.jsx("canvas",{className:"rounded-2xl",ref:ln}),jsxRuntimeExports.jsx(CheckAnswerButton,{handleCheckAnswerButtonClick:Hn})]})}function AnswerFeedbackModal(){const{modalType:qe,modalMessage:f,closeModal:ze}=useModalStore(),Ke=useStepStore(Kn=>Kn.initStep),Ai=useHeaderStore(Kn=>Kn.resetLeftChance),ln=useNavigate();if(reactExports.useEffect(()=>{if(qe==="correct"||qe==="incorrect"){const Kn=setTimeout(()=>{ze()},2e3);return()=>clearTimeout(Kn)}},[qe,ze]),!qe)return null;const dn=()=>{Ke(),Ai(),ze()},gn=()=>{dn()},Hn=()=>{dn(),ln("/")};return jsxRuntimeExports.jsx("div",{className:"modal",children:jsxRuntimeExports.jsx("div",{className:"modal-overlay fixed inset-0 flex items-center justify-center z-50",style:{animation:"fadeIn 0.3s ease-out"},children:jsxRuntimeExports.jsxs("div",{className:"modal-content bg-white rounded-2xl shadow-2xl overflow-hidden relative",style:{width:"384px",maxWidth:"90vw",animation:"modalAppear 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:[jsxRuntimeExports.jsxs("div",{className:`h-20 relative overflow-hidden ${qe==="correct"||qe==="gameClear"?"bg-gradient-to-r from-green-400 to-green-500":"bg-gradient-to-r from-red-400 to-red-500"}`,children:[jsxRuntimeExports.jsx("div",{className:"absolute -top-4 -right-4 w-16 h-16 bg-white bg-opacity-20 rounded-full"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-2 -left-2 w-12 h-12 bg-white bg-opacity-10 rounded-full"}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-full",children:qe==="correct"||qe==="gameClear"?jsxRuntimeExports.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{animation:"bounceIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55)"},children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}):jsxRuntimeExports.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{animation:"shake 0.5s ease-in-out"},children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})})]}),jsxRuntimeExports.jsxs("div",{className:"p-8 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-gray-800 text-2xl font-bold mb-6",style:{fontFamily:"BMJUA"},children:f}),jsxRuntimeExports.jsx("div",{className:"relative mb-6 flex justify-center",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("img",{src:MODAL_IMAGE_URL[qe],alt:qe,className:"w-32 h-32 rounded-full shadow-lg border-4 border-white",style:{animation:"pulseGentle 2s ease-in-out infinite"}}),jsxRuntimeExports.jsx("div",{className:`absolute inset-0 rounded-full shadow-2xl ${qe==="correct"||qe==="gameClear"?"shadow-green-200":"shadow-red-200"}`,style:{zIndex:-1}})]})}),qe==="gameOver"||qe==="gameClear"&&jsxRuntimeExports.jsxs("div",{className:"flex justify-around mt-8",children:[jsxRuntimeExports.jsx("button",{onClick:gn,className:"px-6 py-3 bg-blue-500 text-white text-lg font-semibold rounded-lg shadow-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75 transition duration-150 ease-in-out",style:{fontFamily:"BMJUA"},children:""}),jsxRuntimeExports.jsx("button",{onClick:Hn,className:"px-6 py-3 bg-red-500 text-white text-lg font-semibold rounded-lg shadow-md hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-opacity-75 transition duration-150 ease-in-out",style:{fontFamily:"BMJUA"},children:""})]})]})]})})})}function Heart({isActive:qe}){return jsxRuntimeExports.jsx("svg",{className:`w-7 h-7  transition-all duration-500 ease-out drop-shadow-md animate-heartOff ${qe?"fill-rose-500 scale-120":"fill-gray-400 scale-100"}`,viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{d:`M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 
                     2 5.42 4.42 3 7.5 3c1.74 0 3.41 0.81 
                     4.5 2.09C13.09 3.81 14.76 3 16.5 3 
                     19.58 3 22 5.42 22 8.5c0 3.78-3.4 
                     6.86-8.55 11.54L12 21.35z`})})}function LeftChance(){const{leftChance:qe}=useHeaderStore(f=>f);return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("span",{className:"text-2xl text-white/80 tracking-tight",style:{fontFamily:"BMJUA"},children:" "}),jsxRuntimeExports.jsx("div",{className:"flex gap-1.5",children:[...Array(TOTAL_CHANCES)].map((f,ze)=>{const Ke=ze<qe;return jsxRuntimeExports.jsx(Heart,{isActive:Ke},ze)})})]})}function Header(){const qe=useNavigate(),{title:f,resetLeftChance:ze}=useHeaderStore(ln=>ln),Ke=useStepStore(ln=>ln.initStep),Ai=()=>{confirm(" ?")&&(Ke(),ze(),qe("/"))};return jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between w-full h-20 bg-[#5773b5] px-18",children:[jsxRuntimeExports.jsx("div",{className:"flex align-center justify-start",children:jsxRuntimeExports.jsx(LeftChance,{})}),jsxRuntimeExports.jsx("div",{className:"flex items-centers justify-center",children:jsxRuntimeExports.jsx("h1",{className:"text-3xl text-white",style:{fontFamily:"BMJUA"},children:f})}),jsxRuntimeExports.jsx("div",{className:"flex w-40 align-center justify-end",children:jsxRuntimeExports.jsx("button",{onClick:Ai,className:"bg-white text-[#1a2a4a] rounded-xl px-4 py-2 text-xl! shadow hover:bg-gray-100 transition cursor-pointer",style:{fontFamily:"BMJUA"},"aria-label":" ",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-1",children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M16 17L21 12M21 12L16 7M21 12H9M9 3H7.8C6.11984 3 5.27976 3 4.63803 3.32698C4.07354 3.6146 3.6146 4.07354 3.32698 4.63803C3 5.27976 3 6.11984 3 7.8V16.2C3 17.8802 3 18.7202 3.32698 19.362C3.6146 19.9265 4.07354 20.3854 4.63803 20.673C5.27976 21 6.11984 21 7.8 21H9",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})})})]})}function Connector({isSolved:qe}){return jsxRuntimeExports.jsx("div",{className:`w-20 h-2 mx-1 rounded-full transition-all duration-500 ${qe?"bg-[gold]":"bg-[#f0f0f0]"} `})}function Star({isSolved:qe,isSolving:f,step:ze}){return jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"80",height:"80",viewBox:"0 0 256 256",className:f?"animate-star-solve":"",children:[jsxRuntimeExports.jsx("g",{transform:"translate(1.4066 1.4066) scale(2.81 2.81)",style:{stroke:"none",strokeWidth:0,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"none",fillRule:"nonzero",opacity:1},children:jsxRuntimeExports.jsx("path",{d:`M 47.755 3.765 l 11.525 23.353 c 0.448 0.907 1.313 1.535 2.314 1.681 
         l 25.772 3.745 c 2.52 0.366 3.527 3.463 1.703 5.241 
         L 70.42 55.962 c -0.724 0.706 -1.055 1.723 -0.884 2.72 
         l 4.402 25.667 c 0.431 2.51 -2.204 4.424 -4.458 3.239 
         L 46.43 75.47 c -0.895 -0.471 -1.965 -0.471 -2.86 0 
         L 20.519 87.588 c -2.254 1.185 -4.889 -0.729 -4.458 -3.239 
         l 4.402 -25.667 c 0.171 -0.997 -0.16 -2.014 -0.884 -2.72 
         L 0.931 37.784 c -1.824 -1.778 -0.817 -4.875 1.703 -5.241 
         l 25.772 -3.745 c 1.001 -0.145 1.866 -0.774 2.314 -1.681 
         L 42.245 3.765 C 43.372 1.481 46.628 1.481 47.755 3.765 z`,style:{stroke:f?"gold":"none",strokeWidth:3,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:qe?"gold":"#f0f0f0",fillRule:"nonzero",opacity:1}})}),jsxRuntimeExports.jsx("text",{x:"128",y:"140",fontSize:"82",fontWeight:"bold",textAnchor:"middle",fill:"black",fontFamily:"BMJUA",dominantBaseline:"middle",children:ze})]})}function ProgressBar(){const qe=useStepStore(f=>f.step);return jsxRuntimeExports.jsx("div",{className:"w-full h-32 flex items-center justify-center z-10",children:Array.from({length:TOTAL_STEPS}).map((f,ze)=>{const Ke=ze+1,Ai=Ke<qe,ln=Ke===qe;return jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Star,{isSolved:Ai,isSolving:ln,step:Ke}),Ke<TOTAL_STEPS&&jsxRuntimeExports.jsx(Connector,{isSolved:qe>Ke})]},Ke)})})}function QuizLayout(){return jsxRuntimeExports.jsxs("div",{className:"quiz-layout",children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx(ProgressBar,{}),jsxRuntimeExports.jsx("div",{className:"quiz-content",children:jsxRuntimeExports.jsx(Outlet,{})}),jsxRuntimeExports.jsx(AnswerFeedbackModal,{})]})}const router=createBrowserRouter([{path:"/",element:jsxRuntimeExports.jsx(Home,{})},{path:"/quiz",element:jsxRuntimeExports.jsx(QuizLayout,{}),children:[{path:"math",element:jsxRuntimeExports.jsx(MathQuiz,{})},{path:"english",element:jsxRuntimeExports.jsx(EngQuiz,{})},{path:"idol",element:jsxRuntimeExports.jsx(IdolQuiz,{})}]}]);clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(RouterProvider,{router})}));
